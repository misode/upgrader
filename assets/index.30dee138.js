var fn=Object.defineProperty,dn=Object.defineProperties;var pn=Object.getOwnPropertyDescriptors;var Xt=Object.getOwnPropertySymbols;var hn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable;var Jt=(e,r,t)=>r in e?fn(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ie=(e,r)=>{for(var t in r||(r={}))hn.call(r,t)&&Jt(e,t,r[t]);if(Xt)for(var t of Xt(r))_n.call(r,t)&&Jt(e,t,r[t]);return e},be=(e,r)=>dn(e,pn(r));const mn=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))p(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&p(f)}).observe(document,{childList:!0,subtree:!0});function t(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerpolicy&&(n.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?n.credentials="include":c.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(c){if(c.ep)return;c.ep=!0;const n=t(c);fetch(c.href,n)}};mn();var ne,Je,Or,Vt,pt={},Zt=[],vn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Le(e,r){for(var t in r)e[t]=r[t];return e}function Fr(e){var r=e.parentNode;r&&r.removeChild(e)}function K(e,r,t){var p,c,n,f=arguments,i={};for(n in r)n=="key"?p=r[n]:n=="ref"?c=r[n]:i[n]=r[n];if(arguments.length>3)for(t=[t],n=3;n<arguments.length;n++)t.push(f[n]);if(t!=null&&(i.children=t),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return lt(e,i,p,c,null)}function lt(e,r,t,p,c){var n={type:e,props:r,key:t,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:c==null?++ne.__v:c};return ne.vnode!=null&&ne.vnode(n),n}function Ge(e){return e.children}function ut(e,r){this.props=e,this.context=r}function rt(e,r){if(r==null)return e.__?rt(e.__,e.__.__k.indexOf(e)+1):null;for(var t;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?rt(e):null}function Tr(e){var r,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return Tr(e)}}function Qt(e){(!e.__d&&(e.__d=!0)&&Je.push(e)&&!ht.__r++||Vt!==ne.debounceRendering)&&((Vt=ne.debounceRendering)||Or)(ht)}function ht(){for(var e;ht.__r=Je.length;)e=Je.sort(function(r,t){return r.__v.__b-t.__v.__b}),Je=[],e.some(function(r){var t,p,c,n,f,i;r.__d&&(f=(n=(t=r).__v).__e,(i=t.__P)&&(p=[],(c=Le({},n)).__v=n.__v+1,Gt(i,n,c,t.__n,i.ownerSVGElement!==void 0,n.__h!=null?[f]:null,p,f==null?rt(n):f,n.__h),Lr(p,n),n.__e!=f&&Tr(n)))})}function Rr(e,r,t,p,c,n,f,i,m,y){var u,g,b,o,d,l,a,v=p&&p.__k||Zt,h=v.length;for(t.__k=[],u=0;u<r.length;u++)if((o=t.__k[u]=(o=r[u])==null||typeof o=="boolean"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"?lt(null,o,null,null,o):Array.isArray(o)?lt(Ge,{children:o},null,null,null):o.__b>0?lt(o.type,o.props,o.key,null,o.__v):o)!=null){if(o.__=t,o.__b=t.__b+1,(b=v[u])===null||b&&o.key==b.key&&o.type===b.type)v[u]=void 0;else for(g=0;g<h;g++){if((b=v[g])&&o.key==b.key&&o.type===b.type){v[g]=void 0;break}b=null}Gt(e,o,b=b||pt,c,n,f,i,m,y),d=o.__e,(g=o.ref)&&b.ref!=g&&(a||(a=[]),b.ref&&a.push(b.ref,null,o),a.push(g,o.__c||d,o)),d!=null?(l==null&&(l=d),typeof o.type=="function"&&o.__k!=null&&o.__k===b.__k?o.__d=m=Ir(o,m,e):m=Dr(e,o,b,v,d,m),y||t.type!=="option"?typeof t.type=="function"&&(t.__d=m):e.value=""):m&&b.__e==m&&m.parentNode!=e&&(m=rt(b))}for(t.__e=l,u=h;u--;)v[u]!=null&&(typeof t.type=="function"&&v[u].__e!=null&&v[u].__e==t.__d&&(t.__d=rt(p,u+1)),Pr(v[u],v[u]));if(a)for(u=0;u<a.length;u++)jr(a[u],a[++u],a[++u])}function Ir(e,r,t){var p,c;for(p=0;p<e.__k.length;p++)(c=e.__k[p])&&(c.__=e,r=typeof c.type=="function"?Ir(c,r,t):Dr(t,c,c,e.__k,c.__e,r));return r}function Dr(e,r,t,p,c,n){var f,i,m;if(r.__d!==void 0)f=r.__d,r.__d=void 0;else if(t==null||c!=n||c.parentNode==null)e:if(n==null||n.parentNode!==e)e.appendChild(c),f=null;else{for(i=n,m=0;(i=i.nextSibling)&&m<p.length;m+=2)if(i==c)break e;e.insertBefore(c,n),f=n}return f!==void 0?f:c.nextSibling}function gn(e,r,t,p,c){var n;for(n in t)n==="children"||n==="key"||n in r||_t(e,n,null,t[n],p);for(n in r)c&&typeof r[n]!="function"||n==="children"||n==="key"||n==="value"||n==="checked"||t[n]===r[n]||_t(e,n,r[n],t[n],p)}function er(e,r,t){r[0]==="-"?e.setProperty(r,t):e[r]=t==null?"":typeof t!="number"||vn.test(r)?t:t+"px"}function _t(e,r,t,p,c){var n;e:if(r==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof p=="string"&&(e.style.cssText=p=""),p)for(r in p)t&&r in t||er(e.style,r,"");if(t)for(r in t)p&&t[r]===p[r]||er(e.style,r,t[r])}else if(r[0]==="o"&&r[1]==="n")n=r!==(r=r.replace(/Capture$/,"")),r=r.toLowerCase()in e?r.toLowerCase().slice(2):r.slice(2),e.l||(e.l={}),e.l[r+n]=t,t?p||e.addEventListener(r,n?rr:tr,n):e.removeEventListener(r,n?rr:tr,n);else if(r!=="dangerouslySetInnerHTML"){if(c)r=r.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(r!=="href"&&r!=="list"&&r!=="form"&&r!=="tabIndex"&&r!=="download"&&r in e)try{e[r]=t==null?"":t;break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||r[0]==="a"&&r[1]==="r")?e.setAttribute(r,t):e.removeAttribute(r))}}function tr(e){this.l[e.type+!1](ne.event?ne.event(e):e)}function rr(e){this.l[e.type+!0](ne.event?ne.event(e):e)}function Gt(e,r,t,p,c,n,f,i,m){var y,u,g,b,o,d,l,a,v,h,k,z=r.type;if(r.constructor!==void 0)return null;t.__h!=null&&(m=t.__h,i=r.__e=t.__e,r.__h=null,n=[i]),(y=ne.__b)&&y(r);try{e:if(typeof z=="function"){if(a=r.props,v=(y=z.contextType)&&p[y.__c],h=y?v?v.props.value:y.__:p,t.__c?l=(u=r.__c=t.__c).__=u.__E:("prototype"in z&&z.prototype.render?r.__c=u=new z(a,h):(r.__c=u=new ut(a,h),u.constructor=z,u.render=bn),v&&v.sub(u),u.props=a,u.state||(u.state={}),u.context=h,u.__n=p,g=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),z.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Le({},u.__s)),Le(u.__s,z.getDerivedStateFromProps(a,u.__s))),b=u.props,o=u.state,g)z.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(z.getDerivedStateFromProps==null&&a!==b&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(a,h),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(a,u.__s,h)===!1||r.__v===t.__v){u.props=a,u.state=u.__s,r.__v!==t.__v&&(u.__d=!1),u.__v=r,r.__e=t.__e,r.__k=t.__k,r.__k.forEach(function(w){w&&(w.__=r)}),u.__h.length&&f.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(a,u.__s,h),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(b,o,d)})}u.context=h,u.props=a,u.state=u.__s,(y=ne.__r)&&y(r),u.__d=!1,u.__v=r,u.__P=e,y=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(p=Le(Le({},p),u.getChildContext())),g||u.getSnapshotBeforeUpdate==null||(d=u.getSnapshotBeforeUpdate(b,o)),k=y!=null&&y.type===Ge&&y.key==null?y.props.children:y,Rr(e,Array.isArray(k)?k:[k],r,t,p,c,n,f,i,m),u.base=r.__e,r.__h=null,u.__h.length&&f.push(u),l&&(u.__E=u.__=null),u.__e=!1}else n==null&&r.__v===t.__v?(r.__k=t.__k,r.__e=t.__e):r.__e=yn(t.__e,r,t,p,c,n,f,m);(y=ne.diffed)&&y(r)}catch(w){r.__v=null,(m||n!=null)&&(r.__e=i,r.__h=!!m,n[n.indexOf(i)]=null),ne.__e(w,r,t)}}function Lr(e,r){ne.__c&&ne.__c(r,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(p){p.call(t)})}catch(p){ne.__e(p,t.__v)}})}function yn(e,r,t,p,c,n,f,i){var m,y,u,g,b=t.props,o=r.props,d=r.type,l=0;if(d==="svg"&&(c=!0),n!=null){for(;l<n.length;l++)if((m=n[l])&&(m===e||(d?m.localName==d:m.nodeType==3))){e=m,n[l]=null;break}}if(e==null){if(d===null)return document.createTextNode(o);e=c?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,o.is&&o),n=null,i=!1}if(d===null)b===o||i&&e.data===o||(e.data=o);else{if(n=n&&Zt.slice.call(e.childNodes),y=(b=t.props||pt).dangerouslySetInnerHTML,u=o.dangerouslySetInnerHTML,!i){if(n!=null)for(b={},g=0;g<e.attributes.length;g++)b[e.attributes[g].name]=e.attributes[g].value;(u||y)&&(u&&(y&&u.__html==y.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(gn(e,o,b,c,i),u)r.__k=[];else if(l=r.props.children,Rr(e,Array.isArray(l)?l:[l],r,t,p,c&&d!=="foreignObject",n,f,e.firstChild,i),n!=null)for(l=n.length;l--;)n[l]!=null&&Fr(n[l]);i||("value"in o&&(l=o.value)!==void 0&&(l!==e.value||d==="progress"&&!l)&&_t(e,"value",l,b.value,!1),"checked"in o&&(l=o.checked)!==void 0&&l!==e.checked&&_t(e,"checked",l,b.checked,!1))}return e}function jr(e,r,t){try{typeof e=="function"?e(r):e.current=r}catch(p){ne.__e(p,t)}}function Pr(e,r,t){var p,c,n;if(ne.unmount&&ne.unmount(e),(p=e.ref)&&(p.current&&p.current!==e.__e||jr(p,null,r)),t||typeof e.type=="function"||(t=(c=e.__e)!=null),e.__e=e.__d=void 0,(p=e.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){ne.__e(f,r)}p.base=p.__P=null}if(p=e.__k)for(n=0;n<p.length;n++)p[n]&&Pr(p[n],r,t);c!=null&&Fr(c)}function bn(e,r,t){return this.constructor(e,t)}function wn(e,r,t){var p,c,n;ne.__&&ne.__(e,r),c=(p=typeof t=="function")?null:t&&t.__k||r.__k,n=[],Gt(r,e=(!p&&t||r).__k=K(Ge,null,[e]),c||pt,pt,r.ownerSVGElement!==void 0,!p&&t?[t]:c?null:r.firstChild?Zt.slice.call(r.childNodes):null,n,!p&&t?t:c?c.__e:r.firstChild,p),Lr(n,e)}ne={__e:function(e,r){for(var t,p,c;r=r.__;)if((t=r.__c)&&!t.__)try{if((p=t.constructor)&&p.getDerivedStateFromError!=null&&(t.setState(p.getDerivedStateFromError(e)),c=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(e),c=t.__d),c)return t.__E=t}catch(n){e=n}throw e},__v:0},ut.prototype.setState=function(e,r){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Le({},this.state),typeof e=="function"&&(e=e(Le({},t),this.props)),e&&Le(t,e),e!=null&&this.__v&&(r&&this.__h.push(r),Qt(this))},ut.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Qt(this))},ut.prototype.render=Ge,Je=[],Or=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ht.__r=0;var xt,xe,nr,mt=0,Tt=[],ir=ne.__b,or=ne.__r,ar=ne.diffed,sr=ne.__c,cr=ne.unmount;function Ht(e,r){ne.__h&&ne.__h(xe,e,mt||r),mt=0;var t=xe.__H||(xe.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function ke(e){return mt=1,kn(Nr,e)}function kn(e,r,t){var p=Ht(xt++,2);return p.t=e,p.__c||(p.__=[t?t(r):Nr(void 0,r),function(c){var n=p.t(p.__[0],c);p.__[0]!==n&&(p.__=[n,p.__[1]],p.__c.setState({}))}],p.__c=xe),p.__}function lr(e,r){var t=Ht(xt++,3);!ne.__s&&Br(t.__H,r)&&(t.__=e,t.__H=r,xe.__H.__h.push(t))}function Rt(e){return mt=5,It(function(){return{current:e}},[])}function It(e,r){var t=Ht(xt++,7);return Br(t.__H,r)&&(t.__=e(),t.__H=r,t.__h=e),t.__}function xn(){Tt.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(ft),e.__H.__h.forEach(Dt),e.__H.__h=[]}catch(r){e.__H.__h=[],ne.__e(r,e.__v)}}),Tt=[]}ne.__b=function(e){xe=null,ir&&ir(e)},ne.__r=function(e){or&&or(e),xt=0;var r=(xe=e.__c).__H;r&&(r.__h.forEach(ft),r.__h.forEach(Dt),r.__h=[])},ne.diffed=function(e){ar&&ar(e);var r=e.__c;r&&r.__H&&r.__H.__h.length&&(Tt.push(r)!==1&&nr===ne.requestAnimationFrame||((nr=ne.requestAnimationFrame)||function(t){var p,c=function(){clearTimeout(n),ur&&cancelAnimationFrame(p),setTimeout(t)},n=setTimeout(c,100);ur&&(p=requestAnimationFrame(c))})(xn)),xe=void 0},ne.__c=function(e,r){r.some(function(t){try{t.__h.forEach(ft),t.__h=t.__h.filter(function(p){return!p.__||Dt(p)})}catch(p){r.some(function(c){c.__h&&(c.__h=[])}),r=[],ne.__e(p,t.__v)}}),sr&&sr(e,r)},ne.unmount=function(e){cr&&cr(e);var r=e.__c;if(r&&r.__H)try{r.__H.__.forEach(ft)}catch(t){ne.__e(t,r.__v)}};var ur=typeof requestAnimationFrame=="function";function ft(e){var r=xe;typeof e.__c=="function"&&e.__c(),xe=r}function Dt(e){var r=xe;e.__c=e.__(),xe=r}function Br(e,r){return!e||e.length!==r.length||r.some(function(t,p){return t!==e[p]})}function Nr(e,r){return typeof r=="function"?r(e):r}var Lt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function st(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Mr={exports:{}};(function(e,r){(function(p,c){e.exports=c()})(Lt,function(){return function(t){var p={};function c(n){if(p[n])return p[n].exports;var f=p[n]={exports:{},id:n,loaded:!1};return t[n].call(f.exports,f,f.exports,c),f.loaded=!0,f.exports}return c.m=t,c.c=p,c.p="",c(0)}([function(t,p,c){var n,f;n=[c(1)],f=function(i){var m={},y=function(A,O,F){var N,Y,C={},R,_,D,V,U,re=new l(F),W=F&&F.traceFormat;if(W!=="chrome"&&W!=="firefox"){if(W)throw new Error('unknown traceFormat "'+W+'" :(');if(u()||o())W="chrome";else if(g()||b())W="firefox";else throw new Error("unknown browser :(")}W==="chrome"?(V=/^ +at.+\((.*):([0-9]+):([0-9]+)/,D=4,U=1):(V=/@(.*):([0-9]+):([0-9]+)/,D=4,U=0),N=A.split(`
`).slice(U);for(var ee=0;ee<N.length;ee++)Y=N[ee],!(F&&F.filter&&!F.filter(Y))&&(R=Y.match(V),R&&R.length===D&&(C[ee]=R,_=R[1],_.match(/<anonymous>/)||re.fetchScript(_)));re.sem.whenReady(function(){var j=v(N,C,re.mapForUri,W);O(j)})},u=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},g=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},b=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},o=function(){return document.documentMode&&document.documentMode>=11},d=function(){this.count=0,this.pending=[]};d.prototype.incr=function(){this.count++},d.prototype.decr=function(){this.count--,this.flush()},d.prototype.whenReady=function(A){this.pending.push(A),this.flush()},d.prototype.flush=function(){this.count===0&&(this.pending.forEach(function(A){A()}),this.pending=[])};var l=function(A){this.sem=new d,this.sync=A&&A.sync,this.mapForUri=A&&A.cacheGlobally?m:{}};l.prototype.ajax=function(A,O){var F=S(),N=this;F.onreadystatechange=function(){F.readyState==4&&O.call(N,F,A)},F.open("GET",A,!this.sync),F.send()},l.prototype.fetchScript=function(A){if(!(A in this.mapForUri))this.sem.incr(),this.mapForUri[A]=null;else return;this.ajax(A,this.onScriptLoad)};var a=new RegExp("^(?:[a-z]+:)?//","i");l.prototype.onScriptLoad=function(A,O){if(A.status===200||O.slice(0,7)==="file://"&&A.status===0){var F=A.responseText.match("//# [s]ourceMappingURL=(.*)[\\s]*$","m");if(F&&F.length===2){var N=F[1],Y=N.match("data:application/json;(charset=[^;]+;)?base64,(.*)");if(Y&&Y[2])this.mapForUri[O]=new i.SourceMapConsumer(atob(Y[2])),this.sem.decr();else{if(!a.test(N)){var C,R=O.lastIndexOf("/");R!==-1&&(C=O.slice(0,R+1),N=C+N)}this.ajax(N,function(_){(_.status===200||N.slice(0,7)==="file://"&&_.status===0)&&(this.mapForUri[O]=new i.SourceMapConsumer(_.responseText)),this.sem.decr()})}}else this.sem.decr()}else this.sem.decr()};var v=function(A,O,F,N){for(var Y=[],C,R=N==="chrome"?h:k,_=0;_<A.length;_++){var D=O[_];if(D){var V=D[1],U=parseInt(D[2],10),re=parseInt(D[3],10);if(C=F[V],C){var W=C.originalPositionFor({line:U,column:re});Y.push(z(W.source,W.line,W.column,W.name||R(A[_])))}else Y.push(z(V,U,re,R(A[_])))}else Y.push(A[_])}return Y};function h(A){var O=/ +at +([^ ]*).*/.exec(A);return O&&O[1]}function k(A){var O=/([^@]*)@.*/.exec(A);return O&&O[1]}var z=function(A,O,F,N){return"    at "+(N||"(unknown)")+" ("+A+":"+O+":"+F+")"},w=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];function S(){for(var A=!1,O=0;O<w.length;O++){try{A=w[O]()}catch{continue}break}return A}return{mapStackTrace:y}}.apply(p,n),f!==void 0&&(t.exports=f)},function(t,p,c){var n=c(2),f=c(3),i=c(4).ArraySet,m=c(5),y=c(7).quickSort;function u(d){var l=d;return typeof d=="string"&&(l=JSON.parse(d.replace(/^\)\]\}'/,""))),l.sections!=null?new o(l):new g(l)}u.fromSourceMap=function(d){return g.fromSourceMap(d)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(l,a){var v=l.charAt(a);return v===";"||v===","},u.prototype._parseMappings=function(l,a){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(l,a,v){var h=a||null,k=v||u.GENERATED_ORDER,z;switch(k){case u.GENERATED_ORDER:z=this._generatedMappings;break;case u.ORIGINAL_ORDER:z=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var w=this.sourceRoot;z.map(function(S){var A=S.source===null?null:this._sources.at(S.source);return A!=null&&w!=null&&(A=n.join(w,A)),{source:A,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(l,h)},u.prototype.allGeneratedPositionsFor=function(l){var a=n.getArg(l,"line"),v={source:n.getArg(l,"source"),originalLine:a,originalColumn:n.getArg(l,"column",0)};if(this.sourceRoot!=null&&(v.source=n.relative(this.sourceRoot,v.source)),!this._sources.has(v.source))return[];v.source=this._sources.indexOf(v.source);var h=[],k=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,f.LEAST_UPPER_BOUND);if(k>=0){var z=this._originalMappings[k];if(l.column===void 0)for(var w=z.originalLine;z&&z.originalLine===w;)h.push({line:n.getArg(z,"generatedLine",null),column:n.getArg(z,"generatedColumn",null),lastColumn:n.getArg(z,"lastGeneratedColumn",null)}),z=this._originalMappings[++k];else for(var S=z.originalColumn;z&&z.originalLine===a&&z.originalColumn==S;)h.push({line:n.getArg(z,"generatedLine",null),column:n.getArg(z,"generatedColumn",null),lastColumn:n.getArg(z,"lastGeneratedColumn",null)}),z=this._originalMappings[++k]}return h},p.SourceMapConsumer=u;function g(d){var l=d;typeof d=="string"&&(l=JSON.parse(d.replace(/^\)\]\}'/,"")));var a=n.getArg(l,"version"),v=n.getArg(l,"sources"),h=n.getArg(l,"names",[]),k=n.getArg(l,"sourceRoot",null),z=n.getArg(l,"sourcesContent",null),w=n.getArg(l,"mappings"),S=n.getArg(l,"file",null);if(a!=this._version)throw new Error("Unsupported version: "+a);v=v.map(String).map(n.normalize).map(function(A){return k&&n.isAbsolute(k)&&n.isAbsolute(A)?n.relative(k,A):A}),this._names=i.fromArray(h.map(String),!0),this._sources=i.fromArray(v,!0),this.sourceRoot=k,this.sourcesContent=z,this._mappings=w,this.file=S}g.prototype=Object.create(u.prototype),g.prototype.consumer=u,g.fromSourceMap=function(l){var a=Object.create(g.prototype),v=a._names=i.fromArray(l._names.toArray(),!0),h=a._sources=i.fromArray(l._sources.toArray(),!0);a.sourceRoot=l._sourceRoot,a.sourcesContent=l._generateSourcesContent(a._sources.toArray(),a.sourceRoot),a.file=l._file;for(var k=l._mappings.toArray().slice(),z=a.__generatedMappings=[],w=a.__originalMappings=[],S=0,A=k.length;S<A;S++){var O=k[S],F=new b;F.generatedLine=O.generatedLine,F.generatedColumn=O.generatedColumn,O.source&&(F.source=h.indexOf(O.source),F.originalLine=O.originalLine,F.originalColumn=O.originalColumn,O.name&&(F.name=v.indexOf(O.name)),w.push(F)),z.push(F)}return y(a.__originalMappings,n.compareByOriginalPositions),a},g.prototype._version=3,Object.defineProperty(g.prototype,"sources",{get:function(){return this._sources.toArray().map(function(d){return this.sourceRoot!=null?n.join(this.sourceRoot,d):d},this)}});function b(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}g.prototype._parseMappings=function(l,a){for(var v=1,h=0,k=0,z=0,w=0,S=0,A=l.length,O=0,F={},N={},Y=[],C=[],R,_,D,V,U;O<A;)if(l.charAt(O)===";")v++,O++,h=0;else if(l.charAt(O)===",")O++;else{for(R=new b,R.generatedLine=v,V=O;V<A&&!this._charIsMappingSeparator(l,V);V++);if(_=l.slice(O,V),D=F[_],D)O+=_.length;else{for(D=[];O<V;)m.decode(l,O,N),U=N.value,O=N.rest,D.push(U);if(D.length===2)throw new Error("Found a source, but no line and column");if(D.length===3)throw new Error("Found a source and line, but no column");F[_]=D}R.generatedColumn=h+D[0],h=R.generatedColumn,D.length>1&&(R.source=w+D[1],w+=D[1],R.originalLine=k+D[2],k=R.originalLine,R.originalLine+=1,R.originalColumn=z+D[3],z=R.originalColumn,D.length>4&&(R.name=S+D[4],S+=D[4])),C.push(R),typeof R.originalLine=="number"&&Y.push(R)}y(C,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=C,y(Y,n.compareByOriginalPositions),this.__originalMappings=Y},g.prototype._findMapping=function(l,a,v,h,k,z){if(l[v]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+l[v]);if(l[h]<0)throw new TypeError("Column must be greater than or equal to 0, got "+l[h]);return f.search(l,a,k,z)},g.prototype.computeColumnSpans=function(){for(var l=0;l<this._generatedMappings.length;++l){var a=this._generatedMappings[l];if(l+1<this._generatedMappings.length){var v=this._generatedMappings[l+1];if(a.generatedLine===v.generatedLine){a.lastGeneratedColumn=v.generatedColumn-1;continue}}a.lastGeneratedColumn=1/0}},g.prototype.originalPositionFor=function(l){var a={generatedLine:n.getArg(l,"line"),generatedColumn:n.getArg(l,"column")},v=this._findMapping(a,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(l,"bias",u.GREATEST_LOWER_BOUND));if(v>=0){var h=this._generatedMappings[v];if(h.generatedLine===a.generatedLine){var k=n.getArg(h,"source",null);k!==null&&(k=this._sources.at(k),this.sourceRoot!=null&&(k=n.join(this.sourceRoot,k)));var z=n.getArg(h,"name",null);return z!==null&&(z=this._names.at(z)),{source:k,line:n.getArg(h,"originalLine",null),column:n.getArg(h,"originalColumn",null),name:z}}}return{source:null,line:null,column:null,name:null}},g.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(l){return l==null}):!1},g.prototype.sourceContentFor=function(l,a){if(!this.sourcesContent)return null;if(this.sourceRoot!=null&&(l=n.relative(this.sourceRoot,l)),this._sources.has(l))return this.sourcesContent[this._sources.indexOf(l)];var v;if(this.sourceRoot!=null&&(v=n.urlParse(this.sourceRoot))){var h=l.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(h))return this.sourcesContent[this._sources.indexOf(h)];if((!v.path||v.path=="/")&&this._sources.has("/"+l))return this.sourcesContent[this._sources.indexOf("/"+l)]}if(a)return null;throw new Error('"'+l+'" is not in the SourceMap.')},g.prototype.generatedPositionFor=function(l){var a=n.getArg(l,"source");if(this.sourceRoot!=null&&(a=n.relative(this.sourceRoot,a)),!this._sources.has(a))return{line:null,column:null,lastColumn:null};a=this._sources.indexOf(a);var v={source:a,originalLine:n.getArg(l,"line"),originalColumn:n.getArg(l,"column")},h=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(l,"bias",u.GREATEST_LOWER_BOUND));if(h>=0){var k=this._originalMappings[h];if(k.source===v.source)return{line:n.getArg(k,"generatedLine",null),column:n.getArg(k,"generatedColumn",null),lastColumn:n.getArg(k,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},p.BasicSourceMapConsumer=g;function o(d){var l=d;typeof d=="string"&&(l=JSON.parse(d.replace(/^\)\]\}'/,"")));var a=n.getArg(l,"version"),v=n.getArg(l,"sections");if(a!=this._version)throw new Error("Unsupported version: "+a);this._sources=new i,this._names=new i;var h={line:-1,column:0};this._sections=v.map(function(k){if(k.url)throw new Error("Support for url field in sections not implemented.");var z=n.getArg(k,"offset"),w=n.getArg(z,"line"),S=n.getArg(z,"column");if(w<h.line||w===h.line&&S<h.column)throw new Error("Section offsets must be ordered and non-overlapping.");return h=z,{generatedOffset:{generatedLine:w+1,generatedColumn:S+1},consumer:new u(n.getArg(k,"map"))}})}o.prototype=Object.create(u.prototype),o.prototype.constructor=u,o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){for(var d=[],l=0;l<this._sections.length;l++)for(var a=0;a<this._sections[l].consumer.sources.length;a++)d.push(this._sections[l].consumer.sources[a]);return d}}),o.prototype.originalPositionFor=function(l){var a={generatedLine:n.getArg(l,"line"),generatedColumn:n.getArg(l,"column")},v=f.search(a,this._sections,function(k,z){var w=k.generatedLine-z.generatedOffset.generatedLine;return w||k.generatedColumn-z.generatedOffset.generatedColumn}),h=this._sections[v];return h?h.consumer.originalPositionFor({line:a.generatedLine-(h.generatedOffset.generatedLine-1),column:a.generatedColumn-(h.generatedOffset.generatedLine===a.generatedLine?h.generatedOffset.generatedColumn-1:0),bias:l.bias}):{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(l){return l.consumer.hasContentsOfAllSources()})},o.prototype.sourceContentFor=function(l,a){for(var v=0;v<this._sections.length;v++){var h=this._sections[v],k=h.consumer.sourceContentFor(l,!0);if(k)return k}if(a)return null;throw new Error('"'+l+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(l){for(var a=0;a<this._sections.length;a++){var v=this._sections[a];if(v.consumer.sources.indexOf(n.getArg(l,"source"))!==-1){var h=v.consumer.generatedPositionFor(l);if(h){var k={line:h.line+(v.generatedOffset.generatedLine-1),column:h.column+(v.generatedOffset.generatedLine===h.line?v.generatedOffset.generatedColumn-1:0)};return k}}}return{line:null,column:null}},o.prototype._parseMappings=function(l,a){this.__generatedMappings=[],this.__originalMappings=[];for(var v=0;v<this._sections.length;v++)for(var h=this._sections[v],k=h.consumer._generatedMappings,z=0;z<k.length;z++){var w=k[z],S=h.consumer._sources.at(w.source);h.consumer.sourceRoot!==null&&(S=n.join(h.consumer.sourceRoot,S)),this._sources.add(S),S=this._sources.indexOf(S);var A=h.consumer._names.at(w.name);this._names.add(A),A=this._names.indexOf(A);var O={source:S,generatedLine:w.generatedLine+(h.generatedOffset.generatedLine-1),generatedColumn:w.generatedColumn+(h.generatedOffset.generatedLine===w.generatedLine?h.generatedOffset.generatedColumn-1:0),originalLine:w.originalLine,originalColumn:w.originalColumn,name:A};this.__generatedMappings.push(O),typeof O.originalLine=="number"&&this.__originalMappings.push(O)}y(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),y(this.__originalMappings,n.compareByOriginalPositions)},p.IndexedSourceMapConsumer=o},function(t,p){function c(w,S,A){if(S in w)return w[S];if(arguments.length===3)return A;throw new Error('"'+S+'" is a required argument.')}p.getArg=c;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,f=/^data:.+\,.+$/;function i(w){var S=w.match(n);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}p.urlParse=i;function m(w){var S="";return w.scheme&&(S+=w.scheme+":"),S+="//",w.auth&&(S+=w.auth+"@"),w.host&&(S+=w.host),w.port&&(S+=":"+w.port),w.path&&(S+=w.path),S}p.urlGenerate=m;function y(w){var S=w,A=i(w);if(A){if(!A.path)return w;S=A.path}for(var O=p.isAbsolute(S),F=S.split(/\/+/),N,Y=0,C=F.length-1;C>=0;C--)N=F[C],N==="."?F.splice(C,1):N===".."?Y++:Y>0&&(N===""?(F.splice(C+1,Y),Y=0):(F.splice(C,2),Y--));return S=F.join("/"),S===""&&(S=O?"/":"."),A?(A.path=S,m(A)):S}p.normalize=y;function u(w,S){w===""&&(w="."),S===""&&(S=".");var A=i(S),O=i(w);if(O&&(w=O.path||"/"),A&&!A.scheme)return O&&(A.scheme=O.scheme),m(A);if(A||S.match(f))return S;if(O&&!O.host&&!O.path)return O.host=S,m(O);var F=S.charAt(0)==="/"?S:y(w.replace(/\/+$/,"")+"/"+S);return O?(O.path=F,m(O)):F}p.join=u,p.isAbsolute=function(w){return w.charAt(0)==="/"||!!w.match(n)};function g(w,S){w===""&&(w="."),w=w.replace(/\/$/,"");for(var A=0;S.indexOf(w+"/")!==0;){var O=w.lastIndexOf("/");if(O<0||(w=w.slice(0,O),w.match(/^([^\/]+:\/)?\/*$/)))return S;++A}return Array(A+1).join("../")+S.substr(w.length+1)}p.relative=g;var b=function(){var w=Object.create(null);return!("__proto__"in w)}();function o(w){return w}function d(w){return a(w)?"$"+w:w}p.toSetString=b?o:d;function l(w){return a(w)?w.slice(1):w}p.fromSetString=b?o:l;function a(w){if(!w)return!1;var S=w.length;if(S<9||w.charCodeAt(S-1)!==95||w.charCodeAt(S-2)!==95||w.charCodeAt(S-3)!==111||w.charCodeAt(S-4)!==116||w.charCodeAt(S-5)!==111||w.charCodeAt(S-6)!==114||w.charCodeAt(S-7)!==112||w.charCodeAt(S-8)!==95||w.charCodeAt(S-9)!==95)return!1;for(var A=S-10;A>=0;A--)if(w.charCodeAt(A)!==36)return!1;return!0}function v(w,S,A){var O=w.source-S.source;return O!==0||(O=w.originalLine-S.originalLine,O!==0)||(O=w.originalColumn-S.originalColumn,O!==0||A)||(O=w.generatedColumn-S.generatedColumn,O!==0)||(O=w.generatedLine-S.generatedLine,O!==0)?O:w.name-S.name}p.compareByOriginalPositions=v;function h(w,S,A){var O=w.generatedLine-S.generatedLine;return O!==0||(O=w.generatedColumn-S.generatedColumn,O!==0||A)||(O=w.source-S.source,O!==0)||(O=w.originalLine-S.originalLine,O!==0)||(O=w.originalColumn-S.originalColumn,O!==0)?O:w.name-S.name}p.compareByGeneratedPositionsDeflated=h;function k(w,S){return w===S?0:w>S?1:-1}function z(w,S){var A=w.generatedLine-S.generatedLine;return A!==0||(A=w.generatedColumn-S.generatedColumn,A!==0)||(A=k(w.source,S.source),A!==0)||(A=w.originalLine-S.originalLine,A!==0)||(A=w.originalColumn-S.originalColumn,A!==0)?A:k(w.name,S.name)}p.compareByGeneratedPositionsInflated=z},function(t,p){p.GREATEST_LOWER_BOUND=1,p.LEAST_UPPER_BOUND=2;function c(n,f,i,m,y,u){var g=Math.floor((f-n)/2)+n,b=y(i,m[g],!0);return b===0?g:b>0?f-g>1?c(g,f,i,m,y,u):u==p.LEAST_UPPER_BOUND?f<m.length?f:-1:g:g-n>1?c(n,g,i,m,y,u):u==p.LEAST_UPPER_BOUND?g:n<0?-1:n}p.search=function(f,i,m,y){if(i.length===0)return-1;var u=c(-1,i.length,f,i,m,y||p.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&m(i[u],i[u-1],!0)===0;)--u;return u}},function(t,p,c){var n=c(2),f=Object.prototype.hasOwnProperty;function i(){this._array=[],this._set=Object.create(null)}i.fromArray=function(y,u){for(var g=new i,b=0,o=y.length;b<o;b++)g.add(y[b],u);return g},i.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(y,u){var g=n.toSetString(y),b=f.call(this._set,g),o=this._array.length;(!b||u)&&this._array.push(y),b||(this._set[g]=o)},i.prototype.has=function(y){var u=n.toSetString(y);return f.call(this._set,u)},i.prototype.indexOf=function(y){var u=n.toSetString(y);if(f.call(this._set,u))return this._set[u];throw new Error('"'+y+'" is not in the set.')},i.prototype.at=function(y){if(y>=0&&y<this._array.length)return this._array[y];throw new Error("No element indexed by "+y)},i.prototype.toArray=function(){return this._array.slice()},p.ArraySet=i},function(t,p,c){var n=c(6),f=5,i=1<<f,m=i-1,y=i;function u(b){return b<0?(-b<<1)+1:(b<<1)+0}function g(b){var o=(b&1)===1,d=b>>1;return o?-d:d}p.encode=function(o){var d="",l,a=u(o);do l=a&m,a>>>=f,a>0&&(l|=y),d+=n.encode(l);while(a>0);return d},p.decode=function(o,d,l){var a=o.length,v=0,h=0,k,z;do{if(d>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(z=n.decode(o.charCodeAt(d++)),z===-1)throw new Error("Invalid base64 digit: "+o.charAt(d-1));k=!!(z&y),z&=m,v=v+(z<<h),h+=f}while(k);l.value=g(v),l.rest=d}},function(t,p){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");p.encode=function(n){if(0<=n&&n<c.length)return c[n];throw new TypeError("Must be between 0 and 63: "+n)},p.decode=function(n){var f=65,i=90,m=97,y=122,u=48,g=57,b=43,o=47,d=26,l=52;return f<=n&&n<=i?n-f:m<=n&&n<=y?n-m+d:u<=n&&n<=g?n-u+l:n==b?62:n==o?63:-1}},function(t,p){function c(i,m,y){var u=i[m];i[m]=i[y],i[y]=u}function n(i,m){return Math.round(i+Math.random()*(m-i))}function f(i,m,y,u){if(y<u){var g=n(y,u),b=y-1;c(i,g,u);for(var o=i[u],d=y;d<u;d++)m(i[d],o)<=0&&(b+=1,c(i,b,d));c(i,b+1,d);var l=b+1;f(i,m,y,l-1),f(i,m,l+1,u)}}p.quickSort=function(i,m){f(i,m,0,i.length-1)}}])})})(Mr);function $e({name:e,value:r,onChange:t}){return K("label",{class:"config"},K("input",{type:"checkbox",checked:r,onChange:p=>t(p.target.checked)}),e)}const De={alert:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})),download:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z"})),heart:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"})),report:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M1.75 1.5a.25.25 0 00-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h6.5a.25.25 0 00.25-.25v-9.5a.25.25 0 00-.25-.25H1.75zM0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0114.25 13H8.06l-2.573 2.573A1.457 1.457 0 013 14.543V13H1.75A1.75 1.75 0 010 11.25v-9.5zM9 9a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})),sync:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"})),x:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"}))},En=/^(?:( )+|\t+)/,nt="space",Ur="tab";function fr(e,r){const t=new Map;let p=0,c,n;for(const f of e.split(/\n/g)){if(!f)continue;let i,m,y,u;const g=f.match(En);if(g===null)p=0,c="";else{if(i=g[0].length,g[1]?m=nt:m=Ur,r&&m===nt&&i===1)continue;m!==c&&(p=0),c=m,y=0;const b=i-p;if(p=i,b===0)y++;else{const o=b>0?b:-b;n=Cn(m,o)}u=t.get(n),u===void 0?u=[1,0]:u=[++u[0],u[1]+y],t.set(n,u)}}return t}function Cn(e,r){return(e===nt?"s":"t")+String(r)}function Sn(e){const t=e[0]==="s"?nt:Ur,p=Number(e.slice(1));return{type:t,amount:p}}function An(e){let r,t=0,p=0;for(const[c,[n,f]]of e)(n>t||n===t&&f>p)&&(t=n,p=f,r=c);return r}function zn(e,r){return(e===nt?" ":"	").repeat(r)}var On=e=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=fr(e,!0);r.size===0&&(r=fr(e,!1));const t=An(r);let p,c=0,n="";return t!==void 0&&({type:p,amount:c}=Sn(t),n=zn(p,c)),{amount:c,type:p,indent:n}},$r={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(e,r){(function(t){e.exports=t()})(function(){return function t(p,c,n){function f(y,u){if(!c[y]){if(!p[y]){var g=typeof st=="function"&&st;if(!u&&g)return g(y,!0);if(i)return i(y,!0);var b=new Error("Cannot find module '"+y+"'");throw b.code="MODULE_NOT_FOUND",b}var o=c[y]={exports:{}};p[y][0].call(o.exports,function(d){var l=p[y][1][d];return f(l||d)},o,o.exports,t,p,c,n)}return c[y].exports}for(var i=typeof st=="function"&&st,m=0;m<n.length;m++)f(n[m]);return f}({1:[function(t,p,c){var n=t("./utils"),f=t("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(m){for(var y,u,g,b,o,d,l,a=[],v=0,h=m.length,k=h,z=n.getTypeOf(m)!=="string";v<m.length;)k=h-v,g=z?(y=m[v++],u=v<h?m[v++]:0,v<h?m[v++]:0):(y=m.charCodeAt(v++),u=v<h?m.charCodeAt(v++):0,v<h?m.charCodeAt(v++):0),b=y>>2,o=(3&y)<<4|u>>4,d=1<k?(15&u)<<2|g>>6:64,l=2<k?63&g:64,a.push(i.charAt(b)+i.charAt(o)+i.charAt(d)+i.charAt(l));return a.join("")},c.decode=function(m){var y,u,g,b,o,d,l=0,a=0,v="data:";if(m.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var h,k=3*(m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(m.charAt(m.length-1)===i.charAt(64)&&k--,m.charAt(m.length-2)===i.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=f.uint8array?new Uint8Array(0|k):new Array(0|k);l<m.length;)y=i.indexOf(m.charAt(l++))<<2|(b=i.indexOf(m.charAt(l++)))>>4,u=(15&b)<<4|(o=i.indexOf(m.charAt(l++)))>>2,g=(3&o)<<6|(d=i.indexOf(m.charAt(l++))),h[a++]=y,o!==64&&(h[a++]=u),d!==64&&(h[a++]=g);return h}},{"./support":30,"./utils":32}],2:[function(t,p,c){var n=t("./external"),f=t("./stream/DataWorker"),i=t("./stream/Crc32Probe"),m=t("./stream/DataLengthProbe");function y(u,g,b,o,d){this.compressedSize=u,this.uncompressedSize=g,this.crc32=b,this.compression=o,this.compressedContent=d}y.prototype={getContentWorker:function(){var u=new f(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),g=this;return u.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new f(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(u,g,b){return u.pipe(new i).pipe(new m("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new m("compressedSize")).withStreamInfo("compression",g)},p.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,p,c){var n=t("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(f){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},c.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,p,c){var n=t("./utils"),f=function(){for(var i,m=[],y=0;y<256;y++){i=y;for(var u=0;u<8;u++)i=1&i?3988292384^i>>>1:i>>>1;m[y]=i}return m}();p.exports=function(i,m){return i!==void 0&&i.length?n.getTypeOf(i)!=="string"?function(y,u,g,b){var o=f,d=b+g;y^=-1;for(var l=b;l<d;l++)y=y>>>8^o[255&(y^u[l])];return-1^y}(0|m,i,i.length,0):function(y,u,g,b){var o=f,d=b+g;y^=-1;for(var l=b;l<d;l++)y=y>>>8^o[255&(y^u.charCodeAt(l))];return-1^y}(0|m,i,i.length,0):0}},{"./utils":32}],5:[function(t,p,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(t,p,c){var n=null;n=typeof Promise!="undefined"?Promise:t("lie"),p.exports={Promise:n}},{lie:37}],7:[function(t,p,c){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",f=t("pako"),i=t("./utils"),m=t("./stream/GenericWorker"),y=n?"uint8array":"array";function u(g,b){m.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}c.magic="\b\0",i.inherits(u,m),u.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(y,g.data),!1)},u.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},c.compressWorker=function(g){return new u("Deflate",g)},c.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,p,c){function n(o,d){var l,a="";for(l=0;l<d;l++)a+=String.fromCharCode(255&o),o>>>=8;return a}function f(o,d,l,a,v,h){var k,z,w=o.file,S=o.compression,A=h!==y.utf8encode,O=i.transformTo("string",h(w.name)),F=i.transformTo("string",y.utf8encode(w.name)),N=w.comment,Y=i.transformTo("string",h(N)),C=i.transformTo("string",y.utf8encode(N)),R=F.length!==w.name.length,_=C.length!==N.length,D="",V="",U="",re=w.dir,W=w.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};d&&!l||(ee.crc32=o.crc32,ee.compressedSize=o.compressedSize,ee.uncompressedSize=o.uncompressedSize);var j=0;d&&(j|=8),A||!R&&!_||(j|=2048);var L=0,te=0;re&&(L|=16),v==="UNIX"?(te=798,L|=function(q,le){var he=q;return q||(he=le?16893:33204),(65535&he)<<16}(w.unixPermissions,re)):(te=20,L|=function(q){return 63&(q||0)}(w.dosPermissions)),k=W.getUTCHours(),k<<=6,k|=W.getUTCMinutes(),k<<=5,k|=W.getUTCSeconds()/2,z=W.getUTCFullYear()-1980,z<<=4,z|=W.getUTCMonth()+1,z<<=5,z|=W.getUTCDate(),R&&(V=n(1,1)+n(u(O),4)+F,D+="up"+n(V.length,2)+V),_&&(U=n(1,1)+n(u(Y),4)+C,D+="uc"+n(U.length,2)+U);var X="";return X+=`
\0`,X+=n(j,2),X+=S.magic,X+=n(k,2),X+=n(z,2),X+=n(ee.crc32,4),X+=n(ee.compressedSize,4),X+=n(ee.uncompressedSize,4),X+=n(O.length,2),X+=n(D.length,2),{fileRecord:g.LOCAL_FILE_HEADER+X+O+D,dirRecord:g.CENTRAL_FILE_HEADER+n(te,2)+X+n(Y.length,2)+"\0\0\0\0"+n(L,4)+n(a,4)+O+D+Y}}var i=t("../utils"),m=t("../stream/GenericWorker"),y=t("../utf8"),u=t("../crc32"),g=t("../signature");function b(o,d,l,a){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=l,this.encodeFileName=a,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(b,m),b.prototype.push=function(o){var d=o.meta.percent||0,l=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,m.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:l?(d+100*(l-a-1))/l:100}}))},b.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var d=this.streamFiles&&!o.file.dir;if(d){var l=f(o,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(o){this.accumulate=!1;var d=this.streamFiles&&!o.file.dir,l=f(o,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),d)this.push({data:function(a){return g.DATA_DESCRIPTOR+n(a.crc32,4)+n(a.compressedSize,4)+n(a.uncompressedSize,4)}(o),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var o=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var l=this.bytesWritten-o,a=function(v,h,k,z,w){var S=i.transformTo("string",w(z));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(v,2)+n(v,2)+n(h,4)+n(k,4)+n(S.length,2)+S}(this.dirRecords.length,l,o,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(o){this._sources.push(o);var d=this;return o.on("data",function(l){d.processChunk(l)}),o.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),o.on("error",function(l){d.error(l)}),this},b.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(o){var d=this._sources;if(!m.prototype.error.call(this,o))return!1;for(var l=0;l<d.length;l++)try{d[l].error(o)}catch{}return!0},b.prototype.lock=function(){m.prototype.lock.call(this);for(var o=this._sources,d=0;d<o.length;d++)o[d].lock()},p.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,p,c){var n=t("../compressions"),f=t("./ZipFileWorker");c.generateWorker=function(i,m,y){var u=new f(m.streamFiles,y,m.platform,m.encodeFileName),g=0;try{i.forEach(function(b,o){g++;var d=function(h,k){var z=h||k,w=n[z];if(!w)throw new Error(z+" is not a valid compression method !");return w}(o.options.compression,m.compression),l=o.options.compressionOptions||m.compressionOptions||{},a=o.dir,v=o.date;o._compressWorker(d,l).withStreamInfo("file",{name:b,dir:a,date:v,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(u)}),u.entriesCount=g}catch(b){u.error(b)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,p,c){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new n;for(var i in this)typeof this[i]!="function"&&(f[i]=this[i]);return f}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.7.1",n.loadAsync=function(f,i){return new n().loadAsync(f,i)},n.external=t("./external"),p.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,p,c){var n=t("./utils"),f=t("./external"),i=t("./utf8"),m=t("./zipEntries"),y=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function g(b){return new f.Promise(function(o,d){var l=b.decompressed.getContentWorker().pipe(new y);l.on("error",function(a){d(a)}).on("end",function(){l.streamInfo.crc32!==b.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}p.exports=function(b,o){var d=this;return o=n.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),u.isNode&&u.isStream(b)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",b,!0,o.optimizedBinaryString,o.base64).then(function(l){var a=new m(o);return a.load(l),a}).then(function(l){var a=[f.Promise.resolve(l)],v=l.files;if(o.checkCRC32)for(var h=0;h<v.length;h++)a.push(g(v[h]));return f.Promise.all(a)}).then(function(l){for(var a=l.shift(),v=a.files,h=0;h<v.length;h++){var k=v[h];d.file(k.fileNameStr,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:o.createFolders})}return a.zipComment.length&&(d.comment=a.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,p,c){var n=t("../utils"),f=t("../stream/GenericWorker");function i(m,y){f.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(y)}n.inherits(i,f),i.prototype._bindStream=function(m){var y=this;(this._stream=m).pause(),m.on("data",function(u){y.push({data:u,meta:{percent:0}})}).on("error",function(u){y.isPaused?this.generatedError=u:y.error(u)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},i.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,p,c){var n=t("readable-stream").Readable;function f(i,m,y){n.call(this,m),this._helper=i;var u=this;i.on("data",function(g,b){u.push(g)||u._helper.pause(),y&&y(b)}).on("error",function(g){u.emit("error",g)}).on("end",function(){u.push(null)})}t("../utils").inherits(f,n),f.prototype._read=function(){this._helper.resume()},p.exports=f},{"../utils":32,"readable-stream":16}],14:[function(t,p,c){p.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(n,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,f);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,f)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var f=new Buffer(n);return f.fill(0),f},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,p,c){function n(w,S,A){var O,F=i.getTypeOf(S),N=i.extend(A||{},u);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(w=v(w)),N.createFolders&&(O=a(w))&&h.call(this,O,!0);var Y=F==="string"&&N.binary===!1&&N.base64===!1;A&&A.binary!==void 0||(N.binary=!Y),(S instanceof g&&S.uncompressedSize===0||N.dir||!S||S.length===0)&&(N.base64=!1,N.binary=!0,S="",N.compression="STORE",F="string");var C=null;C=S instanceof g||S instanceof m?S:d.isNode&&d.isStream(S)?new l(w,S):i.prepareContent(w,S,N.binary,N.optimizedBinaryString,N.base64);var R=new b(w,C,N);this.files[w]=R}var f=t("./utf8"),i=t("./utils"),m=t("./stream/GenericWorker"),y=t("./stream/StreamHelper"),u=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),o=t("./generate"),d=t("./nodejsUtils"),l=t("./nodejs/NodejsStreamInputAdapter"),a=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},h=function(w,S){return S=S!==void 0?S:u.createFolders,w=v(w),this.files[w]||n.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function k(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,A,O;for(S in this.files)O=this.files[S],(A=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(A,O)},filter:function(w){var S=[];return this.forEach(function(A,O){w(A,O)&&S.push(O)}),S},file:function(w,S,A){if(arguments.length!==1)return w=this.root+w,n.call(this,w,S,A),this;if(k(w)){var O=w;return this.filter(function(N,Y){return!Y.dir&&O.test(N)})}var F=this.files[this.root+w];return F&&!F.dir?F:null},folder:function(w){if(!w)return this;if(k(w))return this.filter(function(F,N){return N.dir&&w.test(F)});var S=this.root+w,A=h.call(this,S),O=this.clone();return O.root=A.name,O},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var A=this.filter(function(F,N){return N.name.slice(0,w.length)===w}),O=0;O<A.length;O++)delete this.files[A[O].name];return this},generate:function(w){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,A={};try{if((A=i.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");i.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var O=A.comment||this.comment||"";S=o.generateWorker(this,A,O)}catch(F){(S=new m("error")).error(F)}return new y(S,A.type||"string",A.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};p.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,p,c){p.exports=t("stream")},{stream:void 0}],17:[function(t,p,c){var n=t("./DataReader");function f(i){n.call(this,i);for(var m=0;m<this.data.length;m++)i[m]=255&i[m]}t("../utils").inherits(f,n),f.prototype.byteAt=function(i){return this.data[this.zero+i]},f.prototype.lastIndexOfSignature=function(i){for(var m=i.charCodeAt(0),y=i.charCodeAt(1),u=i.charCodeAt(2),g=i.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===m&&this.data[b+1]===y&&this.data[b+2]===u&&this.data[b+3]===g)return b-this.zero;return-1},f.prototype.readAndCheckSignature=function(i){var m=i.charCodeAt(0),y=i.charCodeAt(1),u=i.charCodeAt(2),g=i.charCodeAt(3),b=this.readData(4);return m===b[0]&&y===b[1]&&u===b[2]&&g===b[3]},f.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},p.exports=f},{"../utils":32,"./DataReader":18}],18:[function(t,p,c){var n=t("../utils");function f(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(i){},readInt:function(i){var m,y=0;for(this.checkOffset(i),m=this.index+i-1;m>=this.index;m--)y=(y<<8)+this.byteAt(m);return this.index+=i,y},readString:function(i){return n.transformTo("string",this.readData(i))},readData:function(i){},lastIndexOfSignature:function(i){},readAndCheckSignature:function(i){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},p.exports=f},{"../utils":32}],19:[function(t,p,c){var n=t("./Uint8ArrayReader");function f(i){n.call(this,i)}t("../utils").inherits(f,n),f.prototype.readData=function(i){this.checkOffset(i);var m=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},p.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,p,c){var n=t("./DataReader");function f(i){n.call(this,i)}t("../utils").inherits(f,n),f.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},f.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},f.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},f.prototype.readData=function(i){this.checkOffset(i);var m=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},p.exports=f},{"../utils":32,"./DataReader":18}],21:[function(t,p,c){var n=t("./ArrayReader");function f(i){n.call(this,i)}t("../utils").inherits(f,n),f.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},p.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(t,p,c){var n=t("../utils"),f=t("../support"),i=t("./ArrayReader"),m=t("./StringReader"),y=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");p.exports=function(g){var b=n.getTypeOf(g);return n.checkSupport(b),b!=="string"||f.uint8array?b==="nodebuffer"?new y(g):f.uint8array?new u(n.transformTo("uint8array",g)):new i(n.transformTo("array",g)):new m(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,p,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,p,c){var n=t("./GenericWorker"),f=t("../utils");function i(m){n.call(this,"ConvertWorker to "+m),this.destType=m}f.inherits(i,n),i.prototype.processChunk=function(m){this.push({data:f.transformTo(this.destType,m.data),meta:m.meta})},p.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,p,c){var n=t("./GenericWorker"),f=t("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(i,n),i.prototype.processChunk=function(m){this.streamInfo.crc32=f(m.data,this.streamInfo.crc32||0),this.push(m)},p.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,p,c){var n=t("../utils"),f=t("./GenericWorker");function i(m){f.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}n.inherits(i,f),i.prototype.processChunk=function(m){if(m){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+m.data.length}f.prototype.processChunk.call(this,m)},p.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,p,c){var n=t("../utils"),f=t("./GenericWorker");function i(m){f.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(u){y.dataIsReady=!0,y.data=u,y.max=u&&u.length||0,y.type=n.getTypeOf(u),y.isPaused||y._tickAndRepeat()},function(u){y.error(u)})}n.inherits(i,f),i.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,y);break;case"uint8array":m=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":m=this.data.slice(this.index,y)}return this.index=y,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,p,c){function n(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,i){return this._listeners[f].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,i){if(this._listeners[f])for(var m=0;m<this._listeners[f].length;m++)this._listeners[f][m].call(this,i)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var i=this;return f.on("data",function(m){i.processChunk(m)}),f.on("end",function(){i.end()}),f.on("error",function(m){i.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,i){return this.extraStreamInfo[f]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},p.exports=n},{}],29:[function(t,p,c){var n=t("../utils"),f=t("./ConvertWorker"),i=t("./GenericWorker"),m=t("../base64"),y=t("../support"),u=t("../external"),g=null;if(y.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(d,l){return new u.Promise(function(a,v){var h=[],k=d._internalType,z=d._outputType,w=d._mimeType;d.on("data",function(S,A){h.push(S),l&&l(A)}).on("error",function(S){h=[],v(S)}).on("end",function(){try{var S=function(A,O,F){switch(A){case"blob":return n.newBlob(n.transformTo("arraybuffer",O),F);case"base64":return m.encode(O);default:return n.transformTo(A,O)}}(z,function(A,O){var F,N=0,Y=null,C=0;for(F=0;F<O.length;F++)C+=O[F].length;switch(A){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(Y=new Uint8Array(C),F=0;F<O.length;F++)Y.set(O[F],N),N+=O[F].length;return Y;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+A+"'")}}(k,h),w);a(S)}catch(A){v(A)}h=[]}).resume()})}function o(d,l,a){var v=l;switch(l){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=l,this._mimeType=a,n.checkSupport(v),this._worker=d.pipe(new f(v)),d.lock()}catch(h){this._worker=new i("error"),this._worker.error(h)}}o.prototype={accumulate:function(d){return b(this,d)},on:function(d,l){var a=this;return d==="data"?this._worker.on(d,function(v){l.call(a,v.data,v.meta)}):this._worker.on(d,function(){n.delay(l,arguments,a)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},d)}},p.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,p,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",c.nodebuffer=typeof Buffer!="undefined",c.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")c.blob=!1;else{var n=new ArrayBuffer(0);try{c.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(n),c.blob=f.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!t("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(t,p,c){for(var n=t("./utils"),f=t("./support"),i=t("./nodejsUtils"),m=t("./stream/GenericWorker"),y=new Array(256),u=0;u<256;u++)y[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;y[254]=y[254]=1;function g(){m.call(this,"utf-8 decode"),this.leftOver=null}function b(){m.call(this,"utf-8 encode")}c.utf8encode=function(o){return f.nodebuffer?i.newBufferFrom(o,"utf-8"):function(d){var l,a,v,h,k,z=d.length,w=0;for(h=0;h<z;h++)(64512&(a=d.charCodeAt(h)))==55296&&h+1<z&&(64512&(v=d.charCodeAt(h+1)))==56320&&(a=65536+(a-55296<<10)+(v-56320),h++),w+=a<128?1:a<2048?2:a<65536?3:4;for(l=f.uint8array?new Uint8Array(w):new Array(w),h=k=0;k<w;h++)(64512&(a=d.charCodeAt(h)))==55296&&h+1<z&&(64512&(v=d.charCodeAt(h+1)))==56320&&(a=65536+(a-55296<<10)+(v-56320),h++),a<128?l[k++]=a:(a<2048?l[k++]=192|a>>>6:(a<65536?l[k++]=224|a>>>12:(l[k++]=240|a>>>18,l[k++]=128|a>>>12&63),l[k++]=128|a>>>6&63),l[k++]=128|63&a);return l}(o)},c.utf8decode=function(o){return f.nodebuffer?n.transformTo("nodebuffer",o).toString("utf-8"):function(d){var l,a,v,h,k=d.length,z=new Array(2*k);for(l=a=0;l<k;)if((v=d[l++])<128)z[a++]=v;else if(4<(h=y[v]))z[a++]=65533,l+=h-1;else{for(v&=h===2?31:h===3?15:7;1<h&&l<k;)v=v<<6|63&d[l++],h--;1<h?z[a++]=65533:v<65536?z[a++]=v:(v-=65536,z[a++]=55296|v>>10&1023,z[a++]=56320|1023&v)}return z.length!==a&&(z.subarray?z=z.subarray(0,a):z.length=a),n.applyFromCharCode(z)}(o=n.transformTo(f.uint8array?"uint8array":"array",o))},n.inherits(g,m),g.prototype.processChunk=function(o){var d=n.transformTo(f.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var l=d;(d=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),d.set(l,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var a=function(h,k){var z;for((k=k||h.length)>h.length&&(k=h.length),z=k-1;0<=z&&(192&h[z])==128;)z--;return z<0||z===0?k:z+y[h[z]]>k?z:k}(d),v=d;a!==d.length&&(f.uint8array?(v=d.subarray(0,a),this.leftOver=d.subarray(a,d.length)):(v=d.slice(0,a),this.leftOver=d.slice(a,d.length))),this.push({data:c.utf8decode(v),meta:o.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=g,n.inherits(b,m),b.prototype.processChunk=function(o){this.push({data:c.utf8encode(o.data),meta:o.meta})},c.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,p,c){var n=t("./support"),f=t("./base64"),i=t("./nodejsUtils"),m=t("set-immediate-shim"),y=t("./external");function u(a){return a}function g(a,v){for(var h=0;h<a.length;++h)v[h]=255&a.charCodeAt(h);return v}c.newBlob=function(a,v){c.checkSupport("blob");try{return new Blob([a],{type:v})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(a),h.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(a,v,h){var k=[],z=0,w=a.length;if(w<=h)return String.fromCharCode.apply(null,a);for(;z<w;)v==="array"||v==="nodebuffer"?k.push(String.fromCharCode.apply(null,a.slice(z,Math.min(z+h,w)))):k.push(String.fromCharCode.apply(null,a.subarray(z,Math.min(z+h,w)))),z+=h;return k.join("")},stringifyByChar:function(a){for(var v="",h=0;h<a.length;h++)v+=String.fromCharCode(a[h]);return v},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function o(a){var v=65536,h=c.getTypeOf(a),k=!0;if(h==="uint8array"?k=b.applyCanBeUsed.uint8array:h==="nodebuffer"&&(k=b.applyCanBeUsed.nodebuffer),k)for(;1<v;)try{return b.stringifyByChunk(a,h,v)}catch{v=Math.floor(v/2)}return b.stringifyByChar(a)}function d(a,v){for(var h=0;h<a.length;h++)v[h]=a[h];return v}c.applyFromCharCode=o;var l={};l.string={string:u,array:function(a){return g(a,new Array(a.length))},arraybuffer:function(a){return l.string.uint8array(a).buffer},uint8array:function(a){return g(a,new Uint8Array(a.length))},nodebuffer:function(a){return g(a,i.allocBuffer(a.length))}},l.array={string:o,array:u,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return i.newBufferFrom(a)}},l.arraybuffer={string:function(a){return o(new Uint8Array(a))},array:function(a){return d(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:u,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return i.newBufferFrom(new Uint8Array(a))}},l.uint8array={string:o,array:function(a){return d(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:u,nodebuffer:function(a){return i.newBufferFrom(a)}},l.nodebuffer={string:o,array:function(a){return d(a,new Array(a.length))},arraybuffer:function(a){return l.nodebuffer.uint8array(a).buffer},uint8array:function(a){return d(a,new Uint8Array(a.length))},nodebuffer:u},c.transformTo=function(a,v){if(v=v||"",!a)return v;c.checkSupport(a);var h=c.getTypeOf(v);return l[h][a](v)},c.getTypeOf=function(a){return typeof a=="string"?"string":Object.prototype.toString.call(a)==="[object Array]"?"array":n.nodebuffer&&i.isBuffer(a)?"nodebuffer":n.uint8array&&a instanceof Uint8Array?"uint8array":n.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(a){if(!n[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var v,h,k="";for(h=0;h<(a||"").length;h++)k+="\\x"+((v=a.charCodeAt(h))<16?"0":"")+v.toString(16).toUpperCase();return k},c.delay=function(a,v,h){m(function(){a.apply(h||null,v||[])})},c.inherits=function(a,v){function h(){}h.prototype=v.prototype,a.prototype=new h},c.extend=function(){var a,v,h={};for(a=0;a<arguments.length;a++)for(v in arguments[a])arguments[a].hasOwnProperty(v)&&h[v]===void 0&&(h[v]=arguments[a][v]);return h},c.prepareContent=function(a,v,h,k,z){return y.Promise.resolve(v).then(function(w){return n.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader!="undefined"?new y.Promise(function(S,A){var O=new FileReader;O.onload=function(F){S(F.target.result)},O.onerror=function(F){A(F.target.error)},O.readAsArrayBuffer(w)}):w}).then(function(w){var S=c.getTypeOf(w);return S?(S==="arraybuffer"?w=c.transformTo("uint8array",w):S==="string"&&(z?w=f.decode(w):h&&k!==!0&&(w=function(A){return g(A,n.uint8array?new Uint8Array(A.length):new Array(A.length))}(w))),w):y.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,p,c){var n=t("./reader/readerFor"),f=t("./utils"),i=t("./signature"),m=t("./zipEntry"),y=(t("./utf8"),t("./support"));function u(g){this.files=[],this.loadOptions=g}u.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(b)+", expected "+f.pretty(g)+")")}},isSignature:function(g,b){var o=this.reader.index;this.reader.setIndex(g);var d=this.reader.readString(4)===b;return this.reader.setIndex(o),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=y.uint8array?"uint8array":"array",o=f.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,o,d=this.zip64EndOfCentralSize-44;0<d;)g=this.reader.readInt(2),b=this.reader.readInt(4),o=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(g=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var d=b-o;if(0<d)this.isSignature(b,i.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(g){this.reader=n(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,p,c){var n=t("./reader/readerFor"),f=t("./utils"),i=t("./compressedObject"),m=t("./crc32"),y=t("./utf8"),u=t("./compressions"),g=t("./support");function b(o,d){this.options=o,this.loadOptions=d}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var d,l;if(o.skip(22),this.fileNameLength=o.readInt(2),l=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(l),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=function(a){for(var v in u)if(u.hasOwnProperty(v)&&u[v].magic===a)return u[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,d,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var d=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(d),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(o){if(this.extraFields[1]){var d=n(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(o){var d,l,a,v=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<v;)d=o.readInt(2),l=o.readInt(2),a=o.readData(l),this.extraFields[d]={id:d,length:l,value:a};o.setIndex(v)},handleUTF8:function(){var o=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var l=f.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var a=this.findExtraFieldUnicodeComment();if(a!==null)this.fileCommentStr=a;else{var v=f.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var d=n(o.value);return d.readInt(1)!==1||m(this.fileName)!==d.readInt(4)?null:y.utf8decode(d.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var d=n(o.value);return d.readInt(1)!==1||m(this.fileComment)!==d.readInt(4)?null:y.utf8decode(d.readData(o.length-5))}return null}},p.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,p,c){function n(d,l,a){this.name=d,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this.unixPermissions=a.unixPermissions,this.dosPermissions=a.dosPermissions,this._data=l,this._dataBinary=a.binary,this.options={compression:a.compression,compressionOptions:a.compressionOptions}}var f=t("./stream/StreamHelper"),i=t("./stream/DataWorker"),m=t("./utf8"),y=t("./compressedObject"),u=t("./stream/GenericWorker");n.prototype={internalStream:function(d){var l=null,a="string";try{if(!d)throw new Error("No output type specified.");var v=(a=d.toLowerCase())==="string"||a==="text";a!=="binarystring"&&a!=="text"||(a="string"),l=this._decompressWorker();var h=!this._dataBinary;h&&!v&&(l=l.pipe(new m.Utf8EncodeWorker)),!h&&v&&(l=l.pipe(new m.Utf8DecodeWorker))}catch(k){(l=new u("error")).error(k)}return new f(l,a,"")},async:function(d,l){return this.internalStream(d).accumulate(l)},nodeStream:function(d,l){return this.internalStream(d||"nodebuffer").toNodejsStream(l)},_compressWorker:function(d,l){if(this._data instanceof y&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var a=this._decompressWorker();return this._dataBinary||(a=a.pipe(new m.Utf8EncodeWorker)),y.createWorkerFrom(a,d,l)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof u?this._data:new i(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<g.length;o++)n.prototype[g[o]]=b;p.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,p,c){(function(n){var f,i,m=n.MutationObserver||n.WebKitMutationObserver;if(m){var y=0,u=new m(d),g=n.document.createTextNode("");u.observe(g,{characterData:!0}),f=function(){g.data=y=++y%2}}else if(n.setImmediate||n.MessageChannel===void 0)f="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var l=n.document.createElement("script");l.onreadystatechange=function(){d(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},n.document.documentElement.appendChild(l)}:function(){setTimeout(d,0)};else{var b=new n.MessageChannel;b.port1.onmessage=d,f=function(){b.port2.postMessage(0)}}var o=[];function d(){var l,a;i=!0;for(var v=o.length;v;){for(a=o,o=[],l=-1;++l<v;)a[l]();v=o.length}i=!1}p.exports=function(l){o.push(l)!==1||i||f()}}).call(this,typeof Lt!="undefined"?Lt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,p,c){var n=t("immediate");function f(){}var i={},m=["REJECTED"],y=["FULFILLED"],u=["PENDING"];function g(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,v!==f&&l(this,v)}function b(v,h,k){this.promise=v,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function o(v,h,k){n(function(){var z;try{z=h(k)}catch(w){return i.reject(v,w)}z===v?i.reject(v,new TypeError("Cannot resolve promise with itself")):i.resolve(v,z)})}function d(v){var h=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof h=="function")return function(){h.apply(v,arguments)}}function l(v,h){var k=!1;function z(A){k||(k=!0,i.reject(v,A))}function w(A){k||(k=!0,i.resolve(v,A))}var S=a(function(){h(w,z)});S.status==="error"&&z(S.value)}function a(v,h){var k={};try{k.value=v(h),k.status="success"}catch(z){k.status="error",k.value=z}return k}(p.exports=g).prototype.finally=function(v){if(typeof v!="function")return this;var h=this.constructor;return this.then(function(k){return h.resolve(v()).then(function(){return k})},function(k){return h.resolve(v()).then(function(){throw k})})},g.prototype.catch=function(v){return this.then(null,v)},g.prototype.then=function(v,h){if(typeof v!="function"&&this.state===y||typeof h!="function"&&this.state===m)return this;var k=new this.constructor(f);return this.state!==u?o(k,this.state===y?v:h,this.outcome):this.queue.push(new b(k,v,h)),k},b.prototype.callFulfilled=function(v){i.resolve(this.promise,v)},b.prototype.otherCallFulfilled=function(v){o(this.promise,this.onFulfilled,v)},b.prototype.callRejected=function(v){i.reject(this.promise,v)},b.prototype.otherCallRejected=function(v){o(this.promise,this.onRejected,v)},i.resolve=function(v,h){var k=a(d,h);if(k.status==="error")return i.reject(v,k.value);var z=k.value;if(z)l(v,z);else{v.state=y,v.outcome=h;for(var w=-1,S=v.queue.length;++w<S;)v.queue[w].callFulfilled(h)}return v},i.reject=function(v,h){v.state=m,v.outcome=h;for(var k=-1,z=v.queue.length;++k<z;)v.queue[k].callRejected(h);return v},g.resolve=function(v){return v instanceof this?v:i.resolve(new this(f),v)},g.reject=function(v){var h=new this(f);return i.reject(h,v)},g.all=function(v){var h=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,z=!1;if(!k)return this.resolve([]);for(var w=new Array(k),S=0,A=-1,O=new this(f);++A<k;)F(v[A],A);return O;function F(N,Y){h.resolve(N).then(function(C){w[Y]=C,++S!==k||z||(z=!0,i.resolve(O,w))},function(C){z||(z=!0,i.reject(O,C))})}},g.race=function(v){var h=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,z=!1;if(!k)return this.resolve([]);for(var w=-1,S=new this(f);++w<k;)A=v[w],h.resolve(A).then(function(O){z||(z=!0,i.resolve(S,O))},function(O){z||(z=!0,i.reject(S,O))});var A;return S}},{immediate:36}],38:[function(t,p,c){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),p.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,p,c){var n=t("./zlib/deflate"),f=t("./utils/common"),i=t("./utils/strings"),m=t("./zlib/messages"),y=t("./zlib/zstream"),u=Object.prototype.toString,g=0,b=-1,o=0,d=8;function l(v){if(!(this instanceof l))return new l(v);this.options=f.assign({level:b,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},v||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var k=n.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(k!==g)throw new Error(m[k]);if(h.header&&n.deflateSetHeader(this.strm,h.header),h.dictionary){var z;if(z=typeof h.dictionary=="string"?i.string2buf(h.dictionary):u.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(k=n.deflateSetDictionary(this.strm,z))!==g)throw new Error(m[k]);this._dict_set=!0}}function a(v,h){var k=new l(h);if(k.push(v,!0),k.err)throw k.msg||m[k.err];return k.result}l.prototype.push=function(v,h){var k,z,w=this.strm,S=this.options.chunkSize;if(this.ended)return!1;z=h===~~h?h:h===!0?4:0,typeof v=="string"?w.input=i.string2buf(v):u.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new f.Buf8(S),w.next_out=0,w.avail_out=S),(k=n.deflate(w,z))!==1&&k!==g)return this.onEnd(k),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(f.shrinkBuf(w.output,w.next_out))):this.onData(f.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&k!==1);return z===4?(k=n.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===g):z!==2||(this.onEnd(g),!(w.avail_out=0))},l.prototype.onData=function(v){this.chunks.push(v)},l.prototype.onEnd=function(v){v===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},c.Deflate=l,c.deflate=a,c.deflateRaw=function(v,h){return(h=h||{}).raw=!0,a(v,h)},c.gzip=function(v,h){return(h=h||{}).gzip=!0,a(v,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,p,c){var n=t("./zlib/inflate"),f=t("./utils/common"),i=t("./utils/strings"),m=t("./zlib/constants"),y=t("./zlib/messages"),u=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function o(l){if(!(this instanceof o))return new o(l);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},l||{});var a=this.options;a.raw&&0<=a.windowBits&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),!(0<=a.windowBits&&a.windowBits<16)||l&&l.windowBits||(a.windowBits+=32),15<a.windowBits&&a.windowBits<48&&(15&a.windowBits)==0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=n.inflateInit2(this.strm,a.windowBits);if(v!==m.Z_OK)throw new Error(y[v]);this.header=new g,n.inflateGetHeader(this.strm,this.header)}function d(l,a){var v=new o(a);if(v.push(l,!0),v.err)throw v.msg||y[v.err];return v.result}o.prototype.push=function(l,a){var v,h,k,z,w,S,A=this.strm,O=this.options.chunkSize,F=this.options.dictionary,N=!1;if(this.ended)return!1;h=a===~~a?a:a===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof l=="string"?A.input=i.binstring2buf(l):b.call(l)==="[object ArrayBuffer]"?A.input=new Uint8Array(l):A.input=l,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new f.Buf8(O),A.next_out=0,A.avail_out=O),(v=n.inflate(A,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&F&&(S=typeof F=="string"?i.string2buf(F):b.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,v=n.inflateSetDictionary(this.strm,S)),v===m.Z_BUF_ERROR&&N===!0&&(v=m.Z_OK,N=!1),v!==m.Z_STREAM_END&&v!==m.Z_OK)return this.onEnd(v),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&v!==m.Z_STREAM_END&&(A.avail_in!==0||h!==m.Z_FINISH&&h!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=i.utf8border(A.output,A.next_out),z=A.next_out-k,w=i.buf2string(A.output,k),A.next_out=z,A.avail_out=O-z,z&&f.arraySet(A.output,A.output,k,z,0),this.onData(w)):this.onData(f.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(N=!0)}while((0<A.avail_in||A.avail_out===0)&&v!==m.Z_STREAM_END);return v===m.Z_STREAM_END&&(h=m.Z_FINISH),h===m.Z_FINISH?(v=n.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===m.Z_OK):h!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(A.avail_out=0))},o.prototype.onData=function(l){this.chunks.push(l)},o.prototype.onEnd=function(l){l===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},c.Inflate=o,c.inflate=d,c.inflateRaw=function(l,a){return(a=a||{}).raw=!0,d(l,a)},c.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,p,c){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";c.assign=function(m){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var u=y.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var g in u)u.hasOwnProperty(g)&&(m[g]=u[g])}}return m},c.shrinkBuf=function(m,y){return m.length===y?m:m.subarray?m.subarray(0,y):(m.length=y,m)};var f={arraySet:function(m,y,u,g,b){if(y.subarray&&m.subarray)m.set(y.subarray(u,u+g),b);else for(var o=0;o<g;o++)m[b+o]=y[u+o]},flattenChunks:function(m){var y,u,g,b,o,d;for(y=g=0,u=m.length;y<u;y++)g+=m[y].length;for(d=new Uint8Array(g),y=b=0,u=m.length;y<u;y++)o=m[y],d.set(o,b),b+=o.length;return d}},i={arraySet:function(m,y,u,g,b){for(var o=0;o<g;o++)m[b+o]=y[u+o]},flattenChunks:function(m){return[].concat.apply([],m)}};c.setTyped=function(m){m?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,f)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,i))},c.setTyped(n)},{}],42:[function(t,p,c){var n=t("./common"),f=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var m=new n.Buf8(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function u(g,b){if(b<65537&&(g.subarray&&i||!g.subarray&&f))return String.fromCharCode.apply(null,n.shrinkBuf(g,b));for(var o="",d=0;d<b;d++)o+=String.fromCharCode(g[d]);return o}m[254]=m[254]=1,c.string2buf=function(g){var b,o,d,l,a,v=g.length,h=0;for(l=0;l<v;l++)(64512&(o=g.charCodeAt(l)))==55296&&l+1<v&&(64512&(d=g.charCodeAt(l+1)))==56320&&(o=65536+(o-55296<<10)+(d-56320),l++),h+=o<128?1:o<2048?2:o<65536?3:4;for(b=new n.Buf8(h),l=a=0;a<h;l++)(64512&(o=g.charCodeAt(l)))==55296&&l+1<v&&(64512&(d=g.charCodeAt(l+1)))==56320&&(o=65536+(o-55296<<10)+(d-56320),l++),o<128?b[a++]=o:(o<2048?b[a++]=192|o>>>6:(o<65536?b[a++]=224|o>>>12:(b[a++]=240|o>>>18,b[a++]=128|o>>>12&63),b[a++]=128|o>>>6&63),b[a++]=128|63&o);return b},c.buf2binstring=function(g){return u(g,g.length)},c.binstring2buf=function(g){for(var b=new n.Buf8(g.length),o=0,d=b.length;o<d;o++)b[o]=g.charCodeAt(o);return b},c.buf2string=function(g,b){var o,d,l,a,v=b||g.length,h=new Array(2*v);for(o=d=0;o<v;)if((l=g[o++])<128)h[d++]=l;else if(4<(a=m[l]))h[d++]=65533,o+=a-1;else{for(l&=a===2?31:a===3?15:7;1<a&&o<v;)l=l<<6|63&g[o++],a--;1<a?h[d++]=65533:l<65536?h[d++]=l:(l-=65536,h[d++]=55296|l>>10&1023,h[d++]=56320|1023&l)}return u(h,d)},c.utf8border=function(g,b){var o;for((b=b||g.length)>g.length&&(b=g.length),o=b-1;0<=o&&(192&g[o])==128;)o--;return o<0||o===0?b:o+m[g[o]]>b?o:b}},{"./common":41}],43:[function(t,p,c){p.exports=function(n,f,i,m){for(var y=65535&n|0,u=n>>>16&65535|0,g=0;i!==0;){for(i-=g=2e3<i?2e3:i;u=u+(y=y+f[m++]|0)|0,--g;);y%=65521,u%=65521}return y|u<<16|0}},{}],44:[function(t,p,c){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,p,c){var n=function(){for(var f,i=[],m=0;m<256;m++){f=m;for(var y=0;y<8;y++)f=1&f?3988292384^f>>>1:f>>>1;i[m]=f}return i}();p.exports=function(f,i,m,y){var u=n,g=y+m;f^=-1;for(var b=y;b<g;b++)f=f>>>8^u[255&(f^i[b])];return-1^f}},{}],46:[function(t,p,c){var n,f=t("../utils/common"),i=t("./trees"),m=t("./adler32"),y=t("./crc32"),u=t("./messages"),g=0,b=4,o=0,d=-2,l=-1,a=4,v=2,h=8,k=9,z=286,w=30,S=19,A=2*z+1,O=15,F=3,N=258,Y=N+F+1,C=42,R=113,_=1,D=2,V=3,U=4;function re(s,M){return s.msg=u[M],M}function W(s){return(s<<1)-(4<s?9:0)}function ee(s){for(var M=s.length;0<=--M;)s[M]=0}function j(s){var M=s.state,P=M.pending;P>s.avail_out&&(P=s.avail_out),P!==0&&(f.arraySet(s.output,M.pending_buf,M.pending_out,P,s.next_out),s.next_out+=P,M.pending_out+=P,s.total_out+=P,s.avail_out-=P,M.pending-=P,M.pending===0&&(M.pending_out=0))}function L(s,M){i._tr_flush_block(s,0<=s.block_start?s.block_start:-1,s.strstart-s.block_start,M),s.block_start=s.strstart,j(s.strm)}function te(s,M){s.pending_buf[s.pending++]=M}function X(s,M){s.pending_buf[s.pending++]=M>>>8&255,s.pending_buf[s.pending++]=255&M}function q(s,M){var P,E,x=s.max_chain_length,T=s.strstart,$=s.prev_length,Z=s.nice_match,I=s.strstart>s.w_size-Y?s.strstart-(s.w_size-Y):0,G=s.window,J=s.w_mask,H=s.prev,Q=s.strstart+N,ce=G[T+$-1],ae=G[T+$];s.prev_length>=s.good_match&&(x>>=2),Z>s.lookahead&&(Z=s.lookahead);do if(G[(P=M)+$]===ae&&G[P+$-1]===ce&&G[P]===G[T]&&G[++P]===G[T+1]){T+=2,P++;do;while(G[++T]===G[++P]&&G[++T]===G[++P]&&G[++T]===G[++P]&&G[++T]===G[++P]&&G[++T]===G[++P]&&G[++T]===G[++P]&&G[++T]===G[++P]&&G[++T]===G[++P]&&T<Q);if(E=N-(Q-T),T=Q-N,$<E){if(s.match_start=M,Z<=($=E))break;ce=G[T+$-1],ae=G[T+$]}}while((M=H[M&J])>I&&--x!=0);return $<=s.lookahead?$:s.lookahead}function le(s){var M,P,E,x,T,$,Z,I,G,J,H=s.w_size;do{if(x=s.window_size-s.lookahead-s.strstart,s.strstart>=H+(H-Y)){for(f.arraySet(s.window,s.window,H,H,0),s.match_start-=H,s.strstart-=H,s.block_start-=H,M=P=s.hash_size;E=s.head[--M],s.head[M]=H<=E?E-H:0,--P;);for(M=P=H;E=s.prev[--M],s.prev[M]=H<=E?E-H:0,--P;);x+=H}if(s.strm.avail_in===0)break;if($=s.strm,Z=s.window,I=s.strstart+s.lookahead,G=x,J=void 0,J=$.avail_in,G<J&&(J=G),P=J===0?0:($.avail_in-=J,f.arraySet(Z,$.input,$.next_in,J,I),$.state.wrap===1?$.adler=m($.adler,Z,J,I):$.state.wrap===2&&($.adler=y($.adler,Z,J,I)),$.next_in+=J,$.total_in+=J,J),s.lookahead+=P,s.lookahead+s.insert>=F)for(T=s.strstart-s.insert,s.ins_h=s.window[T],s.ins_h=(s.ins_h<<s.hash_shift^s.window[T+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[T+F-1])&s.hash_mask,s.prev[T&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=T,T++,s.insert--,!(s.lookahead+s.insert<F)););}while(s.lookahead<Y&&s.strm.avail_in!==0)}function he(s,M){for(var P,E;;){if(s.lookahead<Y){if(le(s),s.lookahead<Y&&M===g)return _;if(s.lookahead===0)break}if(P=0,s.lookahead>=F&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),P!==0&&s.strstart-P<=s.w_size-Y&&(s.match_length=q(s,P)),s.match_length>=F)if(E=i._tr_tally(s,s.strstart-s.match_start,s.match_length-F),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=F){for(s.match_length--;s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart,--s.match_length!=0;);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else E=i._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(E&&(L(s,!1),s.strm.avail_out===0))return _}return s.insert=s.strstart<F-1?s.strstart:F-1,M===b?(L(s,!0),s.strm.avail_out===0?V:U):s.last_lit&&(L(s,!1),s.strm.avail_out===0)?_:D}function oe(s,M){for(var P,E,x;;){if(s.lookahead<Y){if(le(s),s.lookahead<Y&&M===g)return _;if(s.lookahead===0)break}if(P=0,s.lookahead>=F&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=F-1,P!==0&&s.prev_length<s.max_lazy_match&&s.strstart-P<=s.w_size-Y&&(s.match_length=q(s,P),s.match_length<=5&&(s.strategy===1||s.match_length===F&&4096<s.strstart-s.match_start)&&(s.match_length=F-1)),s.prev_length>=F&&s.match_length<=s.prev_length){for(x=s.strstart+s.lookahead-F,E=i._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-F),s.lookahead-=s.prev_length-1,s.prev_length-=2;++s.strstart<=x&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),--s.prev_length!=0;);if(s.match_available=0,s.match_length=F-1,s.strstart++,E&&(L(s,!1),s.strm.avail_out===0))return _}else if(s.match_available){if((E=i._tr_tally(s,0,s.window[s.strstart-1]))&&L(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return _}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(E=i._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<F-1?s.strstart:F-1,M===b?(L(s,!0),s.strm.avail_out===0?V:U):s.last_lit&&(L(s,!1),s.strm.avail_out===0)?_:D}function se(s,M,P,E,x){this.good_length=s,this.max_lazy=M,this.nice_length=P,this.max_chain=E,this.func=x}function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*A),this.dyn_dtree=new f.Buf16(2*(2*w+1)),this.bl_tree=new f.Buf16(2*(2*S+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(O+1),this.heap=new f.Buf16(2*z+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*z+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(s){var M;return s&&s.state?(s.total_in=s.total_out=0,s.data_type=v,(M=s.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?C:R,s.adler=M.wrap===2?0:1,M.last_flush=g,i._tr_init(M),o):re(s,d)}function Ce(s){var M=ue(s);return M===o&&function(P){P.window_size=2*P.w_size,ee(P.head),P.max_lazy_match=n[P.level].max_lazy,P.good_match=n[P.level].good_length,P.nice_match=n[P.level].nice_length,P.max_chain_length=n[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=F-1,P.match_available=0,P.ins_h=0}(s.state),M}function Ee(s,M,P,E,x,T){if(!s)return d;var $=1;if(M===l&&(M=6),E<0?($=0,E=-E):15<E&&($=2,E-=16),x<1||k<x||P!==h||E<8||15<E||M<0||9<M||T<0||a<T)return re(s,d);E===8&&(E=9);var Z=new de;return(s.state=Z).strm=s,Z.wrap=$,Z.gzhead=null,Z.w_bits=E,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=x+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+F-1)/F),Z.window=new f.Buf8(2*Z.w_size),Z.head=new f.Buf16(Z.hash_size),Z.prev=new f.Buf16(Z.w_size),Z.lit_bufsize=1<<x+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new f.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=M,Z.strategy=T,Z.method=P,Ce(s)}n=[new se(0,0,0,0,function(s,M){var P=65535;for(P>s.pending_buf_size-5&&(P=s.pending_buf_size-5);;){if(s.lookahead<=1){if(le(s),s.lookahead===0&&M===g)return _;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var E=s.block_start+P;if((s.strstart===0||s.strstart>=E)&&(s.lookahead=s.strstart-E,s.strstart=E,L(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-Y&&(L(s,!1),s.strm.avail_out===0))return _}return s.insert=0,M===b?(L(s,!0),s.strm.avail_out===0?V:U):(s.strstart>s.block_start&&(L(s,!1),s.strm.avail_out),_)}),new se(4,4,8,4,he),new se(4,5,16,8,he),new se(4,6,32,32,he),new se(4,4,16,16,oe),new se(8,16,32,32,oe),new se(8,16,128,128,oe),new se(8,32,128,256,oe),new se(32,128,258,1024,oe),new se(32,258,258,4096,oe)],c.deflateInit=function(s,M){return Ee(s,M,h,15,8,0)},c.deflateInit2=Ee,c.deflateReset=Ce,c.deflateResetKeep=ue,c.deflateSetHeader=function(s,M){return s&&s.state?s.state.wrap!==2?d:(s.state.gzhead=M,o):d},c.deflate=function(s,M){var P,E,x,T;if(!s||!s.state||5<M||M<0)return s?re(s,d):d;if(E=s.state,!s.output||!s.input&&s.avail_in!==0||E.status===666&&M!==b)return re(s,s.avail_out===0?-5:d);if(E.strm=s,P=E.last_flush,E.last_flush=M,E.status===C)if(E.wrap===2)s.adler=0,te(E,31),te(E,139),te(E,8),E.gzhead?(te(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),te(E,255&E.gzhead.time),te(E,E.gzhead.time>>8&255),te(E,E.gzhead.time>>16&255),te(E,E.gzhead.time>>24&255),te(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),te(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(te(E,255&E.gzhead.extra.length),te(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(s.adler=y(s.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(te(E,0),te(E,0),te(E,0),te(E,0),te(E,0),te(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),te(E,3),E.status=R);else{var $=h+(E.w_bits-8<<4)<<8;$|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&($|=32),$+=31-$%31,E.status=R,X(E,$),E.strstart!==0&&(X(E,s.adler>>>16),X(E,65535&s.adler)),s.adler=1}if(E.status===69)if(E.gzhead.extra){for(x=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>x&&(s.adler=y(s.adler,E.pending_buf,E.pending-x,x)),j(s),x=E.pending,E.pending!==E.pending_buf_size));)te(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>x&&(s.adler=y(s.adler,E.pending_buf,E.pending-x,x)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){x=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>x&&(s.adler=y(s.adler,E.pending_buf,E.pending-x,x)),j(s),x=E.pending,E.pending===E.pending_buf_size)){T=1;break}T=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,te(E,T)}while(T!==0);E.gzhead.hcrc&&E.pending>x&&(s.adler=y(s.adler,E.pending_buf,E.pending-x,x)),T===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){x=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>x&&(s.adler=y(s.adler,E.pending_buf,E.pending-x,x)),j(s),x=E.pending,E.pending===E.pending_buf_size)){T=1;break}T=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,te(E,T)}while(T!==0);E.gzhead.hcrc&&E.pending>x&&(s.adler=y(s.adler,E.pending_buf,E.pending-x,x)),T===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&j(s),E.pending+2<=E.pending_buf_size&&(te(E,255&s.adler),te(E,s.adler>>8&255),s.adler=0,E.status=R)):E.status=R),E.pending!==0){if(j(s),s.avail_out===0)return E.last_flush=-1,o}else if(s.avail_in===0&&W(M)<=W(P)&&M!==b)return re(s,-5);if(E.status===666&&s.avail_in!==0)return re(s,-5);if(s.avail_in!==0||E.lookahead!==0||M!==g&&E.status!==666){var Z=E.strategy===2?function(I,G){for(var J;;){if(I.lookahead===0&&(le(I),I.lookahead===0)){if(G===g)return _;break}if(I.match_length=0,J=i._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++,J&&(L(I,!1),I.strm.avail_out===0))return _}return I.insert=0,G===b?(L(I,!0),I.strm.avail_out===0?V:U):I.last_lit&&(L(I,!1),I.strm.avail_out===0)?_:D}(E,M):E.strategy===3?function(I,G){for(var J,H,Q,ce,ae=I.window;;){if(I.lookahead<=N){if(le(I),I.lookahead<=N&&G===g)return _;if(I.lookahead===0)break}if(I.match_length=0,I.lookahead>=F&&0<I.strstart&&(H=ae[Q=I.strstart-1])===ae[++Q]&&H===ae[++Q]&&H===ae[++Q]){ce=I.strstart+N;do;while(H===ae[++Q]&&H===ae[++Q]&&H===ae[++Q]&&H===ae[++Q]&&H===ae[++Q]&&H===ae[++Q]&&H===ae[++Q]&&H===ae[++Q]&&Q<ce);I.match_length=N-(ce-Q),I.match_length>I.lookahead&&(I.match_length=I.lookahead)}if(I.match_length>=F?(J=i._tr_tally(I,1,I.match_length-F),I.lookahead-=I.match_length,I.strstart+=I.match_length,I.match_length=0):(J=i._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++),J&&(L(I,!1),I.strm.avail_out===0))return _}return I.insert=0,G===b?(L(I,!0),I.strm.avail_out===0?V:U):I.last_lit&&(L(I,!1),I.strm.avail_out===0)?_:D}(E,M):n[E.level].func(E,M);if(Z!==V&&Z!==U||(E.status=666),Z===_||Z===V)return s.avail_out===0&&(E.last_flush=-1),o;if(Z===D&&(M===1?i._tr_align(E):M!==5&&(i._tr_stored_block(E,0,0,!1),M===3&&(ee(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),j(s),s.avail_out===0))return E.last_flush=-1,o}return M!==b?o:E.wrap<=0?1:(E.wrap===2?(te(E,255&s.adler),te(E,s.adler>>8&255),te(E,s.adler>>16&255),te(E,s.adler>>24&255),te(E,255&s.total_in),te(E,s.total_in>>8&255),te(E,s.total_in>>16&255),te(E,s.total_in>>24&255)):(X(E,s.adler>>>16),X(E,65535&s.adler)),j(s),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?o:1)},c.deflateEnd=function(s){var M;return s&&s.state?(M=s.state.status)!==C&&M!==69&&M!==73&&M!==91&&M!==103&&M!==R&&M!==666?re(s,d):(s.state=null,M===R?re(s,-3):o):d},c.deflateSetDictionary=function(s,M){var P,E,x,T,$,Z,I,G,J=M.length;if(!s||!s.state||(T=(P=s.state).wrap)===2||T===1&&P.status!==C||P.lookahead)return d;for(T===1&&(s.adler=m(s.adler,M,J,0)),P.wrap=0,J>=P.w_size&&(T===0&&(ee(P.head),P.strstart=0,P.block_start=0,P.insert=0),G=new f.Buf8(P.w_size),f.arraySet(G,M,J-P.w_size,P.w_size,0),M=G,J=P.w_size),$=s.avail_in,Z=s.next_in,I=s.input,s.avail_in=J,s.next_in=0,s.input=M,le(P);P.lookahead>=F;){for(E=P.strstart,x=P.lookahead-(F-1);P.ins_h=(P.ins_h<<P.hash_shift^P.window[E+F-1])&P.hash_mask,P.prev[E&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=E,E++,--x;);P.strstart=E,P.lookahead=F-1,le(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=F-1,P.match_available=0,s.next_in=Z,s.input=I,s.avail_in=$,P.wrap=T,o},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,p,c){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,p,c){p.exports=function(n,f){var i,m,y,u,g,b,o,d,l,a,v,h,k,z,w,S,A,O,F,N,Y,C,R,_,D;i=n.state,m=n.next_in,_=n.input,y=m+(n.avail_in-5),u=n.next_out,D=n.output,g=u-(f-n.avail_out),b=u+(n.avail_out-257),o=i.dmax,d=i.wsize,l=i.whave,a=i.wnext,v=i.window,h=i.hold,k=i.bits,z=i.lencode,w=i.distcode,S=(1<<i.lenbits)-1,A=(1<<i.distbits)-1;e:do{k<15&&(h+=_[m++]<<k,k+=8,h+=_[m++]<<k,k+=8),O=z[h&S];t:for(;;){if(h>>>=F=O>>>24,k-=F,(F=O>>>16&255)===0)D[u++]=65535&O;else{if(!(16&F)){if((64&F)==0){O=z[(65535&O)+(h&(1<<F)-1)];continue t}if(32&F){i.mode=12;break e}n.msg="invalid literal/length code",i.mode=30;break e}N=65535&O,(F&=15)&&(k<F&&(h+=_[m++]<<k,k+=8),N+=h&(1<<F)-1,h>>>=F,k-=F),k<15&&(h+=_[m++]<<k,k+=8,h+=_[m++]<<k,k+=8),O=w[h&A];r:for(;;){if(h>>>=F=O>>>24,k-=F,!(16&(F=O>>>16&255))){if((64&F)==0){O=w[(65535&O)+(h&(1<<F)-1)];continue r}n.msg="invalid distance code",i.mode=30;break e}if(Y=65535&O,k<(F&=15)&&(h+=_[m++]<<k,(k+=8)<F&&(h+=_[m++]<<k,k+=8)),o<(Y+=h&(1<<F)-1)){n.msg="invalid distance too far back",i.mode=30;break e}if(h>>>=F,k-=F,(F=u-g)<Y){if(l<(F=Y-F)&&i.sane){n.msg="invalid distance too far back",i.mode=30;break e}if(R=v,(C=0)===a){if(C+=d-F,F<N){for(N-=F;D[u++]=v[C++],--F;);C=u-Y,R=D}}else if(a<F){if(C+=d+a-F,(F-=a)<N){for(N-=F;D[u++]=v[C++],--F;);if(C=0,a<N){for(N-=F=a;D[u++]=v[C++],--F;);C=u-Y,R=D}}}else if(C+=a-F,F<N){for(N-=F;D[u++]=v[C++],--F;);C=u-Y,R=D}for(;2<N;)D[u++]=R[C++],D[u++]=R[C++],D[u++]=R[C++],N-=3;N&&(D[u++]=R[C++],1<N&&(D[u++]=R[C++]))}else{for(C=u-Y;D[u++]=D[C++],D[u++]=D[C++],D[u++]=D[C++],2<(N-=3););N&&(D[u++]=D[C++],1<N&&(D[u++]=D[C++]))}break}}break}}while(m<y&&u<b);m-=N=k>>3,h&=(1<<(k-=N<<3))-1,n.next_in=m,n.next_out=u,n.avail_in=m<y?y-m+5:5-(m-y),n.avail_out=u<b?b-u+257:257-(u-b),i.hold=h,i.bits=k}},{}],49:[function(t,p,c){var n=t("../utils/common"),f=t("./adler32"),i=t("./crc32"),m=t("./inffast"),y=t("./inftrees"),u=1,g=2,b=0,o=-2,d=1,l=852,a=592;function v(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(C){var R;return C&&C.state?(R=C.state,C.total_in=C.total_out=R.total=0,C.msg="",R.wrap&&(C.adler=1&R.wrap),R.mode=d,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new n.Buf32(l),R.distcode=R.distdyn=new n.Buf32(a),R.sane=1,R.back=-1,b):o}function z(C){var R;return C&&C.state?((R=C.state).wsize=0,R.whave=0,R.wnext=0,k(C)):o}function w(C,R){var _,D;return C&&C.state?(D=C.state,R<0?(_=0,R=-R):(_=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?o:(D.window!==null&&D.wbits!==R&&(D.window=null),D.wrap=_,D.wbits=R,z(C))):o}function S(C,R){var _,D;return C?(D=new h,(C.state=D).window=null,(_=w(C,R))!==b&&(C.state=null),_):o}var A,O,F=!0;function N(C){if(F){var R;for(A=new n.Buf32(512),O=new n.Buf32(32),R=0;R<144;)C.lens[R++]=8;for(;R<256;)C.lens[R++]=9;for(;R<280;)C.lens[R++]=7;for(;R<288;)C.lens[R++]=8;for(y(u,C.lens,0,288,A,0,C.work,{bits:9}),R=0;R<32;)C.lens[R++]=5;y(g,C.lens,0,32,O,0,C.work,{bits:5}),F=!1}C.lencode=A,C.lenbits=9,C.distcode=O,C.distbits=5}function Y(C,R,_,D){var V,U=C.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new n.Buf8(U.wsize)),D>=U.wsize?(n.arraySet(U.window,R,_-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(D<(V=U.wsize-U.wnext)&&(V=D),n.arraySet(U.window,R,_-D,V,U.wnext),(D-=V)?(n.arraySet(U.window,R,_-D,D,0),U.wnext=D,U.whave=U.wsize):(U.wnext+=V,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=V))),0}c.inflateReset=z,c.inflateReset2=w,c.inflateResetKeep=k,c.inflateInit=function(C){return S(C,15)},c.inflateInit2=S,c.inflate=function(C,R){var _,D,V,U,re,W,ee,j,L,te,X,q,le,he,oe,se,de,ue,Ce,Ee,s,M,P,E,x=0,T=new n.Buf8(4),$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return o;(_=C.state).mode===12&&(_.mode=13),re=C.next_out,V=C.output,ee=C.avail_out,U=C.next_in,D=C.input,W=C.avail_in,j=_.hold,L=_.bits,te=W,X=ee,M=b;e:for(;;)switch(_.mode){case d:if(_.wrap===0){_.mode=13;break}for(;L<16;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(2&_.wrap&&j===35615){T[_.check=0]=255&j,T[1]=j>>>8&255,_.check=i(_.check,T,2,0),L=j=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&j)<<8)+(j>>8))%31){C.msg="incorrect header check",_.mode=30;break}if((15&j)!=8){C.msg="unknown compression method",_.mode=30;break}if(L-=4,s=8+(15&(j>>>=4)),_.wbits===0)_.wbits=s;else if(s>_.wbits){C.msg="invalid window size",_.mode=30;break}_.dmax=1<<s,C.adler=_.check=1,_.mode=512&j?10:12,L=j=0;break;case 2:for(;L<16;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(_.flags=j,(255&_.flags)!=8){C.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){C.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=j>>8&1),512&_.flags&&(T[0]=255&j,T[1]=j>>>8&255,_.check=i(_.check,T,2,0)),L=j=0,_.mode=3;case 3:for(;L<32;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}_.head&&(_.head.time=j),512&_.flags&&(T[0]=255&j,T[1]=j>>>8&255,T[2]=j>>>16&255,T[3]=j>>>24&255,_.check=i(_.check,T,4,0)),L=j=0,_.mode=4;case 4:for(;L<16;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}_.head&&(_.head.xflags=255&j,_.head.os=j>>8),512&_.flags&&(T[0]=255&j,T[1]=j>>>8&255,_.check=i(_.check,T,2,0)),L=j=0,_.mode=5;case 5:if(1024&_.flags){for(;L<16;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}_.length=j,_.head&&(_.head.extra_len=j),512&_.flags&&(T[0]=255&j,T[1]=j>>>8&255,_.check=i(_.check,T,2,0)),L=j=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(W<(q=_.length)&&(q=W),q&&(_.head&&(s=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),n.arraySet(_.head.extra,D,U,q,s)),512&_.flags&&(_.check=i(_.check,D,q,U)),W-=q,U+=q,_.length-=q),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(W===0)break e;for(q=0;s=D[U+q++],_.head&&s&&_.length<65536&&(_.head.name+=String.fromCharCode(s)),s&&q<W;);if(512&_.flags&&(_.check=i(_.check,D,q,U)),W-=q,U+=q,s)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(W===0)break e;for(q=0;s=D[U+q++],_.head&&s&&_.length<65536&&(_.head.comment+=String.fromCharCode(s)),s&&q<W;);if(512&_.flags&&(_.check=i(_.check,D,q,U)),W-=q,U+=q,s)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;L<16;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(j!==(65535&_.check)){C.msg="header crc mismatch",_.mode=30;break}L=j=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),C.adler=_.check=0,_.mode=12;break;case 10:for(;L<32;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}C.adler=_.check=v(j),L=j=0,_.mode=11;case 11:if(_.havedict===0)return C.next_out=re,C.avail_out=ee,C.next_in=U,C.avail_in=W,_.hold=j,_.bits=L,2;C.adler=_.check=1,_.mode=12;case 12:if(R===5||R===6)break e;case 13:if(_.last){j>>>=7&L,L-=7&L,_.mode=27;break}for(;L<3;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}switch(_.last=1&j,L-=1,3&(j>>>=1)){case 0:_.mode=14;break;case 1:if(N(_),_.mode=20,R!==6)break;j>>>=2,L-=2;break e;case 2:_.mode=17;break;case 3:C.msg="invalid block type",_.mode=30}j>>>=2,L-=2;break;case 14:for(j>>>=7&L,L-=7&L;L<32;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if((65535&j)!=(j>>>16^65535)){C.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&j,L=j=0,_.mode=15,R===6)break e;case 15:_.mode=16;case 16:if(q=_.length){if(W<q&&(q=W),ee<q&&(q=ee),q===0)break e;n.arraySet(V,D,U,q,re),W-=q,U+=q,ee-=q,re+=q,_.length-=q;break}_.mode=12;break;case 17:for(;L<14;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(_.nlen=257+(31&j),j>>>=5,L-=5,_.ndist=1+(31&j),j>>>=5,L-=5,_.ncode=4+(15&j),j>>>=4,L-=4,286<_.nlen||30<_.ndist){C.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;L<3;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}_.lens[$[_.have++]]=7&j,j>>>=3,L-=3}for(;_.have<19;)_.lens[$[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,P={bits:_.lenbits},M=y(0,_.lens,0,19,_.lencode,0,_.work,P),_.lenbits=P.bits,M){C.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;se=(x=_.lencode[j&(1<<_.lenbits)-1])>>>16&255,de=65535&x,!((oe=x>>>24)<=L);){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(de<16)j>>>=oe,L-=oe,_.lens[_.have++]=de;else{if(de===16){for(E=oe+2;L<E;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(j>>>=oe,L-=oe,_.have===0){C.msg="invalid bit length repeat",_.mode=30;break}s=_.lens[_.have-1],q=3+(3&j),j>>>=2,L-=2}else if(de===17){for(E=oe+3;L<E;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}L-=oe,s=0,q=3+(7&(j>>>=oe)),j>>>=3,L-=3}else{for(E=oe+7;L<E;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}L-=oe,s=0,q=11+(127&(j>>>=oe)),j>>>=7,L-=7}if(_.have+q>_.nlen+_.ndist){C.msg="invalid bit length repeat",_.mode=30;break}for(;q--;)_.lens[_.have++]=s}}if(_.mode===30)break;if(_.lens[256]===0){C.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,P={bits:_.lenbits},M=y(u,_.lens,0,_.nlen,_.lencode,0,_.work,P),_.lenbits=P.bits,M){C.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,P={bits:_.distbits},M=y(g,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,P),_.distbits=P.bits,M){C.msg="invalid distances set",_.mode=30;break}if(_.mode=20,R===6)break e;case 20:_.mode=21;case 21:if(6<=W&&258<=ee){C.next_out=re,C.avail_out=ee,C.next_in=U,C.avail_in=W,_.hold=j,_.bits=L,m(C,X),re=C.next_out,V=C.output,ee=C.avail_out,U=C.next_in,D=C.input,W=C.avail_in,j=_.hold,L=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;se=(x=_.lencode[j&(1<<_.lenbits)-1])>>>16&255,de=65535&x,!((oe=x>>>24)<=L);){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(se&&(240&se)==0){for(ue=oe,Ce=se,Ee=de;se=(x=_.lencode[Ee+((j&(1<<ue+Ce)-1)>>ue)])>>>16&255,de=65535&x,!(ue+(oe=x>>>24)<=L);){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}j>>>=ue,L-=ue,_.back+=ue}if(j>>>=oe,L-=oe,_.back+=oe,_.length=de,se===0){_.mode=26;break}if(32&se){_.back=-1,_.mode=12;break}if(64&se){C.msg="invalid literal/length code",_.mode=30;break}_.extra=15&se,_.mode=22;case 22:if(_.extra){for(E=_.extra;L<E;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}_.length+=j&(1<<_.extra)-1,j>>>=_.extra,L-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;se=(x=_.distcode[j&(1<<_.distbits)-1])>>>16&255,de=65535&x,!((oe=x>>>24)<=L);){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if((240&se)==0){for(ue=oe,Ce=se,Ee=de;se=(x=_.distcode[Ee+((j&(1<<ue+Ce)-1)>>ue)])>>>16&255,de=65535&x,!(ue+(oe=x>>>24)<=L);){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}j>>>=ue,L-=ue,_.back+=ue}if(j>>>=oe,L-=oe,_.back+=oe,64&se){C.msg="invalid distance code",_.mode=30;break}_.offset=de,_.extra=15&se,_.mode=24;case 24:if(_.extra){for(E=_.extra;L<E;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}_.offset+=j&(1<<_.extra)-1,j>>>=_.extra,L-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){C.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(ee===0)break e;if(q=X-ee,_.offset>q){if((q=_.offset-q)>_.whave&&_.sane){C.msg="invalid distance too far back",_.mode=30;break}le=q>_.wnext?(q-=_.wnext,_.wsize-q):_.wnext-q,q>_.length&&(q=_.length),he=_.window}else he=V,le=re-_.offset,q=_.length;for(ee<q&&(q=ee),ee-=q,_.length-=q;V[re++]=he[le++],--q;);_.length===0&&(_.mode=21);break;case 26:if(ee===0)break e;V[re++]=_.length,ee--,_.mode=21;break;case 27:if(_.wrap){for(;L<32;){if(W===0)break e;W--,j|=D[U++]<<L,L+=8}if(X-=ee,C.total_out+=X,_.total+=X,X&&(C.adler=_.check=_.flags?i(_.check,V,X,re-X):f(_.check,V,X,re-X)),X=ee,(_.flags?j:v(j))!==_.check){C.msg="incorrect data check",_.mode=30;break}L=j=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;L<32;){if(W===0)break e;W--,j+=D[U++]<<L,L+=8}if(j!==(4294967295&_.total)){C.msg="incorrect length check",_.mode=30;break}L=j=0}_.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return o}return C.next_out=re,C.avail_out=ee,C.next_in=U,C.avail_in=W,_.hold=j,_.bits=L,(_.wsize||X!==C.avail_out&&_.mode<30&&(_.mode<27||R!==4))&&Y(C,C.output,C.next_out,X-C.avail_out)?(_.mode=31,-4):(te-=C.avail_in,X-=C.avail_out,C.total_in+=te,C.total_out+=X,_.total+=X,_.wrap&&X&&(C.adler=_.check=_.flags?i(_.check,V,X,C.next_out-X):f(_.check,V,X,C.next_out-X)),C.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(te==0&&X===0||R===4)&&M===b&&(M=-5),M)},c.inflateEnd=function(C){if(!C||!C.state)return o;var R=C.state;return R.window&&(R.window=null),C.state=null,b},c.inflateGetHeader=function(C,R){var _;return C&&C.state?(2&(_=C.state).wrap)==0?o:((_.head=R).done=!1,b):o},c.inflateSetDictionary=function(C,R){var _,D=R.length;return C&&C.state?(_=C.state).wrap!==0&&_.mode!==11?o:_.mode===11&&f(1,R,D,0)!==_.check?-3:Y(C,R,D,D)?(_.mode=31,-4):(_.havedict=1,b):o},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,p,c){var n=t("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(u,g,b,o,d,l,a,v){var h,k,z,w,S,A,O,F,N,Y=v.bits,C=0,R=0,_=0,D=0,V=0,U=0,re=0,W=0,ee=0,j=0,L=null,te=0,X=new n.Buf16(16),q=new n.Buf16(16),le=null,he=0;for(C=0;C<=15;C++)X[C]=0;for(R=0;R<o;R++)X[g[b+R]]++;for(V=Y,D=15;1<=D&&X[D]===0;D--);if(D<V&&(V=D),D===0)return d[l++]=20971520,d[l++]=20971520,v.bits=1,0;for(_=1;_<D&&X[_]===0;_++);for(V<_&&(V=_),C=W=1;C<=15;C++)if(W<<=1,(W-=X[C])<0)return-1;if(0<W&&(u===0||D!==1))return-1;for(q[1]=0,C=1;C<15;C++)q[C+1]=q[C]+X[C];for(R=0;R<o;R++)g[b+R]!==0&&(a[q[g[b+R]]++]=R);if(A=u===0?(L=le=a,19):u===1?(L=f,te-=257,le=i,he-=257,256):(L=m,le=y,-1),C=_,S=l,re=R=j=0,z=-1,w=(ee=1<<(U=V))-1,u===1&&852<ee||u===2&&592<ee)return 1;for(;;){for(O=C-re,N=a[R]<A?(F=0,a[R]):a[R]>A?(F=le[he+a[R]],L[te+a[R]]):(F=96,0),h=1<<C-re,_=k=1<<U;d[S+(j>>re)+(k-=h)]=O<<24|F<<16|N|0,k!==0;);for(h=1<<C-1;j&h;)h>>=1;if(h!==0?(j&=h-1,j+=h):j=0,R++,--X[C]==0){if(C===D)break;C=g[b+a[R]]}if(V<C&&(j&w)!==z){for(re===0&&(re=V),S+=_,W=1<<(U=C-re);U+re<D&&!((W-=X[U+re])<=0);)U++,W<<=1;if(ee+=1<<U,u===1&&852<ee||u===2&&592<ee)return 1;d[z=j&w]=V<<24|U<<16|S-l|0}}return j!==0&&(d[S+j]=C-re<<24|64<<16|0),v.bits=V,0}},{"../utils/common":41}],51:[function(t,p,c){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,p,c){var n=t("../utils/common"),f=0,i=1;function m(x){for(var T=x.length;0<=--T;)x[T]=0}var y=0,u=29,g=256,b=g+1+u,o=30,d=19,l=2*b+1,a=15,v=16,h=7,k=256,z=16,w=17,S=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=new Array(2*(b+2));m(Y);var C=new Array(2*o);m(C);var R=new Array(512);m(R);var _=new Array(256);m(_);var D=new Array(u);m(D);var V,U,re,W=new Array(o);function ee(x,T,$,Z,I){this.static_tree=x,this.extra_bits=T,this.extra_base=$,this.elems=Z,this.max_length=I,this.has_stree=x&&x.length}function j(x,T){this.dyn_tree=x,this.max_code=0,this.stat_desc=T}function L(x){return x<256?R[x]:R[256+(x>>>7)]}function te(x,T){x.pending_buf[x.pending++]=255&T,x.pending_buf[x.pending++]=T>>>8&255}function X(x,T,$){x.bi_valid>v-$?(x.bi_buf|=T<<x.bi_valid&65535,te(x,x.bi_buf),x.bi_buf=T>>v-x.bi_valid,x.bi_valid+=$-v):(x.bi_buf|=T<<x.bi_valid&65535,x.bi_valid+=$)}function q(x,T,$){X(x,$[2*T],$[2*T+1])}function le(x,T){for(var $=0;$|=1&x,x>>>=1,$<<=1,0<--T;);return $>>>1}function he(x,T,$){var Z,I,G=new Array(a+1),J=0;for(Z=1;Z<=a;Z++)G[Z]=J=J+$[Z-1]<<1;for(I=0;I<=T;I++){var H=x[2*I+1];H!==0&&(x[2*I]=le(G[H]++,H))}}function oe(x){var T;for(T=0;T<b;T++)x.dyn_ltree[2*T]=0;for(T=0;T<o;T++)x.dyn_dtree[2*T]=0;for(T=0;T<d;T++)x.bl_tree[2*T]=0;x.dyn_ltree[2*k]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function se(x){8<x.bi_valid?te(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function de(x,T,$,Z){var I=2*T,G=2*$;return x[I]<x[G]||x[I]===x[G]&&Z[T]<=Z[$]}function ue(x,T,$){for(var Z=x.heap[$],I=$<<1;I<=x.heap_len&&(I<x.heap_len&&de(T,x.heap[I+1],x.heap[I],x.depth)&&I++,!de(T,Z,x.heap[I],x.depth));)x.heap[$]=x.heap[I],$=I,I<<=1;x.heap[$]=Z}function Ce(x,T,$){var Z,I,G,J,H=0;if(x.last_lit!==0)for(;Z=x.pending_buf[x.d_buf+2*H]<<8|x.pending_buf[x.d_buf+2*H+1],I=x.pending_buf[x.l_buf+H],H++,Z===0?q(x,I,T):(q(x,(G=_[I])+g+1,T),(J=A[G])!==0&&X(x,I-=D[G],J),q(x,G=L(--Z),$),(J=O[G])!==0&&X(x,Z-=W[G],J)),H<x.last_lit;);q(x,k,T)}function Ee(x,T){var $,Z,I,G=T.dyn_tree,J=T.stat_desc.static_tree,H=T.stat_desc.has_stree,Q=T.stat_desc.elems,ce=-1;for(x.heap_len=0,x.heap_max=l,$=0;$<Q;$++)G[2*$]!==0?(x.heap[++x.heap_len]=ce=$,x.depth[$]=0):G[2*$+1]=0;for(;x.heap_len<2;)G[2*(I=x.heap[++x.heap_len]=ce<2?++ce:0)]=1,x.depth[I]=0,x.opt_len--,H&&(x.static_len-=J[2*I+1]);for(T.max_code=ce,$=x.heap_len>>1;1<=$;$--)ue(x,G,$);for(I=Q;$=x.heap[1],x.heap[1]=x.heap[x.heap_len--],ue(x,G,1),Z=x.heap[1],x.heap[--x.heap_max]=$,x.heap[--x.heap_max]=Z,G[2*I]=G[2*$]+G[2*Z],x.depth[I]=(x.depth[$]>=x.depth[Z]?x.depth[$]:x.depth[Z])+1,G[2*$+1]=G[2*Z+1]=I,x.heap[1]=I++,ue(x,G,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(ae,ye){var He,Se,qe,fe,ot,Et,Ae=ye.dyn_tree,Kt=ye.max_code,cn=ye.stat_desc.static_tree,ln=ye.stat_desc.has_stree,un=ye.stat_desc.extra_bits,Yt=ye.stat_desc.extra_base,Ke=ye.stat_desc.max_length,at=0;for(fe=0;fe<=a;fe++)ae.bl_count[fe]=0;for(Ae[2*ae.heap[ae.heap_max]+1]=0,He=ae.heap_max+1;He<l;He++)Ke<(fe=Ae[2*Ae[2*(Se=ae.heap[He])+1]+1]+1)&&(fe=Ke,at++),Ae[2*Se+1]=fe,Kt<Se||(ae.bl_count[fe]++,ot=0,Yt<=Se&&(ot=un[Se-Yt]),Et=Ae[2*Se],ae.opt_len+=Et*(fe+ot),ln&&(ae.static_len+=Et*(cn[2*Se+1]+ot)));if(at!==0){do{for(fe=Ke-1;ae.bl_count[fe]===0;)fe--;ae.bl_count[fe]--,ae.bl_count[fe+1]+=2,ae.bl_count[Ke]--,at-=2}while(0<at);for(fe=Ke;fe!==0;fe--)for(Se=ae.bl_count[fe];Se!==0;)Kt<(qe=ae.heap[--He])||(Ae[2*qe+1]!==fe&&(ae.opt_len+=(fe-Ae[2*qe+1])*Ae[2*qe],Ae[2*qe+1]=fe),Se--)}}(x,T),he(G,ce,x.bl_count)}function s(x,T,$){var Z,I,G=-1,J=T[1],H=0,Q=7,ce=4;for(J===0&&(Q=138,ce=3),T[2*($+1)+1]=65535,Z=0;Z<=$;Z++)I=J,J=T[2*(Z+1)+1],++H<Q&&I===J||(H<ce?x.bl_tree[2*I]+=H:I!==0?(I!==G&&x.bl_tree[2*I]++,x.bl_tree[2*z]++):H<=10?x.bl_tree[2*w]++:x.bl_tree[2*S]++,G=I,ce=(H=0)===J?(Q=138,3):I===J?(Q=6,3):(Q=7,4))}function M(x,T,$){var Z,I,G=-1,J=T[1],H=0,Q=7,ce=4;for(J===0&&(Q=138,ce=3),Z=0;Z<=$;Z++)if(I=J,J=T[2*(Z+1)+1],!(++H<Q&&I===J)){if(H<ce)for(;q(x,I,x.bl_tree),--H!=0;);else I!==0?(I!==G&&(q(x,I,x.bl_tree),H--),q(x,z,x.bl_tree),X(x,H-3,2)):H<=10?(q(x,w,x.bl_tree),X(x,H-3,3)):(q(x,S,x.bl_tree),X(x,H-11,7));G=I,ce=(H=0)===J?(Q=138,3):I===J?(Q=6,3):(Q=7,4)}}m(W);var P=!1;function E(x,T,$,Z){X(x,(y<<1)+(Z?1:0),3),function(I,G,J,H){se(I),H&&(te(I,J),te(I,~J)),n.arraySet(I.pending_buf,I.window,G,J,I.pending),I.pending+=J}(x,T,$,!0)}c._tr_init=function(x){P||(function(){var T,$,Z,I,G,J=new Array(a+1);for(I=Z=0;I<u-1;I++)for(D[I]=Z,T=0;T<1<<A[I];T++)_[Z++]=I;for(_[Z-1]=I,I=G=0;I<16;I++)for(W[I]=G,T=0;T<1<<O[I];T++)R[G++]=I;for(G>>=7;I<o;I++)for(W[I]=G<<7,T=0;T<1<<O[I]-7;T++)R[256+G++]=I;for($=0;$<=a;$++)J[$]=0;for(T=0;T<=143;)Y[2*T+1]=8,T++,J[8]++;for(;T<=255;)Y[2*T+1]=9,T++,J[9]++;for(;T<=279;)Y[2*T+1]=7,T++,J[7]++;for(;T<=287;)Y[2*T+1]=8,T++,J[8]++;for(he(Y,b+1,J),T=0;T<o;T++)C[2*T+1]=5,C[2*T]=le(T,5);V=new ee(Y,A,g+1,b,a),U=new ee(C,O,0,o,a),re=new ee(new Array(0),F,0,d,h)}(),P=!0),x.l_desc=new j(x.dyn_ltree,V),x.d_desc=new j(x.dyn_dtree,U),x.bl_desc=new j(x.bl_tree,re),x.bi_buf=0,x.bi_valid=0,oe(x)},c._tr_stored_block=E,c._tr_flush_block=function(x,T,$,Z){var I,G,J=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(H){var Q,ce=4093624447;for(Q=0;Q<=31;Q++,ce>>>=1)if(1&ce&&H.dyn_ltree[2*Q]!==0)return f;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return i;for(Q=32;Q<g;Q++)if(H.dyn_ltree[2*Q]!==0)return i;return f}(x)),Ee(x,x.l_desc),Ee(x,x.d_desc),J=function(H){var Q;for(s(H,H.dyn_ltree,H.l_desc.max_code),s(H,H.dyn_dtree,H.d_desc.max_code),Ee(H,H.bl_desc),Q=d-1;3<=Q&&H.bl_tree[2*N[Q]+1]===0;Q--);return H.opt_len+=3*(Q+1)+5+5+4,Q}(x),I=x.opt_len+3+7>>>3,(G=x.static_len+3+7>>>3)<=I&&(I=G)):I=G=$+5,$+4<=I&&T!==-1?E(x,T,$,Z):x.strategy===4||G===I?(X(x,2+(Z?1:0),3),Ce(x,Y,C)):(X(x,4+(Z?1:0),3),function(H,Q,ce,ae){var ye;for(X(H,Q-257,5),X(H,ce-1,5),X(H,ae-4,4),ye=0;ye<ae;ye++)X(H,H.bl_tree[2*N[ye]+1],3);M(H,H.dyn_ltree,Q-1),M(H,H.dyn_dtree,ce-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,J+1),Ce(x,x.dyn_ltree,x.dyn_dtree)),oe(x),Z&&se(x)},c._tr_tally=function(x,T,$){return x.pending_buf[x.d_buf+2*x.last_lit]=T>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&T,x.pending_buf[x.l_buf+x.last_lit]=255&$,x.last_lit++,T===0?x.dyn_ltree[2*$]++:(x.matches++,T--,x.dyn_ltree[2*(_[$]+g+1)]++,x.dyn_dtree[2*L(T)]++),x.last_lit===x.lit_bufsize-1},c._tr_align=function(x){X(x,2,3),q(x,k,Y),function(T){T.bi_valid===16?(te(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(t,p,c){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,p,c){p.exports=typeof setImmediate=="function"?setImmediate:function(){var n=[].slice.apply(arguments);n.splice(1,0,0),setTimeout.apply(null,n)}},{}]},{},[10])(10)})})($r);var Fn=$r.exports;const Ct=Symbol("singleComment"),dr=Symbol("multiComment"),Tn=()=>"",Rn=(e,r,t)=>e.slice(r,t).replace(/\S/g," "),In=(e,r)=>{let t=r-1,p=0;for(;e[t]==="\\";)t-=1,p+=1;return Boolean(p%2)};var Dn=(e,r={})=>{if(typeof e!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);const t=r.whitespace===!1?Tn:Rn;let p=!1,c=!1,n=0,f="";for(let i=0;i<e.length;i++){const m=e[i],y=e[i+1];if(!c&&m==='"'&&(In(e,i)||(p=!p)),!p){if(!c&&m+y==="//")f+=e.slice(n,i),n=i,c=Ct,i++;else if(c===Ct&&m+y===`\r
`){i++,c=!1,f+=t(e,n,i),n=i;continue}else if(c===Ct&&m===`
`)c=!1,f+=t(e,n,i),n=i;else if(!c&&m+y==="/*"){f+=e.slice(n,i),n=i,c=dr,i++;continue}else if(c===dr&&m+y==="*/"){i++,c=!1,f+=t(e,n,i+1),n=i+1;continue}}}return f+(c?t(e.slice(n)):e.slice(n))};const Wr={"1.16.5":"1.16.3\u20141.16.5","1.17.1":"1.17\u20141.17.1","21w44a":"21w44a","1.18.1":"1.18\u20141.18.1","1.18.2":"1.18.2","1.19":"1.19\u20141.19.2","1.19.3":"1.19.3"},we=Object.keys(Wr),St=[6,7,8,8,9,10,10];var pe;(e=>{e.DEFAULT_SOURCE="auto",e.DEFAULT_TARGET="1.19.3";function r(u){return we.includes(u)?Wr[u]:u}e.displayName=r;function t(u){return we.indexOf(u)}e.ord=t;function p(u,g){return t(u)<t(g)}e.order=p;function c(u,g,b,o){return t(u)<t(o)&&t(g)>t(b)}e.includes=c;function n(u,g,b,o){return t(u)<=t(o)&&t(g)>=t(b)}e.includesInclusive=n;function f(u,g){return!1}e.isWorkInProgress=f;function i(u){const g=St.indexOf(u);if(g!==-1)return u===8?"1.18.1":we[g]}e.autoDetect=i;function m(u){const g=i(u);return g!==void 0?g:u<St[0]?we[0]:we[we.length-1]}e.autoDetectOrFallback=m;function y(u){const g=we.indexOf(u);return St[g]}e.packFormat=y})(pe||(pe={}));var B;(e=>{function r(...g){return async(b,o)=>{for(const d of g)await d(b,o)}}e.all=r;function t(g,b){return async(o,d)=>{for(const l of o.data[g]){if(l.error||l.deleted)continue;const a=be(ie({},d),{warn:v=>d.warn(v,[l.name])});try{await b(l,a)}catch(v){throw v.message=`Error fixing ${g.replace(/^worldgen\//,"").replaceAll("_"," ")} ${l.name}: ${v.message}`,v}}}}e.onFile=t;function p(...g){return async(b,o)=>{const d={},l=be(ie({},o),{warn:(a,v)=>{v===void 0?d[a]=[]:v.forEach(h=>{var k;((k=d[a])!=null?k:d[a]=[]).push(h)})}});await e.all(...g)(b,l),Object.entries(d).forEach(([a,v])=>o.warn(a,[...new Set(v)]))}}e.groupProblems=p;function c(g,...b){return async(o,d)=>{d.config(g)&&await e.all(...b)(o,d)}}e.when=c;function n(g,b){return async(o,d)=>{if(!g(o,d))throw new Error(b)}}e.assert=n;function f(g,b,...o){return async(d,l)=>{pe.includes(l.source(),l.target(),g,b)&&await e.all(...o)(d,l)}}e.version=f;function i(g,b,...o){return async(d,l)=>{pe.includesInclusive(l.source(),l.target(),g,b)&&await e.all(...o)(d,l)}}e.versionInclusive=i;function m(g){return async()=>{console.debug(g)}}e.debug=m;function y(g){return e.when("packFormat",async b=>b.meta.data.pack.pack_format=g)}e.packFormat=y;function u(g,b){return async o=>{o.data[b]=o.data[g].map(d=>ie({},d)),o.data[g].forEach(d=>d.deleted=!0)}}e.rename=u})(B||(B={}));const Ln=B.all(B.onFile("worldgen/configured_carver",({data:e})=>At(e)),B.onFile("worldgen/biome",({data:e})=>{var r,t;typeof e.carvers=="object"&&((r=e.carvers.air)==null||r.forEach(At),(t=e.carvers.liquid)==null||t.forEach(At))}));function At(e){if(typeof e!="object")return;const r=e.type.replace(/^minecraft:/,"");e.config.lava_level={above_bottom:10},e.config.aquifers_enabled=!1,r==="cave"||r==="underwater_cave"||r==="nether_cave"?(r==="nether_cave"?e.config.y={type:"minecraft:uniform",min_inclusive:{absolute:0},max_inclusive:{below_top:1}}:e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:127},inner:8},e.config.yScale=.5,e.config.horizontal_radius_multiplier=1,e.config.vertical_radius_multiplier=1,e.config.floor_level=-.7):(e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:20},max_inclusive:{absolute:67},inner:8},e.config.yScale=3,e.config.vertical_rotation={type:"minecraft:uniform",value:{min_inclusive:-.125,max_exclusive:.125}},e.config.shape={distance_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},thickness:{type:"minecraft:trapezoid",value:{min:0,max:6,plateau:2}},width_smoothness:3,horizontal_radius_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},vertical_radius_default_factor:1,vertical_radius_center_factor:0})}const jn=B.all(B.onFile("dimension_type",({data:e})=>pr(e)),B.onFile("dimension",({data:e})=>{typeof e.type=="object"&&pr(e.type)}));function pr(e){e.min_y=0,e.height=256}const Pn=B.all(B.onFile("worldgen/configured_feature",({data:e},r)=>Ie(e,r)),B.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(Ie)}));function Ie(e,r){if(typeof e!="object")return;switch(e.type||(e.type=e.name,delete e.name),e.type.replace(/^minecraft:/,"")){case"basalt_columns":Pe(e.config,"reach"),Pe(e.config,"height");break;case"decorated":jt(e.config.decorator,r),Ie(e.config.feature,r);break;case"delta_feature":Pe(e.config,"size"),Pe(e.config,"rim_size");break;case"disk":case"ice_patch":Pe(e.config,"radius");break;case"emerald_ore":e.type="minecraft:replace_single_block",e.config={targets:[{target:{predicate_type:"minecraft:blockstate_match",block_state:e.config.target},state:e.config.state}]};break;case"flower":case"no_bonemeal_flower":case"random_patch":const p=e.config.block_placer;p.type.replace(/^minecraft:/,"")==="column_placer"&&(p.size={type:"minecraft:uniform",value:{min_inclusive:p.min_size,max_inclusive:p.min_size+p.extra_size}},delete p.min_size,delete p.extra_size);break;case"fossil":e.config={max_empty_corners_allowed:4,fossil_processors:"minecraft:fossil_rot",overlay_processors:"minecraft:fossil_coal",fossil_structures:["minecraft:fossil/spine_1","minecraft:fossil/spine_2","minecraft:fossil/spine_3","minecraft:fossil/spine_4","minecraft:fossil/skull_1","minecraft:fossil/skull_2","minecraft:fossil/skull_3","minecraft:fossil/skull_4"],overlay_structures:["minecraft:fossil/spine_1_coal","minecraft:fossil/spine_2_coal","minecraft:fossil/spine_3_coal","minecraft:fossil/spine_4_coal","minecraft:fossil/skull_1_coal","minecraft:fossil/skull_2_coal","minecraft:fossil/skull_3_coal","minecraft:fossil/skull_4_coal"]};break;case"netherrack_replace_blobs":const c=e.config.radius;let n=typeof c=="number"?c:c.base,f=typeof c=="number"?c:c.base+c.spread;if(f>12&&(r.warn('Feature "netherrack_replace_blobs" no longer allows values above 12. Consider increasing the count of this feature.'),n=Math.min(12,n),f=Math.min(12,f)),n===f){e.config.radius=n;break}e.config.radius={type:"minecraft:uniform",value:{min_inclusive:n,max_inclusive:f}};break;case"no_surface_ore":hr(e),e.type="minecraft:ore",e.config.discard_chance_on_air_exposure=1;break;case"ore":hr(e);break;case"random_boolean_selector":Ie(e.config.feature_false,r),Ie(e.config.feature_true,r);break;case"random_selector":e.config.features.forEach(i=>Ie(i.feature,r)),Ie(e.config.default,r);break;case"sea_pickle":Pe(e.config,"count");break;case"simple_block":e.config.to_place={type:"minecraft:simple_state_provider",state:e.config.to_place};break;case"simple_random_selector":e.config.features.forEach(i=>Ie(i,r));break;case"tree":["radius","offset","crown_height","height","trunk_height"].forEach(i=>Pe(e.config.foliage_placer,i)),e.config.foliage_provider=e.config.leaves_provider,delete e.config.leaves_provider,e.config.force_dirt=!1,e.config.dirt_provider={type:"minecraft:simple_state_provider",state:{Name:"minecraft:dirt"}},e.config.sapling_provider={type:"minecraft:simple_state_provider",state:{Name:Bn(e.config.foliage_provider),Properties:{stage:"0"}}},e.type="minecraft:decorated",e.config={decorator:{type:"decorated",config:Fe({type:"minecraft:water_depth_threshold",config:{max_water_depth:e.config.max_water_depth}},{type:"minecraft:heightmap",config:{heightmap:e.config.heightmap}})},feature:{type:"minecraft:tree",config:e.config}},delete e.config.feature.config.max_water_depth,delete e.config.feature.config.heightmap;break}}function Pe(e,r){typeof(e==null?void 0:e[r])=="object"&&(e[r]={type:"minecraft:uniform",value:{min_inclusive:e[r].base,max_inclusive:e[r].base+e[r].spread}})}function hr(e){e.config.discard_chance_on_air_exposure=0,e.config.targets=[{target:e.config.target,state:e.config.state}],delete e.config.target,delete e.config.state}function Bn(e){if(e.type.replace(/^minecraft:/,"")==="simple_state_provider"){const r=e.state.Name.match(/^(?:minecraft:)?([a-z_]+)_leaves/);if(r)return`minecraft:${r[1]}_sapling`}return"minecraft:oak_sapling"}function jt(e,r){if(typeof e!="object")return;e.type||(e.type=e.name,delete e.name);const t=e.type.replace(/^minecraft:/,"");switch(t){case"carving_mask":if(e.config.probability===0){e.type="minecraft:nope",e.config={};break}const p=1/e.config.probability;e.type="minecraft:decorated",e.config=Fe({type:"minecraft:carving_mask",config:{step:e.config.step}},...Number.isInteger(p)?[{type:"minecraft:chance",config:{chance:p}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:e.config.probability}}]),delete e.config.probability;break;case"count":case"count_multilayer":const c=e.config.count;let n=typeof c=="number"?c:c.base,f=typeof c=="number"?c:c.base+c.spread;if(n<0&&(r.warn(`Decorator "${t}" no longer allows negative values.`),n=Math.max(0,n),f=Math.max(0,f)),n===f){e.config.count=n;break}e.config.count={type:"minecraft:uniform",value:{min_inclusive:n,max_inclusive:f}};break;case"decorated":jt(e.config.outer,r),jt(e.config.inner,r);break;case"heightmap_world_surface":e.type="minecraft:heightmap",e.config={heightmap:"WORLD_SURFACE_WG"};break;case"top_solid_heightmap":e.type="minecraft:heightmap",e.config={heightmap:"OCEAN_FLOOR_WG"};break;case"heightmap":case"heightmap_spread_double":e.config={heightmap:"MOTION_BLOCKING"};break;case"water_lake":e.type="minecraft:decorated",e.config=Fe({type:"minecraft:chance",config:{chance:e.config.chance}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}});break;case"lava_lake":const i=e.config.chance/10;e.type="minecraft:decorated",e.config=Fe(...Number.isInteger(i)?[{type:"minecraft:chance",config:{chance:i}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:1/i}}],{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}},{type:"minecraft:lava_lake",config:{chance:10}});break;case"fire":const m=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=Fe({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(m/2)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"glowstone":const y=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=Fe({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(y-1)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"range":const u=e.config.bottom_offset,g=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;if(u===g){e.config={height:{absolute:u}};break}e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:u},max_inclusive:{absolute:g}}};break;case"range_biased":const b=e.config.bottom_offset,o=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:b},max_inclusive:{absolute:o},cutoff:b}};break;case"range_very_biased":const d=e.config.bottom_offset,l=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:very_biased_to_bottom",min_inclusive:{absolute:d},max_inclusive:{absolute:l},cutoff:d}};break;case"depth_average":e.type="minecraft:range",e.config={height:{type:"minecraft:trapezoid",min_inclusive:{absolute:e.config.baseline},max_inclusive:{absolute:e.config.baseline+e.config.spread}}};break;case"emerald_ore":e.type="minecraft:decorated",e.config=Fe({type:"minecraft:count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:8}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:31}}}});break;case"end_island":e.type="minecraft:decorated",e.config=Fe({type:"minecraft:chance",config:{chance:14}},{type:"minecraft:count_extra",config:{count:1,extra_count:1,extra_chance:.25}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:55},max_inclusive:{absolute:70}}}});break;case"magma":r.warn('Removed decorator "magma" previously used the sea level. Assumed sea level is 32 and replaced with a range decorator between 27 and 36.'),e.type="minecraft:range",e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:27},max_inclusive:{absolute:36}}};break}}function Fe(...e){return{outer:e[0],inner:e.length===2?e[1]:{type:"minecraft:decorated",config:Fe(...e.slice(1))}}}const Nn=/replaceitem ((?:entity @[parse](\[.*\]*)?|block( [^ ]+){3}) [a-z0-9.]+) /,Mn=/scoreboard objectives add ([^ ]+) (minecraft.)?custom:(minecraft.)?play_one_minute/,Un=B.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("replaceitem ")||r.startsWith("execute "))&&(e[t]=e[t].replace(Nn,"item replace $1 with ")),(r.startsWith("scoreboard")||r.startsWith("execute"))&&(e[t]=e[t].replace(Mn,"scoreboard objectives add $1 $2custom:$3play_time"))})}),$n=B.all(B.onFile("tags/blocks",({data:e})=>_r(e)),B.onFile("tags/items",({data:e})=>_r(e)));function _r(e){var r;(r=e.values)==null||r.forEach((t,p)=>Wn(e.values,p))}function Wn(e,r){e[r].replace(/^minecraft:/,"")==="grass_path"&&(e[r]="minecraft:dirt_path")}const Zn=B.all(B.onFile("worldgen/noise_settings",({data:e})=>mr(e)),B.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&mr(e.generator.settings)}));function mr(e){typeof e=="object"&&(e.bedrock_roof_position<=-10&&(e.bedrock_roof_position=-2147483648),e.bedrock_floor_position<=-10&&(e.bedrock_floor_position=-2147483648),e.min_surface_level=0,e.noise_caves_enabled=!1,e.noodle_caves_enabled=!1,e.aquifers_enabled=!1,e.deepslate_enabled=!1,e.ore_veins_enabled=!1,e.noise.min_y=0)}const Gn=B.all(B.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Ne):Ne(e)}),B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Hn)}),B.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(qn)}));function Hn(e){var r,t;typeof(e==null?void 0:e.conditions)=="object"&&(me(e.conditions.entity),me(e.conditions.player),me(e.conditions.parent),me(e.conditions.partner),me(e.conditions.child),me(e.conditions.villager),me(e.conditions.zombie),me(e.conditions.projectile),me(e.conditions.shooter),(r=e.conditions.victims)==null||r.forEach(me),gt(e.conditions.item),(t=e.conditions.items)==null||t.forEach(gt),vt(e.conditions.damage),vt(e.conditions.killing_blow),Ve(e.conditions.location),Ve(e.conditions.entered),Ve(e.conditions.exited))}function qn(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(Zr),(t=e.conditions)==null||t.forEach(Ne))}function Zr(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(Zr),(t=e.conditions)==null||t.forEach(Ne))}function Ne(e){var t,p;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(p=e.terms)==null||p.forEach(Ne);break;case"inverted":Ne(e.term);break;case"match_tool":gt(e.predicate);break;case"entity_properties":me(e.predicate);break;case"damage_source_properties":vt(e.predicate);break;case"location_check":Ve(e.predicate);break}}function vt(e){typeof e=="object"&&(me(e.source_entity),me(e.direct_entity),vt(e.type))}function me(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Ne);return}e.equipment&&Object.values(e.equipment).forEach(gt),me(e.vehicle),me(e.targeted_entity),Ve(e.location)}}function Ve(e){typeof e=="object"&&Kn(e.block)}function gt(e){typeof e=="object"&&e.item&&(e.items=[e.item],delete e.item)}function Kn(e){typeof e=="object"&&e.block&&(e.blocks=[e.block],delete e.block)}const Yn=B.all(B.onFile("worldgen/configured_structure_feature",({data:e})=>vr(e)),B.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(vr)}));function vr(e){if(typeof e!="object")return;e.type.replace(/^minecraft:/,"")==="nether_fossil"&&(e.config||(e.config={}),e.config.height={type:"minecraft:uniform",min_inclusive:{absolute:32},max_inclusive:{below_top:2}})}const Xn=B.version("1.16.5","1.17.1",B.groupProblems(B.packFormat(7),B.when("ids",$n),B.when("predicates",Gn),B.when("functions",Un),B.when("worldgen",jn,Zn,Yn,Ln,Pn))),Jn=B.all(B.onFile("worldgen/configured_feature",Qn),B.onFile("worldgen/biome",({data:e},r)=>{e.player_spawn_friendly=void 0,["air","liquid"].forEach(t=>{Array.isArray(e.carvers[t])&&(e.carvers[t]=e.carvers[t].filter(p=>!ri.has(p.replace(/^minecraft:/,""))))}),Array.isArray(e.features)&&(e.features=e.features.map(t=>Array.isArray(t)?t.flatMap(p=>{if(typeof p!="string")return p;const c=Vn(p,r);return c.forEach(n=>{const f=r.read("worldgen/placed_feature",n);!f||f.data.placement.find(i=>i.type==="minecraft:biome")||f.data.placement.push({type:"minecraft:biome"})}),c}):t))}));function Vn(e,r){var p;const t=e.replace(/^minecraft:/,"");return gr.has(t)?gr.get(t).map(c=>`minecraft:${c}`):je.has(t)||Ze.has(t)?[`minecraft:${(p=je.get(t))!=null?p:Ze.get(t)}`]:Kr.has(t)&&r.read("worldgen/placed_feature",t)===void 0?[]:qr.has(t)?[]:[e]}function Qn(e,r){if(typeof e.data!="object")return;const t=qt(e.data,r);typeof t.feature=="string"?e.data=yt(Gr(t.feature,r)):(e.data={type:t==null?void 0:t.feature.type,config:t==null?void 0:t.feature.config},t.feature=e.name),r.create("worldgen/placed_feature",e.name,{feature:t.feature,placement:t==null?void 0:t.placement})}function yt(e){return{type:"minecraft:random_selector",config:{features:[],default:e}}}function qt(e,r){var c;if(typeof e=="string"){const n=e.replace(/^minecraft:/,"");if(qr.has(n))e={type:"minecraft:no_op",config:{}};else if(Yr.has(n))e=yt(e);else if(je.has(n)||bt.has(n)){const f=(c=bt.get(n))!=null?c:je.get(n);console.log(`Rename ${n} -> configured: ${f}`),e=`minecraft:${f}`}else if(Ze.has(n)){const f=Ze.get(n);console.log(`Redirect ${n} -> placed: ${f}`),e=yt(f)}return{feature:e,placement:[]}}if(typeof e!="object")throw new Error("Feature is not an object nor a string");const t=e.type.replace(/^minecraft:/,""),p=[];switch(t){case"decorated":const n=Hr(e,p,r);e=ei(n,r);break;case"glow_lichen":e.config.can_be_placed_on=[...new Set(e.config.can_be_placed_on.map(f=>f.Name))];break;case"lake":e.config={fluid:{type:"minecraft:simple_state_provider",state:e.config.state},barrier:{type:"minecraft:simple_state_provider",state:{Name:"minecraft:stone"}}};break;case"nether_forest_vegetation":e.config.spread_width=8,e.config.spread_height=4;break;case"random_boolean_selector":e.config.feature_false=Be(e.config.feature_false,r),e.config.feature_true=Be(e.config.feature_true,r);break;case"root_system":e.config.allowed_tree_position={type:"minecraft:true"};case"random_patch":case"flower":case"no_bonemeal_flower":e.config.feature=Be(e.config.feature,r);break;case"random_selector":e.config.features.forEach(f=>{f.feature=Be(f.feature,r)}),e.config.default=Be(e.config.default,r);break;case"simple_random_selector":e.config.features=e.config.features.map(f=>Be(f,r));break;case"twisting_vines":e.config={spread_width:8,spread_height:4,max_height:8};break;case"vegetation_patch":case"waterlogged_vegetation_patch":e.config.vegetation_feature=Be(e.config.vegetation_feature,r)}return{feature:e,placement:p}}function Be(e,r){const t=qt(e,r);return typeof t.feature=="string"&&t.placement.length===0?Gr(t.feature,r):t}function Gr(e,r){var p;const t=e.replace(/^minecraft:/,"");if(je.has(t)||Ze.has(t)){const c=(p=Ze.get(t))!=null?p:je.get(t);return console.log(`Rename placement: ${t} -> ${c}`),`minecraft:${c}`}return!Kr.has(t)&&r.read("worldgen/configured_feature",t)===void 0?(console.log(`No placement: ${t}`),e):{feature:e,placement:[]}}function ei(e,r){var p;const t=qt(e,r);if(typeof t.feature=="string"&&t.placement.length===0){const c=t.feature.replace(/^minecraft:/,"");if(je.has(c)||bt.has(c)){const n=(p=bt.get(c))!=null?p:je.get(c);return console.log(`Rename config: ${c} -> ${n}`),`minecraft:${n}`}if(Yr.has(c))return yt(t.feature)}return t.feature}function Pt(e,r){if(typeof e!="object")return[];const t=e.type.replace(/^minecraft:/,"");switch(t){case"block_filter":return[ie({type:"minecraft:block_predicate_filter"},e.config)];case"cave_surface":const p=e.config.floor_to_ceiling_search_range;p>32&&r.warn('Converting cave_surface decorator into environment_scan: "max_steps" is limited to 32.');const c={direction_of_search:e.config.surface==="ceiling"?"up":"down",target_condition:{type:"minecraft:solid"},allowed_search_condition:{type:"minecraft:matching_blocks",blocks:["minecraft:air",...e.config.allow_water?["minecraft:water"]:[]]},max_steps:Math.min(32,p)};return[ie({type:"minecraft:environment_scan"},c)];case"count_multilayer":return[ie({type:"minecraft:count_on_every_layer"},e.config)];case"chance":return[ie({type:"minecraft:rarity_filter"},e.config)];case"count_extra":let n=e.config.count+e.config.extra_count;if(n>256){let u=[n];for(n-=1;u.some(g=>g>256);)n+=1,u=ti(n);for(let g=2;g<=5;g+=1){const b=Array(g).fill(1),o=[...u];e:for(;o.length>0;){const d=o.pop();for(let l=0;l<g;l+=1)if(b[l]*d<=256){b[l]*=d;continue e}break}if(o.length===0&&b.every(d=>d<=256))return b.map(d=>({type:"minecraft:count",count:d}))}throw new Error(`Extremely high count: ${e.config.count+e.config.extra_count}`)}const f={type:"minecraft:weighted_list",distribution:[{weight:Math.round(100*(1-e.config.extra_chance)),data:Math.min(256,e.config.count)},{weight:Math.round(100*e.config.extra_chance),data:Math.min(256,n)}]};return[{type:"minecraft:count",count:f}];case"count_noise":return[ie({type:"minecraft:noise_threshold_count"},e.config)];case"count_noise_biased":return[ie({type:"minecraft:noise_based_count"},e.config)];case"dark_oak_tree":return[{type:"minecraft:count",count:16},{type:"minecraft:in_square"}];case"decorated":const i=Pt(e.config.outer,r),m=Pt(e.config.inner,r);return[...i,...m];case"end_gateway":return[{type:"minecraft:random_offset",xz_spread:0,y_spread:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:9}}}];case"iceberg":return[{type:"minecraft:in_square"}];case"lava_lake":return[{type:"minecraft:rarity_filter",chance:10}];case"nope":return[];case"range":return[ie({type:"minecraft:height_range"},e.config)];case"scatter":return[ie({type:"minecraft:random_offset"},e.config)];case"square":return[ie({type:"minecraft:in_square"},e.config)];case"surface_relative_threshold":return[ie({type:"minecraft:surface_relative_threshold_filter"},e.config)];case"water_depth_threshold":return[ie({type:"minecraft:surface_water_depth_filter"},e.config)];default:return[ie({type:t},e.config)]}}function Hr(e,r,t){return typeof e!="object"?e:e.type.replace(/^minecraft:/,"")==="decorated"?(r.push(...Pt(e.config.decorator,t)),Hr(e.config.feature,r,t)):e}function ti(e){const r=[];let t=2;for(;e>=2;)e%t==0?(r.push(t),e=e/t):t+=1;return r}const gr=new Map(Object.entries({birch_other:["forest_flowers","trees_birch_and_oak"],fossil:["fossil_upper","fossil_lower"],lake_lava:["lake_lava_surface","lake_lava_underground"],monster_room:["monster_room","monster_room_deep"],ore_granite:["ore_granite_upper","ore_granite_lower"],ore_diorite:["ore_diorite_upper","ore_diorite_lower"],ore_andesite:["ore_andesite_upper","ore_andesite_lower"],ore_coal:["ore_coal_upper","ore_coal_lower"],ore_iron:["ore_iron_upper","ore_iron_middle","ore_iron_small"],ore_gold:["ore_gold","ore_gold_lower"],ore_redstone:["ore_redstone","ore_redstone_lower"],ore_diamond:["ore_diamond","ore_diamond_large","ore_diamond_buried"],ore_lapis:["ore_lapis","ore_lapis_buried"]})),qr=new Set(["lake_water","rare_dripstone_cluster","rare_small_dripstone","ore_deepslate"]),Kr=new Set(["azalea_tree","birch_bees_005","bonus_chest","cave_vine_in_moss","clay_pool_with_dripleaves","clay_with_dripleaves","dripleaf","end_gateway_delayed","huge_brown_mushroom","huge_red_mushroom","jungle_tree_no_vine","moss_patch","moss_patch_bonemeal","moss_patch_ceiling","moss_vegetation","oak_bees_005","patch_brown_mushroom","patch_red_mushroom","spring_lava_double","swamp_oak"]),Yr=new Set(["patch_dead_bush_2"]),je=new Map(Object.entries({birch_other:"trees_birch_and_oak",end_gateway:"end_gateway_return",fancy_oak_bees_005:"fancy_oak_bees",flower_forest:"flower_flower_forest",forest_flower_trees:"trees_flower_forest",forest_flower_vegetation:"forest_flowers",forest_flower_vegetation_common:"flower_forest_flowers",grove_vegetation:"trees_grove",mushroom_field_vegetation:"mushroom_island_vegetation",ore_debris_large:"ore_ancient_debris_large",patch_waterlilly:"patch_waterlily",pine:"pine_checked",plain_vegetation:"trees_plains",rooted_azalea_trees:"rooted_azalea_tree",taiga_vegetation:"trees_taiga",trees_giant:"trees_old_growth_pine_taiga",trees_giant_spruce:"trees_old_growth_spruce_taiga",trees_jungle_edge:"trees_sparse_jungle",trees_mountain:"trees_windswept_hills"})),Ze=new Map(Object.entries({acacia:"acacia_checked",birch:"birch_checked",brown_mushroom_giant:"brown_mushroom_old_growth",cave_vine:"cave_vines",dark_oak:"dark_oak_checked",end_island:"end_island_decorated",fancy_oak:"fancy_oak_checked",flower_plain_decorated:"flower_plains",meadow_trees:"trees_meadow",mega_jungle_tree:"mega_jungle_tree_checked",mega_pine:"mega_pine_checked",red_mushroom_giant:"red_mushroom_old_growth",patch_cactus:"patch_cactus_decorated",mega_spruce:"mega_spruce_checked",spruce:"spruce_checked",trees_mountain_edge:"trees_windswept_forest",trees_shattered_savanna:"trees_windswept_savanna"})),bt=new Map(Object.entries({mega_spruce:"mega_spruce",cave_vine:"cave_vine",crimson_fungi_planted:"crimson_fungus_planted",warped_fungi_planted:"warped_fungus_planted"})),ri=new Set(["ocean_cave","prototype_canyon","prototype_cave","prototype_crevice","underwater_canyon","underwater_cave"]),yr=["raw_generation","lakes","local_modifications","underground_structures","surface_structures","strongholds","underground_ores","underground_decoration","fluid_springs","vegetal_decoration","top_layer_modification"];async function ni(e,r){var c;const t=e.data["worldgen/biome"].filter(n=>!n.error),p=new Set;for(let n=0;n<yr.length;n+=1){const f=[];for(const y of t){const u=(c=y.data.features[n])!=null?c:[];for(let g=0;g<u.length;g+=1){const b=u[g];if(f.some(d=>d.biome===y.name&&d.id===b)){p.add(y.name);continue}const o=new Set(u.slice(0,g));f.push({id:b,biome:y.name,depends:o})}}const i=[],m=f.filter(y=>f.filter(u=>y.id===u.id).every(u=>u.depends.size===0));for(;m.length>0;){const y=m.pop();if(!i.some(u=>u.id===y.id)){i.push(y);for(const u of f.filter(g=>g.depends.has(y.id)))u.depends.delete(y.id),f.filter(g=>u.id===g.id).every(g=>g.depends.size===0)&&m.push(u)}}if(f.some(y=>y.depends.size>0)){let y=function(d,l,a){if(a<=0)return!1;u.add(d.biome),g.add(d.id);for(const v of d.depends){if(v===l.id)return[l];if(!g.has(v))for(const h of f.filter(k=>k.id===v&&!u.has(k.biome))){const k=y(h,l,a-1);if(k)return[h,...k]}}return u.delete(d.biome),!1};const u=new Set,g=new Set;let b=!1;const o=f.filter(d=>d.depends.size>0);e:for(let d=2;d<10;d+=1)for(const l of o)if(u.clear(),g.clear(),b=y(l,l,d),b)break e;if(b){const d=[`Cycle in step ${n} (${yr[n]}):`];for(let l=b.length-1;l>=0;l-=1){const a=b[l],v=b[(l+1+b.length)%b.length];d.push(`\u2022 Biome ${a.biome}: '${v.id}' -> '${a.id}'`)}r.warn("!Feature order cycle found. Needs manual fixing.",[],d)}}}p.size>0&&r.warn("!Detected duplicate features. They are no longer allowed.",[...p])}const ii=B.all(B.onFile("worldgen/noise_settings",({data:e})=>br(e)),B.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&br(e.generator.settings)}));function br(e){Bt(e.surface_rule)}function Bt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>Bt(t));break;case"condition":Xr(e.if_true),Bt(e.then_run)}}function Xr(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"not":Xr(e.invert);break;case"stone_depth":e.offset=0,e.add_surface_depth=e.add_run_depth,e.add_surface_secondary_depth=!1,delete e.add_run_depth;break;case"water":case"y_above":e.surface_depth_multiplier=e.run_depth_multiplier,delete e.run_depth_multiplier}}const oi=B.all(B.version("21w44a","1.18.1",B.groupProblems(B.when("worldgen",Jn,ii))),B.versionInclusive("1.18.1","1.18.1",B.when("featureCycles",ni))),ai=B.all(B.onFile("dimension",({data:e})=>si(e.generator)));function si(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"flat":if(typeof e.settings!="object")return;e.settings.structure_overrides=[],delete e.settings.structures}}const ci=B.all(B.onFile("dimension_type",({data:e})=>wr(e)),B.onFile("dimension",({data:e})=>{typeof e.type=="object"&&wr(e.type)}));function wr(e){e.infiniburn.startsWith("#")||(e.infiniburn="#"+e.infiniburn)}const li=B.all(B.onFile("worldgen/configured_feature",({data:e})=>Jr(e)),B.onFile("worldgen/placed_feature",({data:e})=>Te(e)));function Te(e){typeof e=="object"&&Jr(e.feature)}function Jr(e){var t,p;if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"random_boolean_selector":Te(e.config.feature_false),Te(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":Te(e.config.feature);break;case"random_selector":e.config.features.forEach(c=>{Te(c.feature)}),Te(e.config.default);break;case"simple_random_selector":e.config.features.forEach(c=>{Te(c)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":Te(e.config.vegetation_feature),ct(e.config,"replaceable");break;case"geode":ct((t=e.config)==null?void 0:t.blocks,"cannot_replace"),ct((p=e.config)==null?void 0:p.blocks,"invalid_blocks");break;case"root_system":ct(e.config,"root_replaceable")}}function ct(e,r){typeof e=="object"&&typeof e[r]=="string"&&(e[r]="#"+e[r])}const ui=/locate (minecraft:)?(mineshaft|ocean_ruin|ruined_portal|shipwreck|village)/,fi=B.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("locate ")||r.startsWith("execute "))&&(e[t]=e[t].replace(ui,"locate #$1$2"))})}),di=B.all(B.onFile("worldgen/noise_settings",({data:e})=>kr(e)),B.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&kr(e.generator.settings)}));function kr(e){typeof e=="object"&&(Nt(e.surface_rule),e.noise_router=hi(e.aquifers_enabled,e.ore_veins_enabled,e.noise_caves_enabled,e.noodle_caves_enabled,e.noise.island_noise_override,e.noise.large_biomes),delete e.noise_caves_enabled,delete e.noodle_caves_enabled,delete e.noise.island_noise_override,delete e.noise.amplified,delete e.noise.large_biomes,delete e.structures)}function Nt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>Nt(t));break;case"condition":pi(e.if_true),Nt(e.then_run)}}function pi(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"stone_depth":e.secondary_depth_range=e.add_surface_secondary_depth?6:0,delete e.add_surface_secondary_depth}}function hi(e,r,t,p,c,n){const f=c?"end":n?"overworld_large_biomes":"overworld",i=t?{max_exclusive:1.5625,when_in_range:{argument1:`minecraft:${f}/sloped_cheese`,argument2:{argument1:5,argument2:"minecraft:overworld/caves/entrances",type:"minecraft:mul"},type:"minecraft:min"},when_out_of_range:{argument1:{argument1:{argument1:{argument1:{argument1:4,argument2:{argument:{noise:"minecraft:cave_layer",xz_scale:1,y_scale:8,type:"minecraft:noise"},type:"minecraft:square"},type:"minecraft:mul"},argument2:{argument1:{input:{argument1:.27,argument2:{noise:"minecraft:cave_cheese",xz_scale:1,y_scale:.6666666666666666,type:"minecraft:noise"},type:"minecraft:add"},min:-1,max:1,type:"minecraft:clamp"},argument2:{input:{argument1:1.5,argument2:{argument1:-.64,argument2:`minecraft:${f}/sloped_cheese`,type:"minecraft:mul"},type:"minecraft:add"},min:0,max:.5,type:"minecraft:clamp"},type:"minecraft:add"},type:"minecraft:add"},argument2:"minecraft:overworld/caves/entrances",type:"minecraft:min"},argument2:{argument1:"minecraft:overworld/caves/spaghetti_2d",argument2:"minecraft:overworld/caves/spaghetti_roughness_function",type:"minecraft:add"},type:"minecraft:min"},argument2:{max_exclusive:.03,when_in_range:-1e6,when_out_of_range:"minecraft:overworld/caves/pillars",input:"minecraft:overworld/caves/pillars",min_inclusive:-1e6,type:"minecraft:range_choice"},type:"minecraft:max"},input:`minecraft:${f}/sloped_cheese`,min_inclusive:-1e6,type:"minecraft:range_choice"}:`minecraft:${f}/sloped_cheese`,m={argument:{argument1:.64,argument2:{argument:{argument:{argument:i,type:"minecraft:slide"},type:"minecraft:blend_density"},type:"minecraft:interpolated"},type:"minecraft:mul"},type:"minecraft:squeeze"};return{final_density:p?{argument1:m,argument2:"minecraft:overworld/caves/noodle",type:"minecraft:min"}:m,vein_toggle:!r||c?0:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_veininess",xz_scale:1.5,y_scale:1.5,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},vein_ridged:!r||c?0:{argument1:-.07999999821186066,argument2:{argument1:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_a",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},argument2:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_b",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},type:"minecraft:max"},type:"minecraft:add"},vein_gap:!r||c?0:{noise:"minecraft:ore_gap",xz_scale:1,y_scale:1,type:"minecraft:noise"},erosion:c?0:`minecraft:${f}/erosion`,depth:c?0:`minecraft:${f}/depth`,ridges:c?0:"minecraft:overworld/ridges",initial_density_without_jaggedness:c?{argument:{type:"minecraft:end_islands"},type:"minecraft:cache_2d"}:{argument1:4,argument2:{argument:{argument1:`minecraft:${f}/depth`,argument2:{argument:`minecraft:${f}/factor`,type:"minecraft:cache_2d"},type:"minecraft:mul"},type:"minecraft:quarter_negative"},type:"minecraft:mul"},lava:!e||c?0:{noise:"minecraft:aquifer_lava",xz_scale:1,y_scale:1,type:"minecraft:noise"},temperature:c?0:{xz_scale:.25,y_scale:0,noise:n?"minecraft:temperature_large":"minecraft:temperature",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},vegetation:c?0:{xz_scale:.25,y_scale:0,noise:n?"minecraft:vegetation_large":"minecraft:vegetation",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},continents:c?0:`minecraft:${f}/continents`,barrier:!e||c?0:{noise:"minecraft:aquifer_barrier",xz_scale:1,y_scale:.5,type:"minecraft:noise"},fluid_level_floodedness:!e||c?0:{noise:"minecraft:aquifer_fluid_level_floodedness",xz_scale:1,y_scale:.67,type:"minecraft:noise"},fluid_level_spread:!e||c?0:{noise:"minecraft:aquifer_fluid_level_spread",xz_scale:1,y_scale:.7142857142857143,type:"minecraft:noise"}}}const _i=B.all(B.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Me):Me(e)}),B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(mi)}),B.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(vi)}));function mi(e){var r;typeof(e==null?void 0:e.conditions)=="object"&&(ve(e.conditions.entity),ve(e.conditions.player),ve(e.conditions.parent),ve(e.conditions.partner),ve(e.conditions.child),ve(e.conditions.villager),ve(e.conditions.zombie),ve(e.conditions.projectile),ve(e.conditions.shooter),(r=e.conditions.victims)==null||r.forEach(ve),wt(e.conditions.damage),wt(e.conditions.killing_blow),Qe(e.conditions.location),Qe(e.conditions.entered),Qe(e.conditions.exited))}function vi(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(Vr),(t=e.conditions)==null||t.forEach(Me))}function Vr(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(Vr),(t=e.conditions)==null||t.forEach(Me))}function Me(e){var t,p;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(p=e.terms)==null||p.forEach(Me);break;case"inverted":Me(e.term);break;case"entity_properties":ve(e.predicate);break;case"damage_source_properties":wt(e.predicate);break;case"location_check":Qe(e.predicate);break}}function wt(e){typeof e=="object"&&(ve(e.source_entity),ve(e.direct_entity),wt(e.type))}function ve(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Me);return}ve(e.vehicle),ve(e.targeted_entity),Qe(e.location)}}function Qe(e){if(typeof e=="object"&&typeof e.feature=="string")switch(e.feature){case"endcity":e.feature="minecraft:end_city";break;default:e.feature="minecraft:"+e.feature}}const gi=B.all(B.onFile("worldgen/processor_list",({data:e})=>Qr(e)),B.onFile("worldgen/template_pool",({data:e})=>bi(e)));function Qr(e){typeof e=="object"&&(!Array.isArray(e.processors)||e.processors.forEach(yi))}function yi(e){if(typeof e!="object")return;switch(e.processor_type.replace(/^minecraft:/,"")){case"protected_blocks":e.value.startsWith("#")||(e.value="#"+e.value)}}function bi(e){typeof e=="object"&&(!Array.isArray(e.elements)||e.elements.forEach(r=>{typeof r=="object"&&wi(r.element)}))}function wi(e){typeof e=="object"&&typeof e.processors=="object"&&Qr(e.processors)}const ki=B.all(B.onFile("worldgen/configured_structure_feature",({data:e},r)=>xi(e,r)));function xi(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"pillager_outpost":case"village":e.adapt_noise=!0}r.warn("Cannot upgrade configured structure features, set biomes to empty list."),e.biomes=[],e.spawn_overrides={}}const Ei=B.version("1.18.1","1.18.2",B.groupProblems(B.packFormat(9),B.when("worldgen",ci,di,ai,ki,gi,li),B.when("predicates",_i),B.when("functions",fi))),Ci=B.all(B.onFile("worldgen/biome",Si));function Si({data:e}){delete e.category}const Ai=B.all(B.onFile("worldgen/configured_carver",({data:e})=>zt(e)),B.onFile("worldgen/biome",({data:e})=>{typeof e.carvers=="object"&&Object.values(e.carvers).forEach(r=>{Array.isArray(r)?r.forEach(zt):zt(r)})}));function zt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"canyon":case"cave":e.config.replaceable="#minecraft:overworld_carver_replaceables";break;case"nether_cave":e.config.replaceable="#minecraft:nether_carver_replaceables";break}}const zi=B.all(B.onFile("dimension_type",({data:e})=>en(e)),B.onFile("dimension",({data:e,name:r},t)=>Oi(e,r,t)));function Oi(e,r,t){typeof e=="object"&&(typeof e.type=="object"&&(en(e.type),t.create("dimension_type",r,e.type),e.type=r),Fi(e.generator))}function en(e){e.monster_spawn_block_light_limit=0,e.monster_spawn_light_level={type:"minecraft:uniform",value:{min_inclusive:0,max_inclusive:7}}}function Fi(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"noise":delete e.seed,Ti(e.biome_source)}}function Ti(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"end":delete e.seed}}const Ri=B.all(B.onFile("worldgen/configured_feature",({data:e})=>tn(e)),B.onFile("worldgen/placed_feature",({data:e})=>Re(e)));function Re(e){typeof e=="object"&&tn(e.feature)}function tn(e){var t,p,c,n;if(typeof e!="object")return;const r=e.type.replace(/^minecraft:/,"");switch(r){case"random_boolean_selector":Re(e.config.feature_false),Re(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":Re(e.config.feature);break;case"random_selector":e.config.features.forEach(f=>{Re(f.feature)}),Re(e.config.default);break;case"simple_random_selector":e.config.features.forEach(f=>{Re(f)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":Re(e.config.vegetation_feature);break;case"disk":case"ice_patch":case"surface_disk":e.type="minecraft:random_selector",e.config={features:[],default:{feature:{type:"minecraft:disk",config:{half_height:e.config.half_height,radius:e.config.radius,state_provider:{fallback:{type:"minecraft:simple_state_provider",state:e.config.state},rules:[]},target:{type:"minecraft:matching_blocks",blocks:Ii(e.config.targets)}}},placement:[...r==="disk"?[]:[{type:"minecraft:random_offset",xz_spread:0,y_spread:-1}],{type:"minecraft:block_predicate_filter",predicate:r==="disk"?{type:"minecraft:matching_fluids",fluids:"minecraft:water"}:r==="ice_patch"?{type:"minecraft:matching_blocks",blocks:"minecraft:snow"}:{type:"minecraft:matching_blocks",blocks:(c=(p=(t=e.config)==null?void 0:t.can_origin_replace)==null?void 0:p.filter(f=>(f==null?void 0:f.replace(/^minecraft:/,""))!=="water"))!=null?c:[]}}]}};break;case"glow_lichen":e.type="minecraft:multiface_growth";break;case"tree":(n=e.config.decorators)==null||n.forEach(f=>{var i;((i=f==null?void 0:f.type)==null?void 0:i.replace(/^minecraft:/,""))==="leave_vine"&&(f.probability=.25)});break}}function Ii(e){return[...new Set(e.map(r=>r.Name))]}const Di=/\b((?:CustomPotionEffects|ActiveEffects|Effects):.+\bId\s*:\s*\d+)b\b/,Li=/\b((?:Primary|Secondary)\s*:\s*\d+)b\b/,ji=B.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("locate ")||r.startsWith("execute "))&&(e[t]=e[t].replace("locate ","locate structure ")),(r.startsWith("locatebiome ")||r.startsWith("execute "))&&(e[t]=e[t].replace("locatebiome ","locate biome ")),(r.startsWith("placefeature ")||r.startsWith("execute "))&&(e[t]=e[t].replace("placefeature ","place feature ")),r.includes("Id")&&(e[t]=e[t].replace(Di,"$1")),(r.includes("Primary")||r.includes("Secondary"))&&(e[t]=e[t].replace(Li,"$1"))})}),Pi=JSON.parse('{"min_y":-64,"height":384,"size_horizontal":1,"size_vertical":2,"sampling":{"xz_scale":1,"y_scale":1,"xz_factor":80,"y_factor":160},"bottom_slide":{"target":0.1171875,"size":3,"offset":0},"top_slide":{"target":-0.078125,"size":2,"offset":8},"terrain_shaper":{"offset":{"coordinate":"continents","points":[{"location":-1.1,"derivative":0,"value":0.044},{"location":-1.02,"derivative":0,"value":-0.2222},{"location":-0.51,"derivative":0,"value":-0.2222},{"location":-0.44,"derivative":0,"value":-0.12},{"location":-0.18,"derivative":0,"value":-0.12},{"location":-0.16,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.01,"value":0.001},{"location":0,"derivative":0.01,"value":0.003},{"location":0.4,"derivative":0.094000004,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":0.25,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.20235021},{"location":0,"derivative":0.5138249,"value":0.7161751},{"location":1,"derivative":0.5138249,"value":1.23}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.43317974,"value":0.44682026},{"location":1,"derivative":0.43317974,"value":0.88}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.3917051,"value":0.30829495},{"location":1,"derivative":0.3917051,"value":0.70000005}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.35},{"location":0,"derivative":0,"value":0.35},{"location":0.4,"derivative":0,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.07,"value":0.0069999998},{"location":0,"derivative":0.07,"value":0.021},{"location":0.4,"derivative":0.658,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.34792626},{"location":0,"derivative":0.5760369,"value":0.9239631},{"location":1,"derivative":0.5760369,"value":1.5}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.2},{"location":-0.4,"derivative":0,"value":0.5},{"location":0,"derivative":0,"value":0.5},{"location":0.4,"derivative":0,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0.099999994,"value":0.01},{"location":0,"derivative":0.099999994,"value":0.03},{"location":0.4,"derivative":0.94,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.015,"value":-0.02},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}}]},"factor":{"coordinate":"continents","points":[{"location":-0.19,"derivative":0,"value":3.95},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":0.35,"derivative":0,"value":6.25},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":0.35,"derivative":0,"value":5.47},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.47}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":0.35,"derivative":0,"value":5.08},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.08}]}},{"location":0.06,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.05,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.58,"derivative":0,"value":4.69}]}}]},"jaggedness":{"coordinate":"continents","points":[{"location":-0.11,"derivative":0,"value":0},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}},{"location":0.65,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}}]}}}'),et=new Set,Bi=B.all(async()=>{et.clear()},B.onFile("worldgen/noise_settings",({data:e},r)=>xr(e,r)),B.onFile("dimension",({data:e},r)=>{var t,p;((p=(t=e.generator)==null?void 0:t.type)==null?void 0:p.replace(/^minecraft:/,""))==="noise"&&xr(e.generator.settings,r)}),B.onFile("worldgen/density_function",({name:e,data:r},t)=>{const p=e.includes(":")?e:"minecraft:"+e;et.has(p)||(console.debug(`Visiting ${p} with default noise`),et.add(p),_e(r,t,Pi))}));function xr(e,r){typeof e=="object"&&(Object.values(e.noise_router).forEach(t=>_e(t,r,e.noise)),delete e.noise.terrain_shaper,delete e.noise.sampling,delete e.noise.top_slide,delete e.noise.bottom_slide,e.spawn_target=Ui)}function _e(e,r,t){if(typeof e=="string"){const c=e.includes(":")?e:"minecraft:"+e;if(et.has(c))console.debug(`Already visited ${c}`);else{console.debug(`Visiting ${c}`),et.add(c);const n=r.read("worldgen/density_function",c);if(n&&!n.error&&!n.deleted)_e(n.data,r,t);else if(Ar.has(c)){const f=JSON.parse(Ar.get(c));_e(f,r,t),r.create("worldgen/density_function",c,f)}}return}if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"abs":case"blend_density":case"cache_2d":case"cache_all_in_cell":case"cache_once":case"cube":case"flat_cache":case"half_negative":case"interpolated":case"quarter_negative":case"square":case"squeeze":_e(e.argument,r,t);break;case"add":case"max":case"min":case"mul":_e(e.argument1,r,t),_e(e.argument2,r,t);break;case"clamp":case"range_choice":case"weird_scaled_sampler":_e(e.input,r,t);break;case"shifted_noise":_e(e.shift_x,r,t),_e(e.shift_y,r,t),_e(e.shift_z,r,t);break;case"old_blended_noise":e.xz_scale=t.sampling.xz_scale,e.y_scale=t.sampling.y_scale,e.xz_factor=t.sampling.xz_factor,e.y_factor=t.sampling.y_factor,e.smear_scale_multiplier=8;break;case"slide":_e(e.argument,r,t);const c=Ni(e.argument,t);delete e.argument,Object.assign(e,c);break;case"spline":rn(e.spline,r,t),delete e.min_value,delete e.max_value;break;case"terrain_shaper_spline":e.type="minecraft:spline",_e(e.continentalness,r,t),_e(e.erosion,r,t),_e(e.weirdness,r,t);const n={continents:e.continentalness,erosion:e.erosion,weirdness:e.weirdness,ridges:"minecraft:overworld/ridges_folded"};let f={type:"minecraft:spline",spline:nn(t.terrain_shaper[e.spline],r,n)};e.spline==="offset"&&(f={type:"minecraft:add",argument1:-.5037500262260437,argument2:f}),e.type="minecraft:clamp",e.min=e.min_value,e.max=e.max_value,e.input=f,delete e.spline,delete e.min_value,delete e.max_value,delete e.continentalness,delete e.erosion,delete e.weirdness;break}}function rn(e,r,t){if(typeof e=="object"){_e(e.coordinate,r,t);for(const p of e.points)rn(p.value,r,t)}}function nn(e,r,t){if(typeof e!="object")return e;let p=t[e.coordinate];return p===void 0&&(r.warn(`Unknown coordinate ${e.coordinate}`),p=0),{coordinate:p,points:e.points.map(c=>({location:c.location,value:nn(c.value,r,t),derivative:c.derivative}))}}function Ni(e,r){const t=r.top_slide;if(t.size>0){const c=r.min_y+r.height-(t.offset+t.size)*4*r.size_vertical,n=r.min_y+r.height-t.offset*4*r.size_vertical,f=Sr(c,n,1,0);e=Er(f,e,t.target)}const p=r.bottom_slide;if(p.size>0){const c=r.min_y+p.offset*4*r.size_vertical,n=r.min_y+(p.offset+p.size)*4*r.size_vertical,f=Sr(c,n,0,1);e=Er(f,e,p.target)}return e}function Er(e,r,t){return Cr(Mi(e,Cr(r,-t)),t)}function Cr(e,r){return{type:"minecraft:add",argument1:e,argument2:r}}function Mi(e,r){return{type:"minecraft:mul",argument1:e,argument2:r}}function Sr(e,r,t,p){return{type:"minecraft:y_clamped_gradient",from_y:e,to_y:r,from_value:t,to_value:p}}const Ui=JSON.parse('[{"erosion":[-1,1],"depth":0,"weirdness":[-1,-0.16],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]},{"erosion":[-1,1],"depth":0,"weirdness":[0.16,1],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]}]'),Ar=new Map(Object.entries({"minecraft:overworld/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}',"minecraft:overworld/depth":'{"argument1":{"from_y":-64,"to_y":320,"from_value":1.5,"to_value":-1.5,"type":"minecraft:y_clamped_gradient"},"argument2":{"argument":{"argument":{"argument1":{"argument1":{"type":"minecraft:blend_offset"},"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"offset","min_value":-0.81,"max_value":2.5,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"type":"minecraft:add"}',"minecraft:overworld/base_3d_noise":'{"type":"minecraft:old_blended_noise"}',"minecraft:overworld_large_biomes/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld_large_biomes/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld_large_biomes/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld_large_biomes/depth":'{"argument1":{"from_y":-64,"to_y":320,"from_value":1.5,"to_value":-1.5,"type":"minecraft:y_clamped_gradient"},"argument2":{"argument":{"argument":{"argument1":{"argument1":{"type":"minecraft:blend_offset"},"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"offset","min_value":-0.81,"max_value":2.5,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"type":"minecraft:add"}',"minecraft:overworld_large_biomes/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}'})),$i=B.all(B.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Ue):Ue(e)}),B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Wi)}),B.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(Zi)}));function Wi(e){var t;if(typeof(e==null?void 0:e.conditions)!="object")return;switch(ge(e.conditions.entity),ge(e.conditions.player),ge(e.conditions.parent),ge(e.conditions.partner),ge(e.conditions.child),ge(e.conditions.villager),ge(e.conditions.zombie),ge(e.conditions.projectile),ge(e.conditions.shooter),(t=e.conditions.victims)==null||t.forEach(ge),kt(e.conditions.damage),kt(e.conditions.killing_blow),tt(e.conditions.location),tt(e.conditions.entered),tt(e.conditions.exited),e.trigger.replace(/^minecraft:/,"")){case"location":case"slept_in_bed":case"hero_of_the_village":case"voluntary_exile":if(typeof e.conditions!="object")break;const p=e.conditions.location?e.conditions.location:e.conditions.player?void 0:e.conditions,c=e.conditions.player;e.conditions={player:Gi(c,p)},delete e.conditions.location;break}}function Zi(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(on),(t=e.conditions)==null||t.forEach(Ue))}function on(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(on),(t=e.conditions)==null||t.forEach(Ue))}function Ue(e){var t,p;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(p=e.terms)==null||p.forEach(Ue);break;case"inverted":Ue(e.term);break;case"entity_properties":ge(e.predicate);break;case"damage_source_properties":kt(e.predicate);break;case"location_check":tt(e.predicate);break}}function kt(e){typeof e=="object"&&(ge(e.source_entity),ge(e.direct_entity),kt(e.type))}function ge(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Ue);return}if(ge(e.vehicle),ge(e.targeted_entity),tt(e.location),e.player)e.type_specific=ie({type:"player"},e.player),delete e.player;else if(e.fishing_hook)e.type_specific=ie({type:"fishing_hook"},e.fishing_hook),delete e.fishing_hook;else if(e.lightning_bolt)e.type_specific=ie({type:"lightning"},e.lightning_bolt),delete e.lightning_bolt;else if(e.catType){const r=e.catType.replace(/^textures\/entity\/cat\/([a-z_]+).png/,"$1");e.type_specific={type:"cat",variant:r},delete e.catType}}}function tt(e){typeof e=="object"&&typeof e.feature=="string"&&(e.structure=e.feature,delete e.feature)}function Gi(e,r){return e===void 0?{location:r}:r===void 0?e:Array.isArray(e)&&e.length>=1?[...e,{condition:"minecraft:entity_properties",entity:"this",predicate:{location:r}}]:be(ie({},e),{location:ie(ie({},e.location),r)})}const Hi=B.all(B.rename("worldgen/configured_structure_feature","worldgen/structure"),B.rename("tags/worldgen/configured_structure_feature","tags/worldgen/structure"),B.onFile("worldgen/structure_set",({data:e,name:r},t)=>Ki(e,r,t)),B.onFile("worldgen/structure",({data:e})=>qi(e)));function qi(e){var t,p;if(typeof e!="object")return;const r=(t=e.type)==null?void 0:t.replace(/^minecraft:/,"");switch(r==="mineshaft"&&(e.mineshaft_type=e.config.type),Object.assign(e,e.config),delete e.config,e.step="surface_structures",delete e.probability,e.adapt_noise&&(e.terrain_adaptation=r==="stronghold"?"bury":"beard_thin",delete e.adapt_noise),r){case"bastion_remnant":e.type="minecraft:jigsaw",e.start_height={absolute:33},e.max_distance_from_center=80,e.use_expansion_hack=!1;break;case"pillager_outpost":case"village":e.type="minecraft:jigsaw",e.start_height={absolute:0},e.project_start_to_heightmap="WORLD_SURFACE_WG",e.max_distance_from_center=80,e.use_expansion_hack=!0;break;case"endcity":e.type="minecraft:end_city";break;case"jungle_pyramid":e.type="minecraft:jungle_temple";break;case"mansion":e.type="minecraft:woodland_mansion";break;case"monument":e.type="minecraft:ocean_monument";break;case"ruined_portal":const c={standard:[ze({weight:.5,can_be_cold:!0,air_pocket_probability:1,mossiness:.2}),ze({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],desert:[ze({placement:"partly_buried"})],jungle:[ze({vines:!0,overgrown:!0,air_pocket_probability:.5,mossiness:.8,placement:"on_land_surface"})],mountain:[ze({weight:.5,can_be_cold:!0,air_pocket_probability:.1,mossiness:.2,placement:"in_mountain"}),ze({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],nether:[ze({replace_with_blackstone:!0,air_pocket_probability:.5,placement:"in_nether"})],ocean:[ze({can_be_cold:!0,mossiness:.8,placement:"on_ocean_floor"})],swamp:[ze({vines:!0,mossiness:.5,placement:"on_ocean_floor"})]};e.setups=(p=c[e.portal_type])!=null?p:[],delete e.portal_type}}function ze(e={}){return ie({weight:1,vines:!1,can_be_cold:!1,replace_with_blackstone:!1,placement:"underground",air_pocket_probability:0,mossiness:0,overgrown:!1},e)}function Ki(e,r,t){var f,i,m,y;if(typeof e!="object"||!((f=e.structures[0])!=null&&f.structure))return;const p=(i=t.read("worldgen/structure",e.structures[0].structure))==null?void 0:i.data;if(!p)return;switch((m=p.type)==null?void 0:m.replace(/^minecraft:/,"")){case"mineshaft":e.placement.frequency_reduction_method="legacy_type_3",e.placement.frequency=p.config.probability;break}switch(r==="minecraft:pillager_outposts"&&(e.placement.exclusion_zone={other_set:"minecraft:villages",chunk_count:10},e.placement.frequency_reduction_method="legacy_type_1",e.placement.frequency=.2),(y=e.placement.type)==null?void 0:y.replace(/^minecraft:/,"")){case"concentric_rings":e.placement.salt=0,e.placement.preferred_biomes="#minecraft:stronghold_biased_to";break}}const Yi=B.version("1.18.2","1.19",B.groupProblems(B.packFormat(10),B.when("worldgen",Ci,Ai,zi,Bi,Hi,Ri),B.when("predicates",$i),B.when("functions",ji)));let Ot;async function Xi(){if(Ot===void 0){const r=await(await fetch("https://raw.githubusercontent.com/misode/mcmeta/registries/sound_event/data.min.json")).json();Ot=new Set(r)}return Ot}const Ji=B.all(B.onFile("worldgen/biome",Vi));async function Vi({data:e}){typeof e=="object"&&await Qi(e.effects)}async function Qi(e){if(typeof e!="object")return;const r=await Xi();e.ambient_sound&&(e.ambient_sound=Ft(e.ambient_sound,r)),e.mood_sound&&(e.mood_sound.sound=Ft(e.mood_sound.sound,r)),e.additions_sound&&(e.additions_sound.sound=Ft(e.additions_sound.sound,r))}function Ft(e,r){return typeof e!="string"||r.has(e.replace(/^minecraft:/,""))?e:{sound_id:e}}const eo=B.version("1.19","1.19.3",B.groupProblems(B.when("worldgen",Ji))),to=B.all(B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(ro)}));function ro(e){switch(e.trigger.replace(/^minecraft:/,"")){case"nether_travel":if(typeof e.conditions!="object")break;const{distance:t,entered:p,exited:c,player:n}=e.conditions;e.conditions={player:no(n,c),start_position:p,distance:t};break}}function no(e,r){return e===void 0?{location:r}:Array.isArray(e)&&e.length>=1?[e,{type:"minecraft:entity_properties",predicate:{location:r}}]:be(ie({},e),{location:ie(ie({},e.location),r)})}const io=B.all(B.onFile("worldgen/biome",oo));function oo({data:e},r){var p,c;r.warn('Biome "depth" and "scale" were removed and replaced with a more powerful terrain shaper option in noise settings. No automatic upgrade possible.'),e.depth=void 0,e.scale=void 0,r.warn('Biome "surface_builder" was removed and replaced with a more powerful surface_rule option in noise settings. No automatic upgrade possible.'),e.surface_builder=void 0,Array.isArray(e.starts)&&e.starts.length>0&&r.warn('Biome "starts" was removed, custom structures are not supported in 1.18.'),e.starts=void 0,Array.isArray(e.features)&&e.features.length>=9&&e.features.splice(8,0,[]);const t=(p=e.effects.particle)==null?void 0:p.options;((c=t==null?void 0:t.type)==null?void 0:c.replace(/minecraft:/,""))==="dust"&&t.r&&(e.effects.particle.options={type:"minecraft:dust",color:[t.r,t.g,t.b],scale:t.scale})}const ao=B.all(B.onFile("dimension",({data:e},r)=>{var t,p;if(((p=(t=e.generator)==null?void 0:t.type)==null?void 0:p.replace(/^minecraft:/,""))==="noise"){const c=so(e.generator.biome_source,r);Mt(e.generator.settings,r,c)}}),B.onFile("worldgen/noise_settings",({data:e},r)=>{Mt(e,r)}));function so(e,r){var p;if(typeof e!="object")return[];switch(e.type.replace(/^minecraft:/,"")){case"fixed":return[e.biome];case"checkerboard":return[...new Set(e.biomes)];case"multi_noise":return e.seed=void 0,((p=e.preset)==null?void 0:p.replace(/^minecraft:/,""))==="nether"?["nether_wastes","soul_sand_valley","crimson_forest","warped_forest","basalt_deltas"]:(e.altitude_noise=void 0,e.temperature_noise=void 0,e.humidity_noise=void 0,e.weirdness_noise=void 0,e.biomes.forEach(c=>{c.parameters={temperature:c.parameters.temperature,humidity:c.parameters.humidity,continentalness:c.parameters.altitude,erosion:0,weirdness:c.parameters.weirdness,depth:0,offset:c.parameters.offset}}),[...new Set(e.biomes.map(c=>c.biome))]);case"vanilla_layered":return r.warn('Removed biome source "vanilla_layered", replaced with the multi noise overworld preset.'),e.type="multi_noise",e.preset="minecraft:overworld",[]}return[]}function Mt(e,r,t=[]){if(typeof e=="string"){const c=r.read("worldgen/noise_settings",e);c&&Mt(c.data,r,t);return}if(typeof e!="object"||e.surface_rule!==void 0)return;e.legacy_random_source=!1,e.noise.top_slide.target/=128,e.noise.bottom_slide.target/=128,e.min_surface_level=void 0,e.noise.simplex_surface_noise=void 0,e.noise.random_density_offset=void 0,e.noise.terrain_shaper={offset:0,factor:0,jaggedness:0},e.noise.density_offset=void 0,e.noise.density_factor=void 0;const p=[];e.bedrock_floor_position>-10&&p.push(Ut("vertical_gradient",{random_name:"minecraft:bedrock_floor",true_at_and_below:{above_bottom:e.bedrock_floor_position+5},false_at_and_above:{above_bottom:e.bedrock_floor_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.bedrock_roof_position>-10&&p.push(co("vertical_gradient",{random_name:"minecraft:bedrock_roof",true_at_and_below:{below_top:e.bedrock_roof_position+5},false_at_and_above:{below_top:e.bedrock_roof_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.deepslate_enabled&&p.push(Ut("vertical_gradient",{random_name:"minecraft:deepslate",true_at_and_below:{absolute:0},false_at_and_above:{absolute:8}}).thenRun("block",{result_state:{Name:"minecraft:deepslate",Properties:{axis:"y"}}})),e.surface_rule={type:"minecraft:sequence",sequence:p}}function Ut(e,r){return{thenRun:(t,p)=>({type:"minecraft:condition",if_true:ie({type:`minecraft:${e}`},r),then_run:ie({type:`minecraft:${t}`},p)})}}function co(e,r){return Ut("not",{invert:ie({type:`minecraft:${e}`},r)})}const lo=B.all(B.onFile("worldgen/configured_feature",({data:e},r)=>Oe(e,r)));function Oe(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":$t(e.config.decorator,r),Oe(e.config.feature,r);break;case"random_boolean_selector":Oe(e.config.feature_false,r),Oe(e.config.feature_true,r);break;case"random_selector":e.config.features.forEach(m=>Oe(m.feature,r)),Oe(e.config.default,r);break;case"simple_random_selector":e.config.features.forEach(m=>Oe(m,r));break;case"flower":case"no_bonemeal_flower":case"random_patch":e.config.xspread!==e.config.zspread&&r.warn("Random patch xspread and zspread can no longer be different. Using xspread.");const p=[];e.config.can_replace!==!0&&p.push({type:"minecraft:matching_blocks",blocks:["minecraft:air"]}),Ye(e.config.whitelist)&&p.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Xe(e.config.whitelist)}),Ye(e.config.blacklist)&&p.push({type:"minecraft:not",predicate:{type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Xe(e.config.blacklist)}});const n=e.config.block_placer.type.replace(/^minecraft:/,"")==="column_placer"?{type:"minecraft:block_column",config:{direction:"up",allowed_placement:e.config.can_replace!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!1,layers:[{height:e.config.block_placer.size,provider:e.config.state_provider}]}}:{type:"minecraft:simple_block",config:{to_place:e.config.state_provider}};e.config={tries:e.config.tries,xz_spread:e.config.xspread,y_spread:e.config.yspread,feature:dt(n,[{type:"minecraft:block_filter",config:{predicate:{type:"minecraft:all_of",predicates:p}}}])},e.config.project===!0&&(e.config={decorator:{type:"heightmap",config:{heightmap:"OCEAN_FLOOR"}},feature:{type:e.type,config:e.config}},e.type="minecraft:decorated");break;case"growing_plant":e.type="minecraft:block_column",e.config={direction:e.config.direction,allowed_placement:e.config.allow_water!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!0,layers:[{height:{type:"minecraft:weighted_list",distribution:e.config.height_distribution.map(m=>({weight:m.weight,data:an(m.data,-1,0,1/0)}))},provider:e.config.body_provider},{height:1,provider:e.config.head_provider}]};break;case"root_system":Oe(e.config.feature,r);break;case"simple_block":const f=[];Ye(e.config.place_on)&&f.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Xe(e.config.place_on)}),Ye(e.config.place_in)&&f.push({type:"minecraft:matching_blocks",blocks:Xe(e.config.place_in)}),Ye(e.config.place_under)&&f.push({type:"minecraft:matching_blocks",offset:[0,1,0],blocks:Xe(e.config.place_under)}),e.config.place_on=void 0,e.config.place_in=void 0,e.config.place_under=void 0,f.length>0&&(e.type="minecraft:decorated",e.config={decorator:{type:"minecraft:block_filter",config:{predicate:f.length==1?f[0]:{type:"minecraft:all_of",predicates:f}}},feature:{type:"minecraft:simple_block",config:e.config}});break;case"small_dripstone":const i=m=>dt({type:"minecraft:pointed_dripstone",config:{chance_of_taller_dripstone:e.config.chance_of_taller_dripstone,chance_of_directional_spread:.7,chance_of_spread_radius2:.5,chance_of_spread_radius3:.5}},[{type:"minecraft:cave_surface",config:{surface:m,floor_to_ceiling_search_range:12,allow_water:!0}}]);e.type="minecraft:decorated",e.config=dt({type:"minecraft:simple_random_selector",config:{features:[i("floor"),i("ceiling")]}},[{type:"count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:1,max_inclusive:e.config.max_placements}}}},{type:"minecraft:scatter",config:{xz_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:3,min_inclusive:-10,max_inclusive:10}},y_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:.6,min_inclusive:-2,max_inclusive:2}}}}]).config;break;case"vegetation_patch":case"waterlogged_vegetation_patch":Oe(e.config.vegetation_feature,r)}}function an(e,r,t,p){if(typeof e=="number")return e+r;const c=e.type.replace(/^minecraft:/,"");switch(c){case"constant":return{type:e.type,value:Math.max(t,Math.min(p,e.value+r))};case"uniform":case"biased_to_bottom":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(p,e.value.min_inclusive+r)),max_inclusive:Math.max(t,Math.min(p,e.value.max_inclusive+r))}};case"clamped":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(p,e.value.min_inclusive+r)),max_inclusive:Math.max(t,Math.min(p,e.value.max_inclusive+r)),source:an(e.value.source,r,t,p)}}}throw new Error(`Unknown int provider "${c}"`)}function $t(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":$t(e.config.outer,r),$t(e.config.inner,r);break;case"cave_surface":e.config.allow_water=!1;break;case"heightmap_spread_double":r.warn('Removed decorator "heightmap_spread_double" was replaced with "heightmap". You likely need to make this feature rarer.'),e.type="minecraft:heightmap";break;case"spread_32_above":r.warn('Removed decorator "spread_32_above". You likely need to make this feature rarer.'),e.type="minecraft:nope";break}}function dt(e,r=[]){return r.length==0?e:{type:"minecraft:decorated",config:{decorator:r[0],feature:dt(e,r.slice(1))}}}function Ye(e){return Array.isArray(e)&&e.length>0}function Xe(e){return[...new Set(e.map(r=>r.Name))]}const uo=B.version("1.17.1","21w44a",B.groupProblems(B.packFormat(8),B.when("predicates",to),B.when("worldgen",ao,lo,io))),fo=async(e,r)=>{Wt.forEach(t=>{e.data[t].filter(p=>p.error).forEach(p=>{r.warn(`!${p.error}`)})})},po=B.all(fo,Xn,uo,oi,Ei,Yi,eo),Wt=["advancements","dimension","dimension_type","loot_tables","predicates","tags/blocks","tags/entity_types","tags/fluids","tags/game_events","tags/items","tags/worldgen/biome","tags/worldgen/configured_structure_feature","tags/worldgen/flat_level_generator_preset","tags/worldgen/structure","tags/worldgen/world_preset","worldgen/biome","worldgen/configured_carver","worldgen/configured_feature","worldgen/configured_structure_feature","worldgen/configured_surface_builder","worldgen/density_function","worldgen/noise_settings","worldgen/noise","worldgen/placed_feature","worldgen/processor_list","worldgen/structure","worldgen/structure_set","worldgen/template_pool"];var it;(e=>{async function r(o){const d=await o.arrayBuffer(),l=await Fn.loadAsync(d),a=l.filter(v=>v.endsWith("pack.mcmeta")&&!v.startsWith("__MACOSX/"));if(a.length===0)throw new Error('Cannot find any "pack.mcmeta" files.');return Promise.all(a.map(v=>{const h=v.name.replace(/\/?pack.mcmeta$/,""),k=h.length===0?o.name.replace(/\.zip$/,""):h.split("/").pop();return t(k,l.folder(h))}))}e.fromZip=r;async function t(o,d){const l={id:sn(),name:o,root:d,status:"loaded",data:{},meta:ie({name:"pack"},await c(d.file("pack.mcmeta")))};return await Promise.all(Wt.map(async a=>{l.data[a]=await p(d.folder("data"),a)})),l.data.functions=await n(d.folder("data")),console.log(l),l}async function p(o,d){const l=new RegExp(`^([^/]+)/${d}/(.*).json$`),a=[];return o.forEach((v,h)=>{const k=v.match(l);k&&k[1]&&k[2]&&a.push({name:`${k[1]}:${k[2]}`,file:h})}),Promise.all(a.map(async({name:v,file:h})=>{try{const k=await c(h);return ie({name:v},k)}catch(k){return{name:v,data:void 0,error:k.message}}}))}async function c(o){let d=await f(o);const l=On(d).indent;try{return d=d.replaceAll("\u200B","").replaceAll("\u200C","").replaceAll("\u200D","").replaceAll("\uFEFF",""),d=d.split(`
`).map(a=>a.replace(/^([^"\/]+)\/\/.*/,"$1")).join(`
`),{data:JSON.parse(Dn(d)),indent:l}}catch(a){throw new Error(`Cannot parse file "${o.name}": ${a.message}.`)}}async function n(o){const d=/([^\/]+)\/functions\/(.*)\.mcfunction$/;return Promise.all(o.filter(l=>l.match(d)!==null).map(async l=>{const a=l.name.match(d);return{name:`${a[1]}:${a[2]}`,data:(await f(l)).split(`
`)}}))}async function f(o){return await o.async("text")}async function i(o){var a;if(o.status!=="upgraded")throw new Error(`Cannot download pack with status ${o.status}.`);Wt.forEach(v=>{var h;m(o.root.folder("data"),v,(h=o.data[v])!=null?h:[])}),y(o.root.folder("data"),(a=o.data.functions)!=null?a:[]),u(o.root,"pack.mcmeta",o.meta.data,o.meta.indent);const d=await o.root.generateAsync({type:"blob",compression:"DEFLATE"}),l=URL.createObjectURL(d);return o.status="done",l}e.toZip=i;function m(o,d,l){l.forEach(({name:a,data:v,indent:h,error:k,deleted:z})=>{const[w,S]=a.split(":"),A=`${w}/${d}/${S}.json`;z?o.remove(A):k||u(o,A,v,h)})}function y(o,d){d.forEach(({name:l,data:a,error:v,deleted:h})=>{const[k,z]=l.split(":"),w=`${k}/functions/${z}.mcfunction`;h?o.remove(w):v||g(o,w,a.join(`
`))})}function u(o,d,l,a){const v=JSON.stringify(l,null,a)+`
`;g(o,d,v)}function g(o,d,l){o.file(d,l)}async function b(o,d){if(o.status!=="loaded")throw new Error(`Cannot upgrade pack with status '${o.status}'.`);let l;const a=o.meta.data.pack.pack_format;if(d.source==="auto"){const k=pe.autoDetect(a);k===void 0?(l=pe.autoDetectOrFallback(a),d.onWarning(`No matching version found for pack format ${a}, using fallback ${l}`)):l=k}else{if(a!==pe.packFormat(d.source))throw new Error(`Found pack format ${a}, which does not match version ${d.source}`);l=d.source}const v=d.target;if(pe.order(v,l))throw new Error(`Invalid version range: ${l} > ${v}`);const h={warn:d.onWarning,prompt:d.onPrompt,source:()=>l,target:()=>v,config:k=>d.features[k],read:(k,z)=>o.data[k].find(w=>w.error===void 0&&w.name.replace(/^minecraft:/,"")===z.replace(/^minecraft:/,"")),create:(k,z,w)=>{o.data[k].push({name:z,indent:o.meta.indent,data:w})}};await po(o,h),o.status="upgraded"}e.upgrade=b})(it||(it={}));const ho=e=>("0"+e.toString(16)).substr(-2);function sn(e=12){var r=new Uint8Array(e/2);return window.crypto.getRandomValues(r),Array.from(r,ho).join("")}function _o({pack:e,config:r,source:t,target:p,onError:c,onRemove:n,onDone:f,doDownload:i}){var C;const[m,y]=ke("Loading..."),[u,g]=ke(null),[b,o]=ke([]),[d,l]=ke(null),[a,v]=ke(!1),[h,k]=ke(null),z=Rt(null),w=Rt(()=>{}),S=`${e.name}_${p}.zip`,A=It(()=>{var R;return t!=="auto"?t:(R=pe.autoDetect(e.meta.data.pack.pack_format))!=null?R:"???"},[]),O=It(()=>p,[]),F=(R,_,D,V)=>(k({title:R,message:_,actions:D!=null?D:["Confirm"],info:V}),new Promise(U=>{w.current=re=>{k(null),U(re)}})),N=(R,_,D)=>{setTimeout(()=>o(V=>[...V,{message:R,files:_,info:D}]))};lr(()=>{(async()=>{try{y("Upgrading..."),await it.upgrade(e,{features:r,source:t,target:p,onPrompt:F,onWarning:N}),y("Zipping...");const R=await it.toZip(e);g(R),f()}catch(R){c(R),l("Error during upgrading")}})()},[e]);const Y=()=>{v(!a)};return lr(()=>{i&&z.current.click()},[i]),K("div",{class:"pack"},K("div",{class:"pack-head"},u&&K("a",{class:"pack-status download",ref:z,href:u,download:S,"data-hover":`Download data pack for ${p}`},De.download),!u&&!d&&!h&&K("div",{class:"pack-status loading","data-hover":m},De.sync),!u&&!d&&h&&K("div",{class:"pack-status prompt","data-hover":"Manual action required"},De.report),(b.length>0||d)&&K("div",{class:`pack-status alert${d?" error":""}`,onClick:Y,"data-hover":d!=null?d:"There were issues upgrading"},De.alert),K("span",{class:"pack-name"},e.name.replace(/\.zip$/,"")),K("span",{class:"pack-version"},pe.displayName(A)," \u2192 ",pe.displayName(O)),K("div",{class:"pack-status remove",onClick:n},De.x)),(h||b.length>0&&!a)&&K("div",{class:"pack-body"},h&&K("div",{class:"pack-prompt"},K("p",{class:"prompt-title"},h.title),h.message&&K("p",{class:"prompt-message"},h.message),K("p",null,h.actions.map(R=>K("button",{onClick:()=>w.current(R)},R))),(C=h.info)==null?void 0:C.map(R=>K("p",{class:"prompt-info"},R))),b.length>0&&!a&&b.map(({message:R,files:_,info:D})=>K("div",{class:"pack-alert"},K("div",{class:`alert-message ${R.startsWith("!")?"alert-error":""}`},R.replace(/\!/,"")),_&&_.length>0&&K(Ge,null,K("p",null,"Affected files:"),K("div",{class:"alert-files"},_.map(V=>K("p",null,V)))),D==null?void 0:D.map(V=>K("p",{class:"alert-info"},V))))))}function zr({value:e,onChange:r,allowAuto:t}){const p=Rt(null);return K("select",{class:"version-picker",ref:p,value:e,onChange:()=>{r(p.current.value)}},t&&K("option",{value:"auto"},"Auto-detect"),we.filter(n=>n!=="21w44a").map(n=>K("option",{value:n},pe.displayName(n))))}var We;(e=>{const r="misode_upgrader_config";function t(){var m;return JSON.parse((m=localStorage.getItem(r))!=null?m:"{}")}function p(m){const y=ie(ie({},t()),m);localStorage.setItem(r,JSON.stringify(y))}function c(){const m=new URLSearchParams(location.search).get("from");if(m&&(m==="auto"||we.includes(m)))return m;const y=t().source;return y&&(y==="auto"||we.includes(y))?y:pe.DEFAULT_SOURCE}e.getSource=c;function n(m){p({source:m})}e.setSource=n;function f(){const m=new URLSearchParams(location.search).get("to");if(m&&we.includes(m))return m;const y=t().target;return y&&we.includes(y)?y:pe.DEFAULT_TARGET}e.getTarget=f;function i(m){p({target:m})}e.setTarget=i})(We||(We={}));function mo(){const[e,r]=ke([]),[t,p]=ke([]),[c,n]=ke(We.getSource()),[f,i]=ke(We.getTarget()),[m,y]=ke({functions:!0,ids:!0,predicates:!0,worldgen:!0,packFormat:!0,featureCycles:!0}),u=h=>{We.setSource(h),n(h)},g=h=>{h==="auto"&&(h=pe.DEFAULT_TARGET),We.setTarget(h),i(h)},b=(h,k)=>{const z=sn(),w=k.stack.split(`
`).map(S=>S.replace(/^(\s+)at (?:async )?(https?:.*)/,"$1at ($2)"));Mr.exports.mapStackTrace(w.join(`
`),S=>{const A=w[0]+`
`+S.map(O=>O.replace(/..\/..\/src\//,"src/")).join(`
`);p(O=>O.map(F=>F.id===z?be(ie({},F),{stacktrace:A}):F))}),p([...t,{id:z,process:h,error:k}])},o=async h=>{if(h.preventDefault(),!h.dataTransfer)return;const k=[];for(let z=0;z<h.dataTransfer.files.length;z++){const w=h.dataTransfer.files[z];w.type.match(/^application\/(x-)?zip(-compressed)?$/)&&k.push(it.fromZip(w))}if(k.length===0)b("loading",new Error("The dropped files contain no zip files. Please zip the data pack first."));else{const z=await Promise.all(k.map(async w=>{try{return await w}catch(S){b("loading",S),console.error(S);return}}));r([...e,...z.flat().filter(w=>w!==void 0)])}},d=h=>{console.error(h),b("upgrading",h)},l=h=>{r(k=>k.filter(z=>z.id!==h))},[a,v]=ke(0);return K("main",{onDrop:o,onDragOver:h=>h.preventDefault()},e.length>0&&K(Ge,null,K("div",{class:"packs"},e.map(h=>K(_o,{key:h.id,pack:h,config:m,source:c,target:f,doDownload:a,onError:d,onRemove:()=>l(h.id),onDone:()=>r([...e])})),e.filter(h=>h.status==="done").length>1&&K("button",{class:"download-all",onClick:()=>v(a+1)},De.download,K("span",null,"Download all")))),K("div",{class:"drop"},K("h1",null,"Drop data pack here"),K("p",null,"Convert from ",K(zr,{value:c,onChange:u,allowAuto:!0})," to ",K(zr,{value:f,onChange:g})),c!=="auto"&&pe.order(f,c)?K("p",{class:"error-message"},"Invalid version range"):pe.isWorkInProgress(c==="auto"?f:c,f)?K("p",{class:"warning-message"},"This upgrade is still being worked on"):null),K("div",{class:"configs"},K($e,{name:"Upgrade functions",value:m.functions,onChange:h=>y(be(ie({},m),{functions:h}))}),K($e,{name:"Upgrade IDs",value:m.ids,onChange:h=>y(be(ie({},m),{ids:h}))}),K($e,{name:"Upgrade JSON files",value:m.predicates,onChange:h=>y(be(ie({},m),{predicates:h}))}),K($e,{name:"Upgrade worldgen",value:m.worldgen,onChange:h=>y(be(ie({},m),{worldgen:h}))}),K($e,{name:"Upgrade pack_format",value:m.packFormat,onChange:h=>y(be(ie({},m),{packFormat:h}))}),K($e,{name:"Detect feature cycles",value:m.featureCycles,onChange:h=>y(be(ie({},m),{featureCycles:h}))})),K("div",{class:"footer"},K("p",null,"Developed by Misode"),K("p",null,"Source code on ",K("a",{href:"https://github.com/misode/upgrader",target:"_blank"},"GitHub")),K("p",{class:"donate"},De.heart,K("a",{href:"https://ko-fi.com/misode",target:"_blank"},"Donate"))),K("div",{class:"main-errors"},t.map(h=>{var S;const k=`${h.error.name}: ${h.error.message}`,z=`An error occurred while ${h.process} a data pack.
Data Pack: <!-- ATTACH YOUR DATAPACK HERE -->

\`\`\`
${(S=h.stacktrace)!=null?S:h.error.stack}
\`\`\`
`,w=`https://github.com/misode/upgrader/issues/new?title=${encodeURIComponent(k)}&body=${encodeURIComponent(z)}
`;return K("div",{class:"main-error"},K("p",null,"Something went wrong ",h.process," the data pack:"),K("p",{class:"error-message"},h.error.message),K("p",null,"You can report this as a bug ",K("a",{href:w,target:"_blank"},"on GitHub")," and upload the data pack"),K("div",{class:"error-close",onClick:()=>p(t.filter(A=>A.id!==h.id))},De.x))})))}wn(K(mo,null),document.body);
//# sourceMappingURL=index.30dee138.js.map
