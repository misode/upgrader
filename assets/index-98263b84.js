(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function t(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(l){if(l.ep)return;l.ep=!0;const n=t(l);fetch(l.href,n)}})();var ne,et,Ir,er,mt={},Kt=[],_n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function De(e,r){for(var t in r)e[t]=r[t];return e}function Rr(e){var r=e.parentNode;r&&r.removeChild(e)}function mn(e,r,t){var u,l,n,f=arguments,a={};for(n in r)n=="key"?u=r[n]:n=="ref"?l=r[n]:a[n]=r[n];if(arguments.length>3)for(t=[t],n=3;n<arguments.length;n++)t.push(f[n]);if(t!=null&&(a.children=t),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)a[n]===void 0&&(a[n]=e.defaultProps[n]);return dt(e,a,u,l,null)}function dt(e,r,t,u,l){var n={type:e,props:r,key:t,ref:u,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++ne.__v};return ne.vnode!=null&&ne.vnode(n),n}function qe(e){return e.children}function ht(e,r){this.props=e,this.context=r}function ot(e,r){if(r==null)return e.__?ot(e.__,e.__.__k.indexOf(e)+1):null;for(var t;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?ot(e):null}function jr(e){var r,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return jr(e)}}function tr(e){(!e.__d&&(e.__d=!0)&&et.push(e)&&!vt.__r++||er!==ne.debounceRendering)&&((er=ne.debounceRendering)||Ir)(vt)}function vt(){for(var e;vt.__r=et.length;)e=et.sort(function(r,t){return r.__v.__b-t.__v.__b}),et=[],e.some(function(r){var t,u,l,n,f,a;r.__d&&(f=(n=(t=r).__v).__e,(a=t.__P)&&(u=[],(l=De({},n)).__v=n.__v+1,Yt(a,n,l,t.__n,a.ownerSVGElement!==void 0,n.__h!=null?[f]:null,u,f??ot(n),n.__h),Br(u,n),n.__e!=f&&jr(n)))})}function Dr(e,r,t,u,l,n,f,a,d,y){var s,g,b,o,h,i,p,m=u&&u.__k||Kt,v=m.length;for(t.__k=[],s=0;s<r.length;s++)if((o=t.__k[s]=(o=r[s])==null||typeof o=="boolean"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"?dt(null,o,null,null,o):Array.isArray(o)?dt(qe,{children:o},null,null,null):o.__b>0?dt(o.type,o.props,o.key,null,o.__v):o)!=null){if(o.__=t,o.__b=t.__b+1,(b=m[s])===null||b&&o.key==b.key&&o.type===b.type)m[s]=void 0;else for(g=0;g<v;g++){if((b=m[g])&&o.key==b.key&&o.type===b.type){m[g]=void 0;break}b=null}Yt(e,o,b=b||mt,l,n,f,a,d,y),h=o.__e,(g=o.ref)&&b.ref!=g&&(p||(p=[]),b.ref&&p.push(b.ref,null,o),p.push(g,o.__c||h,o)),h!=null?(i==null&&(i=h),typeof o.type=="function"&&o.__k!=null&&o.__k===b.__k?o.__d=d=Lr(o,d,e):d=Pr(e,o,b,m,h,d),y||t.type!=="option"?typeof t.type=="function"&&(t.__d=d):e.value=""):d&&b.__e==d&&d.parentNode!=e&&(d=ot(b))}for(t.__e=i,s=v;s--;)m[s]!=null&&(typeof t.type=="function"&&m[s].__e!=null&&m[s].__e==t.__d&&(t.__d=ot(u,s+1)),Mr(m[s],m[s]));if(p)for(s=0;s<p.length;s++)$r(p[s],p[++s],p[++s])}function Lr(e,r,t){var u,l;for(u=0;u<e.__k.length;u++)(l=e.__k[u])&&(l.__=e,r=typeof l.type=="function"?Lr(l,r,t):Pr(t,l,l,e.__k,l.__e,r));return r}function Pr(e,r,t,u,l,n){var f,a,d;if(r.__d!==void 0)f=r.__d,r.__d=void 0;else if(t==null||l!=n||l.parentNode==null)e:if(n==null||n.parentNode!==e)e.appendChild(l),f=null;else{for(a=n,d=0;(a=a.nextSibling)&&d<u.length;d+=2)if(a==l)break e;e.insertBefore(l,n),f=n}return f!==void 0?f:l.nextSibling}function vn(e,r,t,u,l){var n;for(n in t)n==="children"||n==="key"||n in r||gt(e,n,null,t[n],u);for(n in r)l&&typeof r[n]!="function"||n==="children"||n==="key"||n==="value"||n==="checked"||t[n]===r[n]||gt(e,n,r[n],t[n],u)}function rr(e,r,t){r[0]==="-"?e.setProperty(r,t):e[r]=t==null?"":typeof t!="number"||_n.test(r)?t:t+"px"}function gt(e,r,t,u,l){var n;e:if(r==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof u=="string"&&(e.style.cssText=u=""),u)for(r in u)t&&r in t||rr(e.style,r,"");if(t)for(r in t)u&&t[r]===u[r]||rr(e.style,r,t[r])}else if(r[0]==="o"&&r[1]==="n")n=r!==(r=r.replace(/Capture$/,"")),r=r.toLowerCase()in e?r.toLowerCase().slice(2):r.slice(2),e.l||(e.l={}),e.l[r+n]=t,t?u||e.addEventListener(r,n?ir:nr,n):e.removeEventListener(r,n?ir:nr,n);else if(r!=="dangerouslySetInnerHTML"){if(l)r=r.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(r!=="href"&&r!=="list"&&r!=="form"&&r!=="tabIndex"&&r!=="download"&&r in e)try{e[r]=t??"";break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||r[0]==="a"&&r[1]==="r")?e.setAttribute(r,t):e.removeAttribute(r))}}function nr(e){this.l[e.type+!1](ne.event?ne.event(e):e)}function ir(e){this.l[e.type+!0](ne.event?ne.event(e):e)}function Yt(e,r,t,u,l,n,f,a,d){var y,s,g,b,o,h,i,p,m,v,k,E=r.type;if(r.constructor!==void 0)return null;t.__h!=null&&(d=t.__h,a=r.__e=t.__e,r.__h=null,n=[a]),(y=ne.__b)&&y(r);try{e:if(typeof E=="function"){if(p=r.props,m=(y=E.contextType)&&u[y.__c],v=y?m?m.props.value:y.__:u,t.__c?i=(s=r.__c=t.__c).__=s.__E:("prototype"in E&&E.prototype.render?r.__c=s=new E(p,v):(r.__c=s=new ht(p,v),s.constructor=E,s.render=yn),m&&m.sub(s),s.props=p,s.state||(s.state={}),s.context=v,s.__n=u,g=s.__d=!0,s.__h=[]),s.__s==null&&(s.__s=s.state),E.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=De({},s.__s)),De(s.__s,E.getDerivedStateFromProps(p,s.__s))),b=s.props,o=s.state,g)E.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(E.getDerivedStateFromProps==null&&p!==b&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(p,v),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(p,s.__s,v)===!1||r.__v===t.__v){s.props=p,s.state=s.__s,r.__v!==t.__v&&(s.__d=!1),s.__v=r,r.__e=t.__e,r.__k=t.__k,r.__k.forEach(function(w){w&&(w.__=r)}),s.__h.length&&f.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(p,s.__s,v),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(b,o,h)})}s.context=v,s.props=p,s.state=s.__s,(y=ne.__r)&&y(r),s.__d=!1,s.__v=r,s.__P=e,y=s.render(s.props,s.state,s.context),s.state=s.__s,s.getChildContext!=null&&(u=De(De({},u),s.getChildContext())),g||s.getSnapshotBeforeUpdate==null||(h=s.getSnapshotBeforeUpdate(b,o)),k=y!=null&&y.type===qe&&y.key==null?y.props.children:y,Dr(e,Array.isArray(k)?k:[k],r,t,u,l,n,f,a,d),s.base=r.__e,r.__h=null,s.__h.length&&f.push(s),i&&(s.__E=s.__=null),s.__e=!1}else n==null&&r.__v===t.__v?(r.__k=t.__k,r.__e=t.__e):r.__e=gn(t.__e,r,t,u,l,n,f,d);(y=ne.diffed)&&y(r)}catch(w){r.__v=null,(d||n!=null)&&(r.__e=a,r.__h=!!d,n[n.indexOf(a)]=null),ne.__e(w,r,t)}}function Br(e,r){ne.__c&&ne.__c(r,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(u){u.call(t)})}catch(u){ne.__e(u,t.__v)}})}function gn(e,r,t,u,l,n,f,a){var d,y,s,g,b=t.props,o=r.props,h=r.type,i=0;if(h==="svg"&&(l=!0),n!=null){for(;i<n.length;i++)if((d=n[i])&&(d===e||(h?d.localName==h:d.nodeType==3))){e=d,n[i]=null;break}}if(e==null){if(h===null)return document.createTextNode(o);e=l?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,o.is&&o),n=null,a=!1}if(h===null)b===o||a&&e.data===o||(e.data=o);else{if(n=n&&Kt.slice.call(e.childNodes),y=(b=t.props||mt).dangerouslySetInnerHTML,s=o.dangerouslySetInnerHTML,!a){if(n!=null)for(b={},g=0;g<e.attributes.length;g++)b[e.attributes[g].name]=e.attributes[g].value;(s||y)&&(s&&(y&&s.__html==y.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(vn(e,o,b,l,a),s)r.__k=[];else if(i=r.props.children,Dr(e,Array.isArray(i)?i:[i],r,t,u,l&&h!=="foreignObject",n,f,e.firstChild,a),n!=null)for(i=n.length;i--;)n[i]!=null&&Rr(n[i]);a||("value"in o&&(i=o.value)!==void 0&&(i!==e.value||h==="progress"&&!i)&&gt(e,"value",i,b.value,!1),"checked"in o&&(i=o.checked)!==void 0&&i!==e.checked&&gt(e,"checked",i,b.checked,!1))}return e}function $r(e,r,t){try{typeof e=="function"?e(r):e.current=r}catch(u){ne.__e(u,t)}}function Mr(e,r,t){var u,l,n;if(ne.unmount&&ne.unmount(e),(u=e.ref)&&(u.current&&u.current!==e.__e||$r(u,null,r)),t||typeof e.type=="function"||(t=(l=e.__e)!=null),e.__e=e.__d=void 0,(u=e.__c)!=null){if(u.componentWillUnmount)try{u.componentWillUnmount()}catch(f){ne.__e(f,r)}u.base=u.__P=null}if(u=e.__k)for(n=0;n<u.length;n++)u[n]&&Mr(u[n],r,t);l!=null&&Rr(l)}function yn(e,r,t){return this.constructor(e,t)}function bn(e,r,t){var u,l,n;ne.__&&ne.__(e,r),l=(u=typeof t=="function")?null:t&&t.__k||r.__k,n=[],Yt(r,e=(!u&&t||r).__k=mn(qe,null,[e]),l||mt,mt,r.ownerSVGElement!==void 0,!u&&t?[t]:l?null:r.firstChild?Kt.slice.call(r.childNodes):null,n,!u&&t?t:l?l.__e:r.firstChild,u),Br(n,e)}ne={__e:function(e,r){for(var t,u,l;r=r.__;)if((t=r.__c)&&!t.__)try{if((u=t.constructor)&&u.getDerivedStateFromError!=null&&(t.setState(u.getDerivedStateFromError(e)),l=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(e),l=t.__d),l)return t.__E=t}catch(n){e=n}throw e},__v:0},ht.prototype.setState=function(e,r){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=De({},this.state),typeof e=="function"&&(e=e(De({},t),this.props)),e&&De(t,e),e!=null&&this.__v&&(r&&this.__h.push(r),tr(this))},ht.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),tr(this))},ht.prototype.render=qe,et=[],Ir=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,vt.__r=0;var Ot,ke,or,yt=0,Lt=[],ar=ne.__b,sr=ne.__r,cr=ne.diffed,lr=ne.__c,ur=ne.unmount;function Xt(e,r){ne.__h&&ne.__h(ke,e,yt||r),yt=0;var t=ke.__H||(ke.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function we(e){return yt=1,wn(Ur,e)}function wn(e,r,t){var u=Xt(Ot++,2);return u.t=e,u.__c||(u.__=[t?t(r):Ur(void 0,r),function(l){var n=u.t(u.__[0],l);u.__[0]!==n&&(u.__=[n,u.__[1]],u.__c.setState({}))}],u.__c=ke),u.__}function fr(e,r){var t=Xt(Ot++,3);!ne.__s&&Nr(t.__H,r)&&(t.__=e,t.__H=r,ke.__H.__h.push(t))}function Pt(e){return yt=5,Bt(function(){return{current:e}},[])}function Bt(e,r){var t=Xt(Ot++,7);return Nr(t.__H,r)&&(t.__=e(),t.__H=r,t.__h=e),t.__}function kn(){Lt.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(pt),e.__H.__h.forEach($t),e.__H.__h=[]}catch(r){e.__H.__h=[],ne.__e(r,e.__v)}}),Lt=[]}ne.__b=function(e){ke=null,ar&&ar(e)},ne.__r=function(e){sr&&sr(e),Ot=0;var r=(ke=e.__c).__H;r&&(r.__h.forEach(pt),r.__h.forEach($t),r.__h=[])},ne.diffed=function(e){cr&&cr(e);var r=e.__c;r&&r.__H&&r.__H.__h.length&&(Lt.push(r)!==1&&or===ne.requestAnimationFrame||((or=ne.requestAnimationFrame)||function(t){var u,l=function(){clearTimeout(n),dr&&cancelAnimationFrame(u),setTimeout(t)},n=setTimeout(l,100);dr&&(u=requestAnimationFrame(l))})(kn)),ke=void 0},ne.__c=function(e,r){r.some(function(t){try{t.__h.forEach(pt),t.__h=t.__h.filter(function(u){return!u.__||$t(u)})}catch(u){r.some(function(l){l.__h&&(l.__h=[])}),r=[],ne.__e(u,t.__v)}}),lr&&lr(e,r)},ne.unmount=function(e){ur&&ur(e);var r=e.__c;if(r&&r.__H)try{r.__H.__.forEach(pt)}catch(t){ne.__e(t,r.__v)}};var dr=typeof requestAnimationFrame=="function";function pt(e){var r=ke;typeof e.__c=="function"&&e.__c(),ke=r}function $t(e){var r=ke;e.__c=e.__(),ke=r}function Nr(e,r){return!e||e.length!==r.length||r.some(function(t,u){return t!==e[u]})}function Ur(e,r){return typeof r=="function"?r(e):r}var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wr={exports:{}};(function(e,r){(function(u,l){e.exports=l()})(Qe,function(){return function(t){var u={};function l(n){if(u[n])return u[n].exports;var f=u[n]={exports:{},id:n,loaded:!1};return t[n].call(f.exports,f,f.exports,l),f.loaded=!0,f.exports}return l.m=t,l.c=u,l.p="",l(0)}([function(t,u,l){var n,f;n=[l(1)],f=function(a){var d={},y=function(z,O,T){var $,K,A={},I,_,L,V,N,re=new i(T),W=T&&T.traceFormat;if(W!=="chrome"&&W!=="firefox"){if(W)throw new Error('unknown traceFormat "'+W+'" :(');if(s()||o())W="chrome";else if(g()||b())W="firefox";else throw new Error("unknown browser :(")}W==="chrome"?(V=/^ +at.+\((.*):([0-9]+):([0-9]+)/,L=4,N=1):(V=/@(.*):([0-9]+):([0-9]+)/,L=4,N=0),$=z.split(`
`).slice(N);for(var ee=0;ee<$.length;ee++)K=$[ee],!(T&&T.filter&&!T.filter(K))&&(I=K.match(V),I&&I.length===L&&(A[ee]=I,_=I[1],_.match(/<anonymous>/)||re.fetchScript(_)));re.sem.whenReady(function(){var P=m($,A,re.mapForUri,W);O(P)})},s=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},g=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},b=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},o=function(){return document.documentMode&&document.documentMode>=11},h=function(){this.count=0,this.pending=[]};h.prototype.incr=function(){this.count++},h.prototype.decr=function(){this.count--,this.flush()},h.prototype.whenReady=function(z){this.pending.push(z),this.flush()},h.prototype.flush=function(){this.count===0&&(this.pending.forEach(function(z){z()}),this.pending=[])};var i=function(z){this.sem=new h,this.sync=z&&z.sync,this.mapForUri=z&&z.cacheGlobally?d:{}};i.prototype.ajax=function(z,O){var T=S(),$=this;T.onreadystatechange=function(){T.readyState==4&&O.call($,T,z)},T.open("GET",z,!this.sync),T.send()},i.prototype.fetchScript=function(z){if(!(z in this.mapForUri))this.sem.incr(),this.mapForUri[z]=null;else return;this.ajax(z,this.onScriptLoad)};var p=new RegExp("^(?:[a-z]+:)?//","i");i.prototype.onScriptLoad=function(z,O){if(z.status===200||O.slice(0,7)==="file://"&&z.status===0){var T=z.responseText.match("//# [s]ourceMappingURL=(.*)[\\s]*$","m");if(T&&T.length===2){var $=T[1],K=$.match("data:application/json;(charset=[^;]+;)?base64,(.*)");if(K&&K[2])this.mapForUri[O]=new a.SourceMapConsumer(atob(K[2])),this.sem.decr();else{if(!p.test($)){var A,I=O.lastIndexOf("/");I!==-1&&(A=O.slice(0,I+1),$=A+$)}this.ajax($,function(_){(_.status===200||$.slice(0,7)==="file://"&&_.status===0)&&(this.mapForUri[O]=new a.SourceMapConsumer(_.responseText)),this.sem.decr()})}}else this.sem.decr()}else this.sem.decr()};var m=function(z,O,T,$){for(var K=[],A,I=$==="chrome"?v:k,_=0;_<z.length;_++){var L=O[_];if(L){var V=L[1],N=parseInt(L[2],10),re=parseInt(L[3],10);if(A=T[V],A){var W=A.originalPositionFor({line:N,column:re});K.push(E(W.source,W.line,W.column,W.name||I(z[_])))}else K.push(E(V,N,re,I(z[_])))}else K.push(z[_])}return K};function v(z){var O=/ +at +([^ ]*).*/.exec(z);return O&&O[1]}function k(z){var O=/([^@]*)@.*/.exec(z);return O&&O[1]}var E=function(z,O,T,$){return"    at "+($||"(unknown)")+" ("+z+":"+O+":"+T+")"},w=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];function S(){for(var z=!1,O=0;O<w.length;O++){try{z=w[O]()}catch{continue}break}return z}return{mapStackTrace:y}}.apply(u,n),f!==void 0&&(t.exports=f)},function(t,u,l){var n=l(2),f=l(3),a=l(4).ArraySet,d=l(5),y=l(7).quickSort;function s(h){var i=h;return typeof h=="string"&&(i=JSON.parse(h.replace(/^\)\]\}'/,""))),i.sections!=null?new o(i):new g(i)}s.fromSourceMap=function(h){return g.fromSourceMap(h)},s.prototype._version=3,s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),s.prototype._charIsMappingSeparator=function(i,p){var m=i.charAt(p);return m===";"||m===","},s.prototype._parseMappings=function(i,p){throw new Error("Subclasses must implement _parseMappings")},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.GREATEST_LOWER_BOUND=1,s.LEAST_UPPER_BOUND=2,s.prototype.eachMapping=function(i,p,m){var v=p||null,k=m||s.GENERATED_ORDER,E;switch(k){case s.GENERATED_ORDER:E=this._generatedMappings;break;case s.ORIGINAL_ORDER:E=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var w=this.sourceRoot;E.map(function(S){var z=S.source===null?null:this._sources.at(S.source);return z!=null&&w!=null&&(z=n.join(w,z)),{source:z,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(i,v)},s.prototype.allGeneratedPositionsFor=function(i){var p=n.getArg(i,"line"),m={source:n.getArg(i,"source"),originalLine:p,originalColumn:n.getArg(i,"column",0)};if(this.sourceRoot!=null&&(m.source=n.relative(this.sourceRoot,m.source)),!this._sources.has(m.source))return[];m.source=this._sources.indexOf(m.source);var v=[],k=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,f.LEAST_UPPER_BOUND);if(k>=0){var E=this._originalMappings[k];if(i.column===void 0)for(var w=E.originalLine;E&&E.originalLine===w;)v.push({line:n.getArg(E,"generatedLine",null),column:n.getArg(E,"generatedColumn",null),lastColumn:n.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++k];else for(var S=E.originalColumn;E&&E.originalLine===p&&E.originalColumn==S;)v.push({line:n.getArg(E,"generatedLine",null),column:n.getArg(E,"generatedColumn",null),lastColumn:n.getArg(E,"lastGeneratedColumn",null)}),E=this._originalMappings[++k]}return v},u.SourceMapConsumer=s;function g(h){var i=h;typeof h=="string"&&(i=JSON.parse(h.replace(/^\)\]\}'/,"")));var p=n.getArg(i,"version"),m=n.getArg(i,"sources"),v=n.getArg(i,"names",[]),k=n.getArg(i,"sourceRoot",null),E=n.getArg(i,"sourcesContent",null),w=n.getArg(i,"mappings"),S=n.getArg(i,"file",null);if(p!=this._version)throw new Error("Unsupported version: "+p);m=m.map(String).map(n.normalize).map(function(z){return k&&n.isAbsolute(k)&&n.isAbsolute(z)?n.relative(k,z):z}),this._names=a.fromArray(v.map(String),!0),this._sources=a.fromArray(m,!0),this.sourceRoot=k,this.sourcesContent=E,this._mappings=w,this.file=S}g.prototype=Object.create(s.prototype),g.prototype.consumer=s,g.fromSourceMap=function(i){var p=Object.create(g.prototype),m=p._names=a.fromArray(i._names.toArray(),!0),v=p._sources=a.fromArray(i._sources.toArray(),!0);p.sourceRoot=i._sourceRoot,p.sourcesContent=i._generateSourcesContent(p._sources.toArray(),p.sourceRoot),p.file=i._file;for(var k=i._mappings.toArray().slice(),E=p.__generatedMappings=[],w=p.__originalMappings=[],S=0,z=k.length;S<z;S++){var O=k[S],T=new b;T.generatedLine=O.generatedLine,T.generatedColumn=O.generatedColumn,O.source&&(T.source=v.indexOf(O.source),T.originalLine=O.originalLine,T.originalColumn=O.originalColumn,O.name&&(T.name=m.indexOf(O.name)),w.push(T)),E.push(T)}return y(p.__originalMappings,n.compareByOriginalPositions),p},g.prototype._version=3,Object.defineProperty(g.prototype,"sources",{get:function(){return this._sources.toArray().map(function(h){return this.sourceRoot!=null?n.join(this.sourceRoot,h):h},this)}});function b(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}g.prototype._parseMappings=function(i,p){for(var m=1,v=0,k=0,E=0,w=0,S=0,z=i.length,O=0,T={},$={},K=[],A=[],I,_,L,V,N;O<z;)if(i.charAt(O)===";")m++,O++,v=0;else if(i.charAt(O)===",")O++;else{for(I=new b,I.generatedLine=m,V=O;V<z&&!this._charIsMappingSeparator(i,V);V++);if(_=i.slice(O,V),L=T[_],L)O+=_.length;else{for(L=[];O<V;)d.decode(i,O,$),N=$.value,O=$.rest,L.push(N);if(L.length===2)throw new Error("Found a source, but no line and column");if(L.length===3)throw new Error("Found a source and line, but no column");T[_]=L}I.generatedColumn=v+L[0],v=I.generatedColumn,L.length>1&&(I.source=w+L[1],w+=L[1],I.originalLine=k+L[2],k=I.originalLine,I.originalLine+=1,I.originalColumn=E+L[3],E=I.originalColumn,L.length>4&&(I.name=S+L[4],S+=L[4])),A.push(I),typeof I.originalLine=="number"&&K.push(I)}y(A,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=A,y(K,n.compareByOriginalPositions),this.__originalMappings=K},g.prototype._findMapping=function(i,p,m,v,k,E){if(i[m]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+i[m]);if(i[v]<0)throw new TypeError("Column must be greater than or equal to 0, got "+i[v]);return f.search(i,p,k,E)},g.prototype.computeColumnSpans=function(){for(var i=0;i<this._generatedMappings.length;++i){var p=this._generatedMappings[i];if(i+1<this._generatedMappings.length){var m=this._generatedMappings[i+1];if(p.generatedLine===m.generatedLine){p.lastGeneratedColumn=m.generatedColumn-1;continue}}p.lastGeneratedColumn=1/0}},g.prototype.originalPositionFor=function(i){var p={generatedLine:n.getArg(i,"line"),generatedColumn:n.getArg(i,"column")},m=this._findMapping(p,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(i,"bias",s.GREATEST_LOWER_BOUND));if(m>=0){var v=this._generatedMappings[m];if(v.generatedLine===p.generatedLine){var k=n.getArg(v,"source",null);k!==null&&(k=this._sources.at(k),this.sourceRoot!=null&&(k=n.join(this.sourceRoot,k)));var E=n.getArg(v,"name",null);return E!==null&&(E=this._names.at(E)),{source:k,line:n.getArg(v,"originalLine",null),column:n.getArg(v,"originalColumn",null),name:E}}}return{source:null,line:null,column:null,name:null}},g.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(i){return i==null}):!1},g.prototype.sourceContentFor=function(i,p){if(!this.sourcesContent)return null;if(this.sourceRoot!=null&&(i=n.relative(this.sourceRoot,i)),this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];var m;if(this.sourceRoot!=null&&(m=n.urlParse(this.sourceRoot))){var v=i.replace(/^file:\/\//,"");if(m.scheme=="file"&&this._sources.has(v))return this.sourcesContent[this._sources.indexOf(v)];if((!m.path||m.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(p)return null;throw new Error('"'+i+'" is not in the SourceMap.')},g.prototype.generatedPositionFor=function(i){var p=n.getArg(i,"source");if(this.sourceRoot!=null&&(p=n.relative(this.sourceRoot,p)),!this._sources.has(p))return{line:null,column:null,lastColumn:null};p=this._sources.indexOf(p);var m={source:p,originalLine:n.getArg(i,"line"),originalColumn:n.getArg(i,"column")},v=this._findMapping(m,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(i,"bias",s.GREATEST_LOWER_BOUND));if(v>=0){var k=this._originalMappings[v];if(k.source===m.source)return{line:n.getArg(k,"generatedLine",null),column:n.getArg(k,"generatedColumn",null),lastColumn:n.getArg(k,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},u.BasicSourceMapConsumer=g;function o(h){var i=h;typeof h=="string"&&(i=JSON.parse(h.replace(/^\)\]\}'/,"")));var p=n.getArg(i,"version"),m=n.getArg(i,"sections");if(p!=this._version)throw new Error("Unsupported version: "+p);this._sources=new a,this._names=new a;var v={line:-1,column:0};this._sections=m.map(function(k){if(k.url)throw new Error("Support for url field in sections not implemented.");var E=n.getArg(k,"offset"),w=n.getArg(E,"line"),S=n.getArg(E,"column");if(w<v.line||w===v.line&&S<v.column)throw new Error("Section offsets must be ordered and non-overlapping.");return v=E,{generatedOffset:{generatedLine:w+1,generatedColumn:S+1},consumer:new s(n.getArg(k,"map"))}})}o.prototype=Object.create(s.prototype),o.prototype.constructor=s,o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){for(var h=[],i=0;i<this._sections.length;i++)for(var p=0;p<this._sections[i].consumer.sources.length;p++)h.push(this._sections[i].consumer.sources[p]);return h}}),o.prototype.originalPositionFor=function(i){var p={generatedLine:n.getArg(i,"line"),generatedColumn:n.getArg(i,"column")},m=f.search(p,this._sections,function(k,E){var w=k.generatedLine-E.generatedOffset.generatedLine;return w||k.generatedColumn-E.generatedOffset.generatedColumn}),v=this._sections[m];return v?v.consumer.originalPositionFor({line:p.generatedLine-(v.generatedOffset.generatedLine-1),column:p.generatedColumn-(v.generatedOffset.generatedLine===p.generatedLine?v.generatedOffset.generatedColumn-1:0),bias:i.bias}):{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(i){return i.consumer.hasContentsOfAllSources()})},o.prototype.sourceContentFor=function(i,p){for(var m=0;m<this._sections.length;m++){var v=this._sections[m],k=v.consumer.sourceContentFor(i,!0);if(k)return k}if(p)return null;throw new Error('"'+i+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(i){for(var p=0;p<this._sections.length;p++){var m=this._sections[p];if(m.consumer.sources.indexOf(n.getArg(i,"source"))!==-1){var v=m.consumer.generatedPositionFor(i);if(v){var k={line:v.line+(m.generatedOffset.generatedLine-1),column:v.column+(m.generatedOffset.generatedLine===v.line?m.generatedOffset.generatedColumn-1:0)};return k}}}return{line:null,column:null}},o.prototype._parseMappings=function(i,p){this.__generatedMappings=[],this.__originalMappings=[];for(var m=0;m<this._sections.length;m++)for(var v=this._sections[m],k=v.consumer._generatedMappings,E=0;E<k.length;E++){var w=k[E],S=v.consumer._sources.at(w.source);v.consumer.sourceRoot!==null&&(S=n.join(v.consumer.sourceRoot,S)),this._sources.add(S),S=this._sources.indexOf(S);var z=v.consumer._names.at(w.name);this._names.add(z),z=this._names.indexOf(z);var O={source:S,generatedLine:w.generatedLine+(v.generatedOffset.generatedLine-1),generatedColumn:w.generatedColumn+(v.generatedOffset.generatedLine===w.generatedLine?v.generatedOffset.generatedColumn-1:0),originalLine:w.originalLine,originalColumn:w.originalColumn,name:z};this.__generatedMappings.push(O),typeof O.originalLine=="number"&&this.__originalMappings.push(O)}y(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),y(this.__originalMappings,n.compareByOriginalPositions)},u.IndexedSourceMapConsumer=o},function(t,u){function l(w,S,z){if(S in w)return w[S];if(arguments.length===3)return z;throw new Error('"'+S+'" is a required argument.')}u.getArg=l;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,f=/^data:.+\,.+$/;function a(w){var S=w.match(n);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}u.urlParse=a;function d(w){var S="";return w.scheme&&(S+=w.scheme+":"),S+="//",w.auth&&(S+=w.auth+"@"),w.host&&(S+=w.host),w.port&&(S+=":"+w.port),w.path&&(S+=w.path),S}u.urlGenerate=d;function y(w){var S=w,z=a(w);if(z){if(!z.path)return w;S=z.path}for(var O=u.isAbsolute(S),T=S.split(/\/+/),$,K=0,A=T.length-1;A>=0;A--)$=T[A],$==="."?T.splice(A,1):$===".."?K++:K>0&&($===""?(T.splice(A+1,K),K=0):(T.splice(A,2),K--));return S=T.join("/"),S===""&&(S=O?"/":"."),z?(z.path=S,d(z)):S}u.normalize=y;function s(w,S){w===""&&(w="."),S===""&&(S=".");var z=a(S),O=a(w);if(O&&(w=O.path||"/"),z&&!z.scheme)return O&&(z.scheme=O.scheme),d(z);if(z||S.match(f))return S;if(O&&!O.host&&!O.path)return O.host=S,d(O);var T=S.charAt(0)==="/"?S:y(w.replace(/\/+$/,"")+"/"+S);return O?(O.path=T,d(O)):T}u.join=s,u.isAbsolute=function(w){return w.charAt(0)==="/"||!!w.match(n)};function g(w,S){w===""&&(w="."),w=w.replace(/\/$/,"");for(var z=0;S.indexOf(w+"/")!==0;){var O=w.lastIndexOf("/");if(O<0||(w=w.slice(0,O),w.match(/^([^\/]+:\/)?\/*$/)))return S;++z}return Array(z+1).join("../")+S.substr(w.length+1)}u.relative=g;var b=function(){var w=Object.create(null);return!("__proto__"in w)}();function o(w){return w}function h(w){return p(w)?"$"+w:w}u.toSetString=b?o:h;function i(w){return p(w)?w.slice(1):w}u.fromSetString=b?o:i;function p(w){if(!w)return!1;var S=w.length;if(S<9||w.charCodeAt(S-1)!==95||w.charCodeAt(S-2)!==95||w.charCodeAt(S-3)!==111||w.charCodeAt(S-4)!==116||w.charCodeAt(S-5)!==111||w.charCodeAt(S-6)!==114||w.charCodeAt(S-7)!==112||w.charCodeAt(S-8)!==95||w.charCodeAt(S-9)!==95)return!1;for(var z=S-10;z>=0;z--)if(w.charCodeAt(z)!==36)return!1;return!0}function m(w,S,z){var O=w.source-S.source;return O!==0||(O=w.originalLine-S.originalLine,O!==0)||(O=w.originalColumn-S.originalColumn,O!==0||z)||(O=w.generatedColumn-S.generatedColumn,O!==0)||(O=w.generatedLine-S.generatedLine,O!==0)?O:w.name-S.name}u.compareByOriginalPositions=m;function v(w,S,z){var O=w.generatedLine-S.generatedLine;return O!==0||(O=w.generatedColumn-S.generatedColumn,O!==0||z)||(O=w.source-S.source,O!==0)||(O=w.originalLine-S.originalLine,O!==0)||(O=w.originalColumn-S.originalColumn,O!==0)?O:w.name-S.name}u.compareByGeneratedPositionsDeflated=v;function k(w,S){return w===S?0:w>S?1:-1}function E(w,S){var z=w.generatedLine-S.generatedLine;return z!==0||(z=w.generatedColumn-S.generatedColumn,z!==0)||(z=k(w.source,S.source),z!==0)||(z=w.originalLine-S.originalLine,z!==0)||(z=w.originalColumn-S.originalColumn,z!==0)?z:k(w.name,S.name)}u.compareByGeneratedPositionsInflated=E},function(t,u){u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2;function l(n,f,a,d,y,s){var g=Math.floor((f-n)/2)+n,b=y(a,d[g],!0);return b===0?g:b>0?f-g>1?l(g,f,a,d,y,s):s==u.LEAST_UPPER_BOUND?f<d.length?f:-1:g:g-n>1?l(n,g,a,d,y,s):s==u.LEAST_UPPER_BOUND?g:n<0?-1:n}u.search=function(f,a,d,y){if(a.length===0)return-1;var s=l(-1,a.length,f,a,d,y||u.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&d(a[s],a[s-1],!0)===0;)--s;return s}},function(t,u,l){var n=l(2),f=Object.prototype.hasOwnProperty;function a(){this._array=[],this._set=Object.create(null)}a.fromArray=function(y,s){for(var g=new a,b=0,o=y.length;b<o;b++)g.add(y[b],s);return g},a.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},a.prototype.add=function(y,s){var g=n.toSetString(y),b=f.call(this._set,g),o=this._array.length;(!b||s)&&this._array.push(y),b||(this._set[g]=o)},a.prototype.has=function(y){var s=n.toSetString(y);return f.call(this._set,s)},a.prototype.indexOf=function(y){var s=n.toSetString(y);if(f.call(this._set,s))return this._set[s];throw new Error('"'+y+'" is not in the set.')},a.prototype.at=function(y){if(y>=0&&y<this._array.length)return this._array[y];throw new Error("No element indexed by "+y)},a.prototype.toArray=function(){return this._array.slice()},u.ArraySet=a},function(t,u,l){var n=l(6),f=5,a=1<<f,d=a-1,y=a;function s(b){return b<0?(-b<<1)+1:(b<<1)+0}function g(b){var o=(b&1)===1,h=b>>1;return o?-h:h}u.encode=function(o){var h="",i,p=s(o);do i=p&d,p>>>=f,p>0&&(i|=y),h+=n.encode(i);while(p>0);return h},u.decode=function(o,h,i){var p=o.length,m=0,v=0,k,E;do{if(h>=p)throw new Error("Expected more digits in base 64 VLQ value.");if(E=n.decode(o.charCodeAt(h++)),E===-1)throw new Error("Invalid base64 digit: "+o.charAt(h-1));k=!!(E&y),E&=d,m=m+(E<<v),v+=f}while(k);i.value=g(m),i.rest=h}},function(t,u){var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");u.encode=function(n){if(0<=n&&n<l.length)return l[n];throw new TypeError("Must be between 0 and 63: "+n)},u.decode=function(n){var f=65,a=90,d=97,y=122,s=48,g=57,b=43,o=47,h=26,i=52;return f<=n&&n<=a?n-f:d<=n&&n<=y?n-d+h:s<=n&&n<=g?n-s+i:n==b?62:n==o?63:-1}},function(t,u){function l(a,d,y){var s=a[d];a[d]=a[y],a[y]=s}function n(a,d){return Math.round(a+Math.random()*(d-a))}function f(a,d,y,s){if(y<s){var g=n(y,s),b=y-1;l(a,g,s);for(var o=a[s],h=y;h<s;h++)d(a[h],o)<=0&&(b+=1,l(a,b,h));l(a,b+1,h);var i=b+1;f(a,d,y,i-1),f(a,d,i+1,s)}}u.quickSort=function(a,d){f(a,d,0,a.length-1)}}])})})(Wr);var En=Wr.exports;function Y(e,r,t,u,l){var n={};for(var f in r)f!="ref"&&(n[f]=r[f]);var a,d,y={type:e,props:n,key:t,ref:r&&r.ref,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:++ne.__v,__source:u,__self:l};if(typeof e=="function"&&(a=e.defaultProps))for(d in a)n[d]===void 0&&(n[d]=a[d]);return ne.vnode&&ne.vnode(y),y}function Ze({name:e,value:r,onChange:t}){return Y("label",{class:"config",children:[Y("input",{type:"checkbox",checked:r,onChange:u=>t(u.target.checked)}),e]})}const je={alert:Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Y("path",{"fill-rule":"evenodd",d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})}),download:Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Y("path",{"fill-rule":"evenodd",d:"M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z"})}),heart:Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Y("path",{"fill-rule":"evenodd",d:"M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"})}),report:Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Y("path",{"fill-rule":"evenodd",d:"M1.75 1.5a.25.25 0 00-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h6.5a.25.25 0 00.25-.25v-9.5a.25.25 0 00-.25-.25H1.75zM0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0114.25 13H8.06l-2.573 2.573A1.457 1.457 0 013 14.543V13H1.75A1.75 1.75 0 010 11.25v-9.5zM9 9a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})}),sync:Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Y("path",{"fill-rule":"evenodd",d:"M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"})}),x:Y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16",children:Y("path",{"fill-rule":"evenodd",d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"})})},Cn=/^(?:( )+|\t+)/,at="space",Zr="tab";function hr(e,r){const t=new Map;let u=0,l,n;for(const f of e.split(/\n/g)){if(!f)continue;let a,d,y,s,g;const b=f.match(Cn);if(b===null)u=0,l="";else{if(a=b[0].length,d=b[1]?at:Zr,r&&d===at&&a===1)continue;d!==l&&(u=0),l=d,y=1,s=0;const o=a-u;if(u=a,o===0)y=0,s=1;else{const h=o>0?o:-o;n=Sn(d,h)}g=t.get(n),g=g===void 0?[1,0]:[g[0]+y,g[1]+s],t.set(n,g)}}return t}function Sn(e,r){return(e===at?"s":"t")+String(r)}function An(e){const t=e[0]==="s"?at:Zr,u=Number(e.slice(1));return{type:t,amount:u}}function zn(e){let r,t=0,u=0;for(const[l,[n,f]]of e)(n>t||n===t&&f>u)&&(t=n,u=f,r=l);return r}function On(e,r){return(e===at?" ":"	").repeat(r)}function Fn(e){if(typeof e!="string")throw new TypeError("Expected a string");let r=hr(e,!0);r.size===0&&(r=hr(e,!1));const t=zn(r);let u,l=0,n="";return t!==void 0&&({type:u,amount:l}=An(t),n=On(u,l)),{amount:l,type:u,indent:n}}function ut(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gr={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,r){(function(t){e.exports=t()})(function(){return function t(u,l,n){function f(y,s){if(!l[y]){if(!u[y]){var g=typeof ut=="function"&&ut;if(!s&&g)return g(y,!0);if(a)return a(y,!0);var b=new Error("Cannot find module '"+y+"'");throw b.code="MODULE_NOT_FOUND",b}var o=l[y]={exports:{}};u[y][0].call(o.exports,function(h){var i=u[y][1][h];return f(i||h)},o,o.exports,t,u,l,n)}return l[y].exports}for(var a=typeof ut=="function"&&ut,d=0;d<n.length;d++)f(n[d]);return f}({1:[function(t,u,l){var n=t("./utils"),f=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(d){for(var y,s,g,b,o,h,i,p=[],m=0,v=d.length,k=v,E=n.getTypeOf(d)!=="string";m<d.length;)k=v-m,g=E?(y=d[m++],s=m<v?d[m++]:0,m<v?d[m++]:0):(y=d.charCodeAt(m++),s=m<v?d.charCodeAt(m++):0,m<v?d.charCodeAt(m++):0),b=y>>2,o=(3&y)<<4|s>>4,h=1<k?(15&s)<<2|g>>6:64,i=2<k?63&g:64,p.push(a.charAt(b)+a.charAt(o)+a.charAt(h)+a.charAt(i));return p.join("")},l.decode=function(d){var y,s,g,b,o,h,i=0,p=0,m="data:";if(d.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var v,k=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===a.charAt(64)&&k--,d.charAt(d.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=f.uint8array?new Uint8Array(0|k):new Array(0|k);i<d.length;)y=a.indexOf(d.charAt(i++))<<2|(b=a.indexOf(d.charAt(i++)))>>4,s=(15&b)<<4|(o=a.indexOf(d.charAt(i++)))>>2,g=(3&o)<<6|(h=a.indexOf(d.charAt(i++))),v[p++]=y,o!==64&&(v[p++]=s),h!==64&&(v[p++]=g);return v}},{"./support":30,"./utils":32}],2:[function(t,u,l){var n=t("./external"),f=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),d=t("./stream/DataLengthProbe");function y(s,g,b,o,h){this.compressedSize=s,this.uncompressedSize=g,this.crc32=b,this.compression=o,this.compressedContent=h}y.prototype={getContentWorker:function(){var s=new f(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),g=this;return s.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),s},getCompressedWorker:function(){return new f(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(s,g,b){return s.pipe(new a).pipe(new d("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",g)},u.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,u,l){var n=t("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},l.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,u,l){var n=t("./utils"),f=function(){for(var a,d=[],y=0;y<256;y++){a=y;for(var s=0;s<8;s++)a=1&a?3988292384^a>>>1:a>>>1;d[y]=a}return d}();u.exports=function(a,d){return a!==void 0&&a.length?n.getTypeOf(a)!=="string"?function(y,s,g,b){var o=f,h=b+g;y^=-1;for(var i=b;i<h;i++)y=y>>>8^o[255&(y^s[i])];return-1^y}(0|d,a,a.length,0):function(y,s,g,b){var o=f,h=b+g;y^=-1;for(var i=b;i<h;i++)y=y>>>8^o[255&(y^s.charCodeAt(i))];return-1^y}(0|d,a,a.length,0):0}},{"./utils":32}],5:[function(t,u,l){l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(t,u,l){var n=null;n=typeof Promise<"u"?Promise:t("lie"),u.exports={Promise:n}},{lie:37}],7:[function(t,u,l){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=t("pako"),a=t("./utils"),d=t("./stream/GenericWorker"),y=n?"uint8array":"array";function s(g,b){d.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}l.magic="\b\0",a.inherits(s,d),s.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(y,g.data),!1)},s.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},l.compressWorker=function(g){return new s("Deflate",g)},l.uncompressWorker=function(){return new s("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,u,l){function n(o,h){var i,p="";for(i=0;i<h;i++)p+=String.fromCharCode(255&o),o>>>=8;return p}function f(o,h,i,p,m,v){var k,E,w=o.file,S=o.compression,z=v!==y.utf8encode,O=a.transformTo("string",v(w.name)),T=a.transformTo("string",y.utf8encode(w.name)),$=w.comment,K=a.transformTo("string",v($)),A=a.transformTo("string",y.utf8encode($)),I=T.length!==w.name.length,_=A.length!==$.length,L="",V="",N="",re=w.dir,W=w.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};h&&!i||(ee.crc32=o.crc32,ee.compressedSize=o.compressedSize,ee.uncompressedSize=o.uncompressedSize);var P=0;h&&(P|=8),z||!I&&!_||(P|=2048);var j=0,te=0;re&&(j|=16),m==="UNIX"?(te=798,j|=function(q,ce){var he=q;return q||(he=ce?16893:33204),(65535&he)<<16}(w.unixPermissions,re)):(te=20,j|=function(q){return 63&(q||0)}(w.dosPermissions)),k=W.getUTCHours(),k<<=6,k|=W.getUTCMinutes(),k<<=5,k|=W.getUTCSeconds()/2,E=W.getUTCFullYear()-1980,E<<=4,E|=W.getUTCMonth()+1,E<<=5,E|=W.getUTCDate(),I&&(V=n(1,1)+n(s(O),4)+T,L+="up"+n(V.length,2)+V),_&&(N=n(1,1)+n(s(K),4)+A,L+="uc"+n(N.length,2)+N);var X="";return X+=`
\0`,X+=n(P,2),X+=S.magic,X+=n(k,2),X+=n(E,2),X+=n(ee.crc32,4),X+=n(ee.compressedSize,4),X+=n(ee.uncompressedSize,4),X+=n(O.length,2),X+=n(L.length,2),{fileRecord:g.LOCAL_FILE_HEADER+X+O+L,dirRecord:g.CENTRAL_FILE_HEADER+n(te,2)+X+n(K.length,2)+"\0\0\0\0"+n(j,4)+n(p,4)+O+L+K}}var a=t("../utils"),d=t("../stream/GenericWorker"),y=t("../utf8"),s=t("../crc32"),g=t("../signature");function b(o,h,i,p){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=i,this.encodeFileName=p,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(b,d),b.prototype.push=function(o){var h=o.meta.percent||0,i=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,d.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:i?(h+100*(i-p-1))/i:100}}))},b.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var h=this.streamFiles&&!o.file.dir;if(h){var i=f(o,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(o){this.accumulate=!1;var h=this.streamFiles&&!o.file.dir,i=f(o,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),h)this.push({data:function(p){return g.DATA_DESCRIPTOR+n(p.crc32,4)+n(p.compressedSize,4)+n(p.uncompressedSize,4)}(o),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var o=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var i=this.bytesWritten-o,p=function(m,v,k,E,w){var S=a.transformTo("string",w(E));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(m,2)+n(m,2)+n(v,4)+n(k,4)+n(S.length,2)+S}(this.dirRecords.length,i,o,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(o){this._sources.push(o);var h=this;return o.on("data",function(i){h.processChunk(i)}),o.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),o.on("error",function(i){h.error(i)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(o){var h=this._sources;if(!d.prototype.error.call(this,o))return!1;for(var i=0;i<h.length;i++)try{h[i].error(o)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var o=this._sources,h=0;h<o.length;h++)o[h].lock()},u.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,u,l){var n=t("../compressions"),f=t("./ZipFileWorker");l.generateWorker=function(a,d,y){var s=new f(d.streamFiles,y,d.platform,d.encodeFileName),g=0;try{a.forEach(function(b,o){g++;var h=function(v,k){var E=v||k,w=n[E];if(!w)throw new Error(E+" is not a valid compression method !");return w}(o.options.compression,d.compression),i=o.options.compressionOptions||d.compressionOptions||{},p=o.dir,m=o.date;o._compressWorker(h,i).withStreamInfo("file",{name:b,dir:p,date:m,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(s)}),s.entriesCount=g}catch(b){s.error(b)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,u,l){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new n;for(var a in this)typeof this[a]!="function"&&(f[a]=this[a]);return f}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(f,a){return new n().loadAsync(f,a)},n.external=t("./external"),u.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,u,l){var n=t("./utils"),f=t("./external"),a=t("./utf8"),d=t("./zipEntries"),y=t("./stream/Crc32Probe"),s=t("./nodejsUtils");function g(b){return new f.Promise(function(o,h){var i=b.decompressed.getContentWorker().pipe(new y);i.on("error",function(p){h(p)}).on("end",function(){i.streamInfo.crc32!==b.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}u.exports=function(b,o){var h=this;return o=n.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),s.isNode&&s.isStream(b)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",b,!0,o.optimizedBinaryString,o.base64).then(function(i){var p=new d(o);return p.load(i),p}).then(function(i){var p=[f.Promise.resolve(i)],m=i.files;if(o.checkCRC32)for(var v=0;v<m.length;v++)p.push(g(m[v]));return f.Promise.all(p)}).then(function(i){for(var p=i.shift(),m=p.files,v=0;v<m.length;v++){var k=m[v],E=k.fileNameStr,w=n.resolve(k.fileNameStr);h.file(w,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:o.createFolders}),k.dir||(h.file(w).unsafeOriginalName=E)}return p.zipComment.length&&(h.comment=p.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,u,l){var n=t("../utils"),f=t("../stream/GenericWorker");function a(d,y){f.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(y)}n.inherits(a,f),a.prototype._bindStream=function(d){var y=this;(this._stream=d).pause(),d.on("data",function(s){y.push({data:s,meta:{percent:0}})}).on("error",function(s){y.isPaused?this.generatedError=s:y.error(s)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},a.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},u.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,u,l){var n=t("readable-stream").Readable;function f(a,d,y){n.call(this,d),this._helper=a;var s=this;a.on("data",function(g,b){s.push(g)||s._helper.pause(),y&&y(b)}).on("error",function(g){s.emit("error",g)}).on("end",function(){s.push(null)})}t("../utils").inherits(f,n),f.prototype._read=function(){this._helper.resume()},u.exports=f},{"../utils":32,"readable-stream":16}],14:[function(t,u,l){u.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,f);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,f)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var f=new Buffer(n);return f.fill(0),f},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,u,l){function n(w,S,z){var O,T=a.getTypeOf(S),$=a.extend(z||{},s);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(w=m(w)),$.createFolders&&(O=p(w))&&v.call(this,O,!0);var K=T==="string"&&$.binary===!1&&$.base64===!1;z&&z.binary!==void 0||($.binary=!K),(S instanceof g&&S.uncompressedSize===0||$.dir||!S||S.length===0)&&($.base64=!1,$.binary=!0,S="",$.compression="STORE",T="string");var A=null;A=S instanceof g||S instanceof d?S:h.isNode&&h.isStream(S)?new i(w,S):a.prepareContent(w,S,$.binary,$.optimizedBinaryString,$.base64);var I=new b(w,A,$);this.files[w]=I}var f=t("./utf8"),a=t("./utils"),d=t("./stream/GenericWorker"),y=t("./stream/StreamHelper"),s=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),o=t("./generate"),h=t("./nodejsUtils"),i=t("./nodejs/NodejsStreamInputAdapter"),p=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},m=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},v=function(w,S){return S=S!==void 0?S:s.createFolders,w=m(w),this.files[w]||n.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function k(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,z,O;for(S in this.files)O=this.files[S],(z=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(z,O)},filter:function(w){var S=[];return this.forEach(function(z,O){w(z,O)&&S.push(O)}),S},file:function(w,S,z){if(arguments.length!==1)return w=this.root+w,n.call(this,w,S,z),this;if(k(w)){var O=w;return this.filter(function($,K){return!K.dir&&O.test($)})}var T=this.files[this.root+w];return T&&!T.dir?T:null},folder:function(w){if(!w)return this;if(k(w))return this.filter(function(T,$){return $.dir&&w.test(T)});var S=this.root+w,z=v.call(this,S),O=this.clone();return O.root=z.name,O},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var z=this.filter(function(T,$){return $.name.slice(0,w.length)===w}),O=0;O<z.length;O++)delete this.files[z[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,z={};try{if((z=a.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");a.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var O=z.comment||this.comment||"";S=o.generateWorker(this,z,O)}catch(T){(S=new d("error")).error(T)}return new y(S,z.type||"string",z.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};u.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,u,l){u.exports=t("stream")},{stream:void 0}],17:[function(t,u,l){var n=t("./DataReader");function f(a){n.call(this,a);for(var d=0;d<this.data.length;d++)a[d]=255&a[d]}t("../utils").inherits(f,n),f.prototype.byteAt=function(a){return this.data[this.zero+a]},f.prototype.lastIndexOfSignature=function(a){for(var d=a.charCodeAt(0),y=a.charCodeAt(1),s=a.charCodeAt(2),g=a.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===y&&this.data[b+2]===s&&this.data[b+3]===g)return b-this.zero;return-1},f.prototype.readAndCheckSignature=function(a){var d=a.charCodeAt(0),y=a.charCodeAt(1),s=a.charCodeAt(2),g=a.charCodeAt(3),b=this.readData(4);return d===b[0]&&y===b[1]&&s===b[2]&&g===b[3]},f.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,d},u.exports=f},{"../utils":32,"./DataReader":18}],18:[function(t,u,l){var n=t("../utils");function f(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var d,y=0;for(this.checkOffset(a),d=this.index+a-1;d>=this.index;d--)y=(y<<8)+this.byteAt(d);return this.index+=a,y},readString:function(a){return n.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},u.exports=f},{"../utils":32}],19:[function(t,u,l){var n=t("./Uint8ArrayReader");function f(a){n.call(this,a)}t("../utils").inherits(f,n),f.prototype.readData=function(a){this.checkOffset(a);var d=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,d},u.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,u,l){var n=t("./DataReader");function f(a){n.call(this,a)}t("../utils").inherits(f,n),f.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},f.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},f.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},f.prototype.readData=function(a){this.checkOffset(a);var d=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,d},u.exports=f},{"../utils":32,"./DataReader":18}],21:[function(t,u,l){var n=t("./ArrayReader");function f(a){n.call(this,a)}t("../utils").inherits(f,n),f.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,d},u.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(t,u,l){var n=t("../utils"),f=t("../support"),a=t("./ArrayReader"),d=t("./StringReader"),y=t("./NodeBufferReader"),s=t("./Uint8ArrayReader");u.exports=function(g){var b=n.getTypeOf(g);return n.checkSupport(b),b!=="string"||f.uint8array?b==="nodebuffer"?new y(g):f.uint8array?new s(n.transformTo("uint8array",g)):new a(n.transformTo("array",g)):new d(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,u,l){l.LOCAL_FILE_HEADER="PK",l.CENTRAL_FILE_HEADER="PK",l.CENTRAL_DIRECTORY_END="PK",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,u,l){var n=t("./GenericWorker"),f=t("../utils");function a(d){n.call(this,"ConvertWorker to "+d),this.destType=d}f.inherits(a,n),a.prototype.processChunk=function(d){this.push({data:f.transformTo(this.destType,d.data),meta:d.meta})},u.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,u,l){var n=t("./GenericWorker"),f=t("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,n),a.prototype.processChunk=function(d){this.streamInfo.crc32=f(d.data,this.streamInfo.crc32||0),this.push(d)},u.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,u,l){var n=t("../utils"),f=t("./GenericWorker");function a(d){f.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}n.inherits(a,f),a.prototype.processChunk=function(d){if(d){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+d.data.length}f.prototype.processChunk.call(this,d)},u.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,u,l){var n=t("../utils"),f=t("./GenericWorker");function a(d){f.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(s){y.dataIsReady=!0,y.data=s,y.max=s&&s.length||0,y.type=n.getTypeOf(s),y.isPaused||y._tickAndRepeat()},function(s){y.error(s)})}n.inherits(a,f),a.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,y);break;case"uint8array":d=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":d=this.data.slice(this.index,y)}return this.index=y,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},u.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,u,l){function n(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,a){return this._listeners[f].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,a){if(this._listeners[f])for(var d=0;d<this._listeners[f].length;d++)this._listeners[f][d].call(this,a)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var a=this;return f.on("data",function(d){a.processChunk(d)}),f.on("end",function(){a.end()}),f.on("error",function(d){a.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,a){return this.extraStreamInfo[f]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},u.exports=n},{}],29:[function(t,u,l){var n=t("../utils"),f=t("./ConvertWorker"),a=t("./GenericWorker"),d=t("../base64"),y=t("../support"),s=t("../external"),g=null;if(y.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(h,i){return new s.Promise(function(p,m){var v=[],k=h._internalType,E=h._outputType,w=h._mimeType;h.on("data",function(S,z){v.push(S),i&&i(z)}).on("error",function(S){v=[],m(S)}).on("end",function(){try{var S=function(z,O,T){switch(z){case"blob":return n.newBlob(n.transformTo("arraybuffer",O),T);case"base64":return d.encode(O);default:return n.transformTo(z,O)}}(E,function(z,O){var T,$=0,K=null,A=0;for(T=0;T<O.length;T++)A+=O[T].length;switch(z){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(K=new Uint8Array(A),T=0;T<O.length;T++)K.set(O[T],$),$+=O[T].length;return K;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+z+"'")}}(k,v),w);p(S)}catch(z){m(z)}v=[]}).resume()})}function o(h,i,p){var m=i;switch(i){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=i,this._mimeType=p,n.checkSupport(m),this._worker=h.pipe(new f(m)),h.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}o.prototype={accumulate:function(h){return b(this,h)},on:function(h,i){var p=this;return h==="data"?this._worker.on(h,function(m){i.call(p,m.data,m.meta)}):this._worker.on(h,function(){n.delay(i,arguments,p)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},h)}},u.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,u,l){if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var n=new ArrayBuffer(0);try{l.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(n),l.blob=f.getBlob("application/zip").size===0}catch{l.blob=!1}}}try{l.nodestream=!!t("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(t,u,l){for(var n=t("./utils"),f=t("./support"),a=t("./nodejsUtils"),d=t("./stream/GenericWorker"),y=new Array(256),s=0;s<256;s++)y[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;y[254]=y[254]=1;function g(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}l.utf8encode=function(o){return f.nodebuffer?a.newBufferFrom(o,"utf-8"):function(h){var i,p,m,v,k,E=h.length,w=0;for(v=0;v<E;v++)(64512&(p=h.charCodeAt(v)))==55296&&v+1<E&&(64512&(m=h.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),v++),w+=p<128?1:p<2048?2:p<65536?3:4;for(i=f.uint8array?new Uint8Array(w):new Array(w),v=k=0;k<w;v++)(64512&(p=h.charCodeAt(v)))==55296&&v+1<E&&(64512&(m=h.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(m-56320),v++),p<128?i[k++]=p:(p<2048?i[k++]=192|p>>>6:(p<65536?i[k++]=224|p>>>12:(i[k++]=240|p>>>18,i[k++]=128|p>>>12&63),i[k++]=128|p>>>6&63),i[k++]=128|63&p);return i}(o)},l.utf8decode=function(o){return f.nodebuffer?n.transformTo("nodebuffer",o).toString("utf-8"):function(h){var i,p,m,v,k=h.length,E=new Array(2*k);for(i=p=0;i<k;)if((m=h[i++])<128)E[p++]=m;else if(4<(v=y[m]))E[p++]=65533,i+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&i<k;)m=m<<6|63&h[i++],v--;1<v?E[p++]=65533:m<65536?E[p++]=m:(m-=65536,E[p++]=55296|m>>10&1023,E[p++]=56320|1023&m)}return E.length!==p&&(E.subarray?E=E.subarray(0,p):E.length=p),n.applyFromCharCode(E)}(o=n.transformTo(f.uint8array?"uint8array":"array",o))},n.inherits(g,d),g.prototype.processChunk=function(o){var h=n.transformTo(f.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var i=h;(h=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),h.set(i,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var p=function(v,k){var E;for((k=k||v.length)>v.length&&(k=v.length),E=k-1;0<=E&&(192&v[E])==128;)E--;return E<0||E===0?k:E+y[v[E]]>k?E:k}(h),m=h;p!==h.length&&(f.uint8array?(m=h.subarray(0,p),this.leftOver=h.subarray(p,h.length)):(m=h.slice(0,p),this.leftOver=h.slice(p,h.length))),this.push({data:l.utf8decode(m),meta:o.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=g,n.inherits(b,d),b.prototype.processChunk=function(o){this.push({data:l.utf8encode(o.data),meta:o.meta})},l.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,u,l){var n=t("./support"),f=t("./base64"),a=t("./nodejsUtils"),d=t("./external");function y(i){return i}function s(i,p){for(var m=0;m<i.length;++m)p[m]=255&i.charCodeAt(m);return p}t("setimmediate"),l.newBlob=function(i,p){l.checkSupport("blob");try{return new Blob([i],{type:p})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(i),m.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(i,p,m){var v=[],k=0,E=i.length;if(E<=m)return String.fromCharCode.apply(null,i);for(;k<E;)p==="array"||p==="nodebuffer"?v.push(String.fromCharCode.apply(null,i.slice(k,Math.min(k+m,E)))):v.push(String.fromCharCode.apply(null,i.subarray(k,Math.min(k+m,E)))),k+=m;return v.join("")},stringifyByChar:function(i){for(var p="",m=0;m<i.length;m++)p+=String.fromCharCode(i[m]);return p},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function b(i){var p=65536,m=l.getTypeOf(i),v=!0;if(m==="uint8array"?v=g.applyCanBeUsed.uint8array:m==="nodebuffer"&&(v=g.applyCanBeUsed.nodebuffer),v)for(;1<p;)try{return g.stringifyByChunk(i,m,p)}catch{p=Math.floor(p/2)}return g.stringifyByChar(i)}function o(i,p){for(var m=0;m<i.length;m++)p[m]=i[m];return p}l.applyFromCharCode=b;var h={};h.string={string:y,array:function(i){return s(i,new Array(i.length))},arraybuffer:function(i){return h.string.uint8array(i).buffer},uint8array:function(i){return s(i,new Uint8Array(i.length))},nodebuffer:function(i){return s(i,a.allocBuffer(i.length))}},h.array={string:b,array:y,arraybuffer:function(i){return new Uint8Array(i).buffer},uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return a.newBufferFrom(i)}},h.arraybuffer={string:function(i){return b(new Uint8Array(i))},array:function(i){return o(new Uint8Array(i),new Array(i.byteLength))},arraybuffer:y,uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return a.newBufferFrom(new Uint8Array(i))}},h.uint8array={string:b,array:function(i){return o(i,new Array(i.length))},arraybuffer:function(i){return i.buffer},uint8array:y,nodebuffer:function(i){return a.newBufferFrom(i)}},h.nodebuffer={string:b,array:function(i){return o(i,new Array(i.length))},arraybuffer:function(i){return h.nodebuffer.uint8array(i).buffer},uint8array:function(i){return o(i,new Uint8Array(i.length))},nodebuffer:y},l.transformTo=function(i,p){if(p=p||"",!i)return p;l.checkSupport(i);var m=l.getTypeOf(p);return h[m][i](p)},l.resolve=function(i){for(var p=i.split("/"),m=[],v=0;v<p.length;v++){var k=p[v];k==="."||k===""&&v!==0&&v!==p.length-1||(k===".."?m.pop():m.push(k))}return m.join("/")},l.getTypeOf=function(i){return typeof i=="string"?"string":Object.prototype.toString.call(i)==="[object Array]"?"array":n.nodebuffer&&a.isBuffer(i)?"nodebuffer":n.uint8array&&i instanceof Uint8Array?"uint8array":n.arraybuffer&&i instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(i){if(!n[i.toLowerCase()])throw new Error(i+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(i){var p,m,v="";for(m=0;m<(i||"").length;m++)v+="\\x"+((p=i.charCodeAt(m))<16?"0":"")+p.toString(16).toUpperCase();return v},l.delay=function(i,p,m){setImmediate(function(){i.apply(m||null,p||[])})},l.inherits=function(i,p){function m(){}m.prototype=p.prototype,i.prototype=new m},l.extend=function(){var i,p,m={};for(i=0;i<arguments.length;i++)for(p in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],p)&&m[p]===void 0&&(m[p]=arguments[i][p]);return m},l.prepareContent=function(i,p,m,v,k){return d.Promise.resolve(p).then(function(E){return n.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new d.Promise(function(w,S){var z=new FileReader;z.onload=function(O){w(O.target.result)},z.onerror=function(O){S(O.target.error)},z.readAsArrayBuffer(E)}):E}).then(function(E){var w=l.getTypeOf(E);return w?(w==="arraybuffer"?E=l.transformTo("uint8array",E):w==="string"&&(k?E=f.decode(E):m&&v!==!0&&(E=function(S){return s(S,n.uint8array?new Uint8Array(S.length):new Array(S.length))}(E))),E):d.Promise.reject(new Error("Can't read the data of '"+i+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,u,l){var n=t("./reader/readerFor"),f=t("./utils"),a=t("./signature"),d=t("./zipEntry"),y=t("./support");function s(g){this.files=[],this.loadOptions=g}s.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(b)+", expected "+f.pretty(g)+")")}},isSignature:function(g,b){var o=this.reader.index;this.reader.setIndex(g);var h=this.reader.readString(4)===b;return this.reader.setIndex(o),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=y.uint8array?"uint8array":"array",o=f.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,o,h=this.zip64EndOfCentralSize-44;0<h;)g=this.reader.readInt(2),b=this.reader.readInt(4),o=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(g=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var h=b-o;if(0<h)this.isSignature(b,a.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(g){this.reader=n(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},u.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,u,l){var n=t("./reader/readerFor"),f=t("./utils"),a=t("./compressedObject"),d=t("./crc32"),y=t("./utf8"),s=t("./compressions"),g=t("./support");function b(o,h){this.options=o,this.loadOptions=h}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var h,i;if(o.skip(22),this.fileNameLength=o.readInt(2),i=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(i),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(p){for(var m in s)if(Object.prototype.hasOwnProperty.call(s,m)&&s[m].magic===p)return s[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,h,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var h=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(h),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var o=n(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var h,i,p,m=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<m;)h=o.readInt(2),i=o.readInt(2),p=o.readData(i),this.extraFields[h]={id:h,length:i,value:p};o.setIndex(m)},handleUTF8:function(){var o=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var i=f.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var m=f.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var h=n(o.value);return h.readInt(1)!==1||d(this.fileName)!==h.readInt(4)?null:y.utf8decode(h.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var h=n(o.value);return h.readInt(1)!==1||d(this.fileComment)!==h.readInt(4)?null:y.utf8decode(h.readData(o.length-5))}return null}},u.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,u,l){function n(h,i,p){this.name=h,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=i,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var f=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),d=t("./utf8"),y=t("./compressedObject"),s=t("./stream/GenericWorker");n.prototype={internalStream:function(h){var i=null,p="string";try{if(!h)throw new Error("No output type specified.");var m=(p=h.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),i=this._decompressWorker();var v=!this._dataBinary;v&&!m&&(i=i.pipe(new d.Utf8EncodeWorker)),!v&&m&&(i=i.pipe(new d.Utf8DecodeWorker))}catch(k){(i=new s("error")).error(k)}return new f(i,p,"")},async:function(h,i){return this.internalStream(h).accumulate(i)},nodeStream:function(h,i){return this.internalStream(h||"nodebuffer").toNodejsStream(i)},_compressWorker:function(h,i){if(this._data instanceof y&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new d.Utf8EncodeWorker)),y.createWorkerFrom(p,h,i)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof s?this._data:new a(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<g.length;o++)n.prototype[g[o]]=b;u.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,u,l){(function(n){var f,a,d=n.MutationObserver||n.WebKitMutationObserver;if(d){var y=0,s=new d(h),g=n.document.createTextNode("");s.observe(g,{characterData:!0}),f=function(){g.data=y=++y%2}}else if(n.setImmediate||n.MessageChannel===void 0)f="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var i=n.document.createElement("script");i.onreadystatechange=function(){h(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},n.document.documentElement.appendChild(i)}:function(){setTimeout(h,0)};else{var b=new n.MessageChannel;b.port1.onmessage=h,f=function(){b.port2.postMessage(0)}}var o=[];function h(){var i,p;a=!0;for(var m=o.length;m;){for(p=o,o=[],i=-1;++i<m;)p[i]();m=o.length}a=!1}u.exports=function(i){o.push(i)!==1||a||f()}}).call(this,typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,u,l){var n=t("immediate");function f(){}var a={},d=["REJECTED"],y=["FULFILLED"],s=["PENDING"];function g(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,m!==f&&i(this,m)}function b(m,v,k){this.promise=m,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function o(m,v,k){n(function(){var E;try{E=v(k)}catch(w){return a.reject(m,w)}E===m?a.reject(m,new TypeError("Cannot resolve promise with itself")):a.resolve(m,E)})}function h(m){var v=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof v=="function")return function(){v.apply(m,arguments)}}function i(m,v){var k=!1;function E(z){k||(k=!0,a.reject(m,z))}function w(z){k||(k=!0,a.resolve(m,z))}var S=p(function(){v(w,E)});S.status==="error"&&E(S.value)}function p(m,v){var k={};try{k.value=m(v),k.status="success"}catch(E){k.status="error",k.value=E}return k}(u.exports=g).prototype.finally=function(m){if(typeof m!="function")return this;var v=this.constructor;return this.then(function(k){return v.resolve(m()).then(function(){return k})},function(k){return v.resolve(m()).then(function(){throw k})})},g.prototype.catch=function(m){return this.then(null,m)},g.prototype.then=function(m,v){if(typeof m!="function"&&this.state===y||typeof v!="function"&&this.state===d)return this;var k=new this.constructor(f);return this.state!==s?o(k,this.state===y?m:v,this.outcome):this.queue.push(new b(k,m,v)),k},b.prototype.callFulfilled=function(m){a.resolve(this.promise,m)},b.prototype.otherCallFulfilled=function(m){o(this.promise,this.onFulfilled,m)},b.prototype.callRejected=function(m){a.reject(this.promise,m)},b.prototype.otherCallRejected=function(m){o(this.promise,this.onRejected,m)},a.resolve=function(m,v){var k=p(h,v);if(k.status==="error")return a.reject(m,k.value);var E=k.value;if(E)i(m,E);else{m.state=y,m.outcome=v;for(var w=-1,S=m.queue.length;++w<S;)m.queue[w].callFulfilled(v)}return m},a.reject=function(m,v){m.state=d,m.outcome=v;for(var k=-1,E=m.queue.length;++k<E;)m.queue[k].callRejected(v);return m},g.resolve=function(m){return m instanceof this?m:a.resolve(new this(f),m)},g.reject=function(m){var v=new this(f);return a.reject(v,m)},g.all=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=m.length,E=!1;if(!k)return this.resolve([]);for(var w=new Array(k),S=0,z=-1,O=new this(f);++z<k;)T(m[z],z);return O;function T($,K){v.resolve($).then(function(A){w[K]=A,++S!==k||E||(E=!0,a.resolve(O,w))},function(A){E||(E=!0,a.reject(O,A))})}},g.race=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=m.length,E=!1;if(!k)return this.resolve([]);for(var w=-1,S=new this(f);++w<k;)z=m[w],v.resolve(z).then(function(O){E||(E=!0,a.resolve(S,O))},function(O){E||(E=!0,a.reject(S,O))});var z;return S}},{immediate:36}],38:[function(t,u,l){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),u.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,u,l){var n=t("./zlib/deflate"),f=t("./utils/common"),a=t("./utils/strings"),d=t("./zlib/messages"),y=t("./zlib/zstream"),s=Object.prototype.toString,g=0,b=-1,o=0,h=8;function i(m){if(!(this instanceof i))return new i(m);this.options=f.assign({level:b,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},m||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var k=n.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(k!==g)throw new Error(d[k]);if(v.header&&n.deflateSetHeader(this.strm,v.header),v.dictionary){var E;if(E=typeof v.dictionary=="string"?a.string2buf(v.dictionary):s.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(k=n.deflateSetDictionary(this.strm,E))!==g)throw new Error(d[k]);this._dict_set=!0}}function p(m,v){var k=new i(v);if(k.push(m,!0),k.err)throw k.msg||d[k.err];return k.result}i.prototype.push=function(m,v){var k,E,w=this.strm,S=this.options.chunkSize;if(this.ended)return!1;E=v===~~v?v:v===!0?4:0,typeof m=="string"?w.input=a.string2buf(m):s.call(m)==="[object ArrayBuffer]"?w.input=new Uint8Array(m):w.input=m,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new f.Buf8(S),w.next_out=0,w.avail_out=S),(k=n.deflate(w,E))!==1&&k!==g)return this.onEnd(k),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(f.shrinkBuf(w.output,w.next_out))):this.onData(f.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&k!==1);return E===4?(k=n.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===g):E!==2||(this.onEnd(g),!(w.avail_out=0))},i.prototype.onData=function(m){this.chunks.push(m)},i.prototype.onEnd=function(m){m===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},l.Deflate=i,l.deflate=p,l.deflateRaw=function(m,v){return(v=v||{}).raw=!0,p(m,v)},l.gzip=function(m,v){return(v=v||{}).gzip=!0,p(m,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,u,l){var n=t("./zlib/inflate"),f=t("./utils/common"),a=t("./utils/strings"),d=t("./zlib/constants"),y=t("./zlib/messages"),s=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function o(i){if(!(this instanceof o))return new o(i);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},i||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||i&&i.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&!(15&p.windowBits)&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var m=n.inflateInit2(this.strm,p.windowBits);if(m!==d.Z_OK)throw new Error(y[m]);this.header=new g,n.inflateGetHeader(this.strm,this.header)}function h(i,p){var m=new o(p);if(m.push(i,!0),m.err)throw m.msg||y[m.err];return m.result}o.prototype.push=function(i,p){var m,v,k,E,w,S,z=this.strm,O=this.options.chunkSize,T=this.options.dictionary,$=!1;if(this.ended)return!1;v=p===~~p?p:p===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof i=="string"?z.input=a.binstring2buf(i):b.call(i)==="[object ArrayBuffer]"?z.input=new Uint8Array(i):z.input=i,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new f.Buf8(O),z.next_out=0,z.avail_out=O),(m=n.inflate(z,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&T&&(S=typeof T=="string"?a.string2buf(T):b.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,m=n.inflateSetDictionary(this.strm,S)),m===d.Z_BUF_ERROR&&$===!0&&(m=d.Z_OK,$=!1),m!==d.Z_STREAM_END&&m!==d.Z_OK)return this.onEnd(m),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&m!==d.Z_STREAM_END&&(z.avail_in!==0||v!==d.Z_FINISH&&v!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(z.output,z.next_out),E=z.next_out-k,w=a.buf2string(z.output,k),z.next_out=E,z.avail_out=O-E,E&&f.arraySet(z.output,z.output,k,E,0),this.onData(w)):this.onData(f.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&($=!0)}while((0<z.avail_in||z.avail_out===0)&&m!==d.Z_STREAM_END);return m===d.Z_STREAM_END&&(v=d.Z_FINISH),v===d.Z_FINISH?(m=n.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===d.Z_OK):v!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(z.avail_out=0))},o.prototype.onData=function(i){this.chunks.push(i)},o.prototype.onEnd=function(i){i===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},l.Inflate=o,l.inflate=h,l.inflateRaw=function(i,p){return(p=p||{}).raw=!0,h(i,p)},l.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,u,l){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(d){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var s=y.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var g in s)s.hasOwnProperty(g)&&(d[g]=s[g])}}return d},l.shrinkBuf=function(d,y){return d.length===y?d:d.subarray?d.subarray(0,y):(d.length=y,d)};var f={arraySet:function(d,y,s,g,b){if(y.subarray&&d.subarray)d.set(y.subarray(s,s+g),b);else for(var o=0;o<g;o++)d[b+o]=y[s+o]},flattenChunks:function(d){var y,s,g,b,o,h;for(y=g=0,s=d.length;y<s;y++)g+=d[y].length;for(h=new Uint8Array(g),y=b=0,s=d.length;y<s;y++)o=d[y],h.set(o,b),b+=o.length;return h}},a={arraySet:function(d,y,s,g,b){for(var o=0;o<g;o++)d[b+o]=y[s+o]},flattenChunks:function(d){return[].concat.apply([],d)}};l.setTyped=function(d){d?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,f)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,a))},l.setTyped(n)},{}],42:[function(t,u,l){var n=t("./common"),f=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var d=new n.Buf8(256),y=0;y<256;y++)d[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function s(g,b){if(b<65537&&(g.subarray&&a||!g.subarray&&f))return String.fromCharCode.apply(null,n.shrinkBuf(g,b));for(var o="",h=0;h<b;h++)o+=String.fromCharCode(g[h]);return o}d[254]=d[254]=1,l.string2buf=function(g){var b,o,h,i,p,m=g.length,v=0;for(i=0;i<m;i++)(64512&(o=g.charCodeAt(i)))==55296&&i+1<m&&(64512&(h=g.charCodeAt(i+1)))==56320&&(o=65536+(o-55296<<10)+(h-56320),i++),v+=o<128?1:o<2048?2:o<65536?3:4;for(b=new n.Buf8(v),i=p=0;p<v;i++)(64512&(o=g.charCodeAt(i)))==55296&&i+1<m&&(64512&(h=g.charCodeAt(i+1)))==56320&&(o=65536+(o-55296<<10)+(h-56320),i++),o<128?b[p++]=o:(o<2048?b[p++]=192|o>>>6:(o<65536?b[p++]=224|o>>>12:(b[p++]=240|o>>>18,b[p++]=128|o>>>12&63),b[p++]=128|o>>>6&63),b[p++]=128|63&o);return b},l.buf2binstring=function(g){return s(g,g.length)},l.binstring2buf=function(g){for(var b=new n.Buf8(g.length),o=0,h=b.length;o<h;o++)b[o]=g.charCodeAt(o);return b},l.buf2string=function(g,b){var o,h,i,p,m=b||g.length,v=new Array(2*m);for(o=h=0;o<m;)if((i=g[o++])<128)v[h++]=i;else if(4<(p=d[i]))v[h++]=65533,o+=p-1;else{for(i&=p===2?31:p===3?15:7;1<p&&o<m;)i=i<<6|63&g[o++],p--;1<p?v[h++]=65533:i<65536?v[h++]=i:(i-=65536,v[h++]=55296|i>>10&1023,v[h++]=56320|1023&i)}return s(v,h)},l.utf8border=function(g,b){var o;for((b=b||g.length)>g.length&&(b=g.length),o=b-1;0<=o&&(192&g[o])==128;)o--;return o<0||o===0?b:o+d[g[o]]>b?o:b}},{"./common":41}],43:[function(t,u,l){u.exports=function(n,f,a,d){for(var y=65535&n|0,s=n>>>16&65535|0,g=0;a!==0;){for(a-=g=2e3<a?2e3:a;s=s+(y=y+f[d++]|0)|0,--g;);y%=65521,s%=65521}return y|s<<16|0}},{}],44:[function(t,u,l){u.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,u,l){var n=function(){for(var f,a=[],d=0;d<256;d++){f=d;for(var y=0;y<8;y++)f=1&f?3988292384^f>>>1:f>>>1;a[d]=f}return a}();u.exports=function(f,a,d,y){var s=n,g=y+d;f^=-1;for(var b=y;b<g;b++)f=f>>>8^s[255&(f^a[b])];return-1^f}},{}],46:[function(t,u,l){var n,f=t("../utils/common"),a=t("./trees"),d=t("./adler32"),y=t("./crc32"),s=t("./messages"),g=0,b=4,o=0,h=-2,i=-1,p=4,m=2,v=8,k=9,E=286,w=30,S=19,z=2*E+1,O=15,T=3,$=258,K=$+T+1,A=42,I=113,_=1,L=2,V=3,N=4;function re(c,M){return c.msg=s[M],M}function W(c){return(c<<1)-(4<c?9:0)}function ee(c){for(var M=c.length;0<=--M;)c[M]=0}function P(c){var M=c.state,B=M.pending;B>c.avail_out&&(B=c.avail_out),B!==0&&(f.arraySet(c.output,M.pending_buf,M.pending_out,B,c.next_out),c.next_out+=B,M.pending_out+=B,c.total_out+=B,c.avail_out-=B,M.pending-=B,M.pending===0&&(M.pending_out=0))}function j(c,M){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,M),c.block_start=c.strstart,P(c.strm)}function te(c,M){c.pending_buf[c.pending++]=M}function X(c,M){c.pending_buf[c.pending++]=M>>>8&255,c.pending_buf[c.pending++]=255&M}function q(c,M){var B,C,x=c.max_chain_length,F=c.strstart,U=c.prev_length,Z=c.nice_match,R=c.strstart>c.w_size-K?c.strstart-(c.w_size-K):0,G=c.window,J=c.w_mask,H=c.prev,Q=c.strstart+$,se=G[F+U-1],oe=G[F+U];c.prev_length>=c.good_match&&(x>>=2),Z>c.lookahead&&(Z=c.lookahead);do if(G[(B=M)+U]===oe&&G[B+U-1]===se&&G[B]===G[F]&&G[++B]===G[F+1]){F+=2,B++;do;while(G[++F]===G[++B]&&G[++F]===G[++B]&&G[++F]===G[++B]&&G[++F]===G[++B]&&G[++F]===G[++B]&&G[++F]===G[++B]&&G[++F]===G[++B]&&G[++F]===G[++B]&&F<Q);if(C=$-(Q-F),F=Q-$,U<C){if(c.match_start=M,Z<=(U=C))break;se=G[F+U-1],oe=G[F+U]}}while((M=H[M&J])>R&&--x!=0);return U<=c.lookahead?U:c.lookahead}function ce(c){var M,B,C,x,F,U,Z,R,G,J,H=c.w_size;do{if(x=c.window_size-c.lookahead-c.strstart,c.strstart>=H+(H-K)){for(f.arraySet(c.window,c.window,H,H,0),c.match_start-=H,c.strstart-=H,c.block_start-=H,M=B=c.hash_size;C=c.head[--M],c.head[M]=H<=C?C-H:0,--B;);for(M=B=H;C=c.prev[--M],c.prev[M]=H<=C?C-H:0,--B;);x+=H}if(c.strm.avail_in===0)break;if(U=c.strm,Z=c.window,R=c.strstart+c.lookahead,G=x,J=void 0,J=U.avail_in,G<J&&(J=G),B=J===0?0:(U.avail_in-=J,f.arraySet(Z,U.input,U.next_in,J,R),U.state.wrap===1?U.adler=d(U.adler,Z,J,R):U.state.wrap===2&&(U.adler=y(U.adler,Z,J,R)),U.next_in+=J,U.total_in+=J,J),c.lookahead+=B,c.lookahead+c.insert>=T)for(F=c.strstart-c.insert,c.ins_h=c.window[F],c.ins_h=(c.ins_h<<c.hash_shift^c.window[F+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[F+T-1])&c.hash_mask,c.prev[F&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=F,F++,c.insert--,!(c.lookahead+c.insert<T)););}while(c.lookahead<K&&c.strm.avail_in!==0)}function he(c,M){for(var B,C;;){if(c.lookahead<K){if(ce(c),c.lookahead<K&&M===g)return _;if(c.lookahead===0)break}if(B=0,c.lookahead>=T&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+T-1])&c.hash_mask,B=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),B!==0&&c.strstart-B<=c.w_size-K&&(c.match_length=q(c,B)),c.match_length>=T)if(C=a._tr_tally(c,c.strstart-c.match_start,c.match_length-T),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=T){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+T-1])&c.hash_mask,B=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else C=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(C&&(j(c,!1),c.strm.avail_out===0))return _}return c.insert=c.strstart<T-1?c.strstart:T-1,M===b?(j(c,!0),c.strm.avail_out===0?V:N):c.last_lit&&(j(c,!1),c.strm.avail_out===0)?_:L}function ie(c,M){for(var B,C,x;;){if(c.lookahead<K){if(ce(c),c.lookahead<K&&M===g)return _;if(c.lookahead===0)break}if(B=0,c.lookahead>=T&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+T-1])&c.hash_mask,B=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=T-1,B!==0&&c.prev_length<c.max_lazy_match&&c.strstart-B<=c.w_size-K&&(c.match_length=q(c,B),c.match_length<=5&&(c.strategy===1||c.match_length===T&&4096<c.strstart-c.match_start)&&(c.match_length=T-1)),c.prev_length>=T&&c.match_length<=c.prev_length){for(x=c.strstart+c.lookahead-T,C=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-T),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=x&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+T-1])&c.hash_mask,B=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=T-1,c.strstart++,C&&(j(c,!1),c.strm.avail_out===0))return _}else if(c.match_available){if((C=a._tr_tally(c,0,c.window[c.strstart-1]))&&j(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return _}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(C=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<T-1?c.strstart:T-1,M===b?(j(c,!0),c.strm.avail_out===0?V:N):c.last_lit&&(j(c,!1),c.strm.avail_out===0)?_:L}function ae(c,M,B,C,x){this.good_length=c,this.max_lazy=M,this.nice_length=B,this.max_chain=C,this.func=x}function fe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*z),this.dyn_dtree=new f.Buf16(2*(2*w+1)),this.bl_tree=new f.Buf16(2*(2*S+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(O+1),this.heap=new f.Buf16(2*E+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*E+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function le(c){var M;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=m,(M=c.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?A:I,c.adler=M.wrap===2?0:1,M.last_flush=g,a._tr_init(M),o):re(c,h)}function Ce(c){var M=le(c);return M===o&&function(B){B.window_size=2*B.w_size,ee(B.head),B.max_lazy_match=n[B.level].max_lazy,B.good_match=n[B.level].good_length,B.nice_match=n[B.level].nice_length,B.max_chain_length=n[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=T-1,B.match_available=0,B.ins_h=0}(c.state),M}function xe(c,M,B,C,x,F){if(!c)return h;var U=1;if(M===i&&(M=6),C<0?(U=0,C=-C):15<C&&(U=2,C-=16),x<1||k<x||B!==v||C<8||15<C||M<0||9<M||F<0||p<F)return re(c,h);C===8&&(C=9);var Z=new fe;return(c.state=Z).strm=c,Z.wrap=U,Z.gzhead=null,Z.w_bits=C,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=x+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+T-1)/T),Z.window=new f.Buf8(2*Z.w_size),Z.head=new f.Buf16(Z.hash_size),Z.prev=new f.Buf16(Z.w_size),Z.lit_bufsize=1<<x+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new f.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=M,Z.strategy=F,Z.method=B,Ce(c)}n=[new ae(0,0,0,0,function(c,M){var B=65535;for(B>c.pending_buf_size-5&&(B=c.pending_buf_size-5);;){if(c.lookahead<=1){if(ce(c),c.lookahead===0&&M===g)return _;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var C=c.block_start+B;if((c.strstart===0||c.strstart>=C)&&(c.lookahead=c.strstart-C,c.strstart=C,j(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-K&&(j(c,!1),c.strm.avail_out===0))return _}return c.insert=0,M===b?(j(c,!0),c.strm.avail_out===0?V:N):(c.strstart>c.block_start&&(j(c,!1),c.strm.avail_out),_)}),new ae(4,4,8,4,he),new ae(4,5,16,8,he),new ae(4,6,32,32,he),new ae(4,4,16,16,ie),new ae(8,16,32,32,ie),new ae(8,16,128,128,ie),new ae(8,32,128,256,ie),new ae(32,128,258,1024,ie),new ae(32,258,258,4096,ie)],l.deflateInit=function(c,M){return xe(c,M,v,15,8,0)},l.deflateInit2=xe,l.deflateReset=Ce,l.deflateResetKeep=le,l.deflateSetHeader=function(c,M){return c&&c.state?c.state.wrap!==2?h:(c.state.gzhead=M,o):h},l.deflate=function(c,M){var B,C,x,F;if(!c||!c.state||5<M||M<0)return c?re(c,h):h;if(C=c.state,!c.output||!c.input&&c.avail_in!==0||C.status===666&&M!==b)return re(c,c.avail_out===0?-5:h);if(C.strm=c,B=C.last_flush,C.last_flush=M,C.status===A)if(C.wrap===2)c.adler=0,te(C,31),te(C,139),te(C,8),C.gzhead?(te(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),te(C,255&C.gzhead.time),te(C,C.gzhead.time>>8&255),te(C,C.gzhead.time>>16&255),te(C,C.gzhead.time>>24&255),te(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),te(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(te(C,255&C.gzhead.extra.length),te(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(c.adler=y(c.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(te(C,0),te(C,0),te(C,0),te(C,0),te(C,0),te(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),te(C,3),C.status=I);else{var U=v+(C.w_bits-8<<4)<<8;U|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(U|=32),U+=31-U%31,C.status=I,X(C,U),C.strstart!==0&&(X(C,c.adler>>>16),X(C,65535&c.adler)),c.adler=1}if(C.status===69)if(C.gzhead.extra){for(x=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>x&&(c.adler=y(c.adler,C.pending_buf,C.pending-x,x)),P(c),x=C.pending,C.pending!==C.pending_buf_size));)te(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>x&&(c.adler=y(c.adler,C.pending_buf,C.pending-x,x)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){x=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>x&&(c.adler=y(c.adler,C.pending_buf,C.pending-x,x)),P(c),x=C.pending,C.pending===C.pending_buf_size)){F=1;break}F=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,te(C,F)}while(F!==0);C.gzhead.hcrc&&C.pending>x&&(c.adler=y(c.adler,C.pending_buf,C.pending-x,x)),F===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){x=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>x&&(c.adler=y(c.adler,C.pending_buf,C.pending-x,x)),P(c),x=C.pending,C.pending===C.pending_buf_size)){F=1;break}F=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,te(C,F)}while(F!==0);C.gzhead.hcrc&&C.pending>x&&(c.adler=y(c.adler,C.pending_buf,C.pending-x,x)),F===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&P(c),C.pending+2<=C.pending_buf_size&&(te(C,255&c.adler),te(C,c.adler>>8&255),c.adler=0,C.status=I)):C.status=I),C.pending!==0){if(P(c),c.avail_out===0)return C.last_flush=-1,o}else if(c.avail_in===0&&W(M)<=W(B)&&M!==b)return re(c,-5);if(C.status===666&&c.avail_in!==0)return re(c,-5);if(c.avail_in!==0||C.lookahead!==0||M!==g&&C.status!==666){var Z=C.strategy===2?function(R,G){for(var J;;){if(R.lookahead===0&&(ce(R),R.lookahead===0)){if(G===g)return _;break}if(R.match_length=0,J=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,J&&(j(R,!1),R.strm.avail_out===0))return _}return R.insert=0,G===b?(j(R,!0),R.strm.avail_out===0?V:N):R.last_lit&&(j(R,!1),R.strm.avail_out===0)?_:L}(C,M):C.strategy===3?function(R,G){for(var J,H,Q,se,oe=R.window;;){if(R.lookahead<=$){if(ce(R),R.lookahead<=$&&G===g)return _;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=T&&0<R.strstart&&(H=oe[Q=R.strstart-1])===oe[++Q]&&H===oe[++Q]&&H===oe[++Q]){se=R.strstart+$;do;while(H===oe[++Q]&&H===oe[++Q]&&H===oe[++Q]&&H===oe[++Q]&&H===oe[++Q]&&H===oe[++Q]&&H===oe[++Q]&&H===oe[++Q]&&Q<se);R.match_length=$-(se-Q),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=T?(J=a._tr_tally(R,1,R.match_length-T),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(J=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),J&&(j(R,!1),R.strm.avail_out===0))return _}return R.insert=0,G===b?(j(R,!0),R.strm.avail_out===0?V:N):R.last_lit&&(j(R,!1),R.strm.avail_out===0)?_:L}(C,M):n[C.level].func(C,M);if(Z!==V&&Z!==N||(C.status=666),Z===_||Z===V)return c.avail_out===0&&(C.last_flush=-1),o;if(Z===L&&(M===1?a._tr_align(C):M!==5&&(a._tr_stored_block(C,0,0,!1),M===3&&(ee(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),P(c),c.avail_out===0))return C.last_flush=-1,o}return M!==b?o:C.wrap<=0?1:(C.wrap===2?(te(C,255&c.adler),te(C,c.adler>>8&255),te(C,c.adler>>16&255),te(C,c.adler>>24&255),te(C,255&c.total_in),te(C,c.total_in>>8&255),te(C,c.total_in>>16&255),te(C,c.total_in>>24&255)):(X(C,c.adler>>>16),X(C,65535&c.adler)),P(c),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?o:1)},l.deflateEnd=function(c){var M;return c&&c.state?(M=c.state.status)!==A&&M!==69&&M!==73&&M!==91&&M!==103&&M!==I&&M!==666?re(c,h):(c.state=null,M===I?re(c,-3):o):h},l.deflateSetDictionary=function(c,M){var B,C,x,F,U,Z,R,G,J=M.length;if(!c||!c.state||(F=(B=c.state).wrap)===2||F===1&&B.status!==A||B.lookahead)return h;for(F===1&&(c.adler=d(c.adler,M,J,0)),B.wrap=0,J>=B.w_size&&(F===0&&(ee(B.head),B.strstart=0,B.block_start=0,B.insert=0),G=new f.Buf8(B.w_size),f.arraySet(G,M,J-B.w_size,B.w_size,0),M=G,J=B.w_size),U=c.avail_in,Z=c.next_in,R=c.input,c.avail_in=J,c.next_in=0,c.input=M,ce(B);B.lookahead>=T;){for(C=B.strstart,x=B.lookahead-(T-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[C+T-1])&B.hash_mask,B.prev[C&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=C,C++,--x;);B.strstart=C,B.lookahead=T-1,ce(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=T-1,B.match_available=0,c.next_in=Z,c.input=R,c.avail_in=U,B.wrap=F,o},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,u,l){u.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,u,l){u.exports=function(n,f){var a,d,y,s,g,b,o,h,i,p,m,v,k,E,w,S,z,O,T,$,K,A,I,_,L;a=n.state,d=n.next_in,_=n.input,y=d+(n.avail_in-5),s=n.next_out,L=n.output,g=s-(f-n.avail_out),b=s+(n.avail_out-257),o=a.dmax,h=a.wsize,i=a.whave,p=a.wnext,m=a.window,v=a.hold,k=a.bits,E=a.lencode,w=a.distcode,S=(1<<a.lenbits)-1,z=(1<<a.distbits)-1;e:do{k<15&&(v+=_[d++]<<k,k+=8,v+=_[d++]<<k,k+=8),O=E[v&S];t:for(;;){if(v>>>=T=O>>>24,k-=T,(T=O>>>16&255)===0)L[s++]=65535&O;else{if(!(16&T)){if(!(64&T)){O=E[(65535&O)+(v&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}n.msg="invalid literal/length code",a.mode=30;break e}$=65535&O,(T&=15)&&(k<T&&(v+=_[d++]<<k,k+=8),$+=v&(1<<T)-1,v>>>=T,k-=T),k<15&&(v+=_[d++]<<k,k+=8,v+=_[d++]<<k,k+=8),O=w[v&z];r:for(;;){if(v>>>=T=O>>>24,k-=T,!(16&(T=O>>>16&255))){if(!(64&T)){O=w[(65535&O)+(v&(1<<T)-1)];continue r}n.msg="invalid distance code",a.mode=30;break e}if(K=65535&O,k<(T&=15)&&(v+=_[d++]<<k,(k+=8)<T&&(v+=_[d++]<<k,k+=8)),o<(K+=v&(1<<T)-1)){n.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=T,k-=T,(T=s-g)<K){if(i<(T=K-T)&&a.sane){n.msg="invalid distance too far back",a.mode=30;break e}if(I=m,(A=0)===p){if(A+=h-T,T<$){for($-=T;L[s++]=m[A++],--T;);A=s-K,I=L}}else if(p<T){if(A+=h+p-T,(T-=p)<$){for($-=T;L[s++]=m[A++],--T;);if(A=0,p<$){for($-=T=p;L[s++]=m[A++],--T;);A=s-K,I=L}}}else if(A+=p-T,T<$){for($-=T;L[s++]=m[A++],--T;);A=s-K,I=L}for(;2<$;)L[s++]=I[A++],L[s++]=I[A++],L[s++]=I[A++],$-=3;$&&(L[s++]=I[A++],1<$&&(L[s++]=I[A++]))}else{for(A=s-K;L[s++]=L[A++],L[s++]=L[A++],L[s++]=L[A++],2<($-=3););$&&(L[s++]=L[A++],1<$&&(L[s++]=L[A++]))}break}}break}}while(d<y&&s<b);d-=$=k>>3,v&=(1<<(k-=$<<3))-1,n.next_in=d,n.next_out=s,n.avail_in=d<y?y-d+5:5-(d-y),n.avail_out=s<b?b-s+257:257-(s-b),a.hold=v,a.bits=k}},{}],49:[function(t,u,l){var n=t("../utils/common"),f=t("./adler32"),a=t("./crc32"),d=t("./inffast"),y=t("./inftrees"),s=1,g=2,b=0,o=-2,h=1,i=852,p=592;function m(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(A){var I;return A&&A.state?(I=A.state,A.total_in=A.total_out=I.total=0,A.msg="",I.wrap&&(A.adler=1&I.wrap),I.mode=h,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new n.Buf32(i),I.distcode=I.distdyn=new n.Buf32(p),I.sane=1,I.back=-1,b):o}function E(A){var I;return A&&A.state?((I=A.state).wsize=0,I.whave=0,I.wnext=0,k(A)):o}function w(A,I){var _,L;return A&&A.state?(L=A.state,I<0?(_=0,I=-I):(_=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?o:(L.window!==null&&L.wbits!==I&&(L.window=null),L.wrap=_,L.wbits=I,E(A))):o}function S(A,I){var _,L;return A?(L=new v,(A.state=L).window=null,(_=w(A,I))!==b&&(A.state=null),_):o}var z,O,T=!0;function $(A){if(T){var I;for(z=new n.Buf32(512),O=new n.Buf32(32),I=0;I<144;)A.lens[I++]=8;for(;I<256;)A.lens[I++]=9;for(;I<280;)A.lens[I++]=7;for(;I<288;)A.lens[I++]=8;for(y(s,A.lens,0,288,z,0,A.work,{bits:9}),I=0;I<32;)A.lens[I++]=5;y(g,A.lens,0,32,O,0,A.work,{bits:5}),T=!1}A.lencode=z,A.lenbits=9,A.distcode=O,A.distbits=5}function K(A,I,_,L){var V,N=A.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new n.Buf8(N.wsize)),L>=N.wsize?(n.arraySet(N.window,I,_-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(L<(V=N.wsize-N.wnext)&&(V=L),n.arraySet(N.window,I,_-L,V,N.wnext),(L-=V)?(n.arraySet(N.window,I,_-L,L,0),N.wnext=L,N.whave=N.wsize):(N.wnext+=V,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=V))),0}l.inflateReset=E,l.inflateReset2=w,l.inflateResetKeep=k,l.inflateInit=function(A){return S(A,15)},l.inflateInit2=S,l.inflate=function(A,I){var _,L,V,N,re,W,ee,P,j,te,X,q,ce,he,ie,ae,fe,le,Ce,xe,c,M,B,C,x=0,F=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return o;(_=A.state).mode===12&&(_.mode=13),re=A.next_out,V=A.output,ee=A.avail_out,N=A.next_in,L=A.input,W=A.avail_in,P=_.hold,j=_.bits,te=W,X=ee,M=b;e:for(;;)switch(_.mode){case h:if(_.wrap===0){_.mode=13;break}for(;j<16;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(2&_.wrap&&P===35615){F[_.check=0]=255&P,F[1]=P>>>8&255,_.check=a(_.check,F,2,0),j=P=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&P)<<8)+(P>>8))%31){A.msg="incorrect header check",_.mode=30;break}if((15&P)!=8){A.msg="unknown compression method",_.mode=30;break}if(j-=4,c=8+(15&(P>>>=4)),_.wbits===0)_.wbits=c;else if(c>_.wbits){A.msg="invalid window size",_.mode=30;break}_.dmax=1<<c,A.adler=_.check=1,_.mode=512&P?10:12,j=P=0;break;case 2:for(;j<16;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(_.flags=P,(255&_.flags)!=8){A.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){A.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=P>>8&1),512&_.flags&&(F[0]=255&P,F[1]=P>>>8&255,_.check=a(_.check,F,2,0)),j=P=0,_.mode=3;case 3:for(;j<32;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}_.head&&(_.head.time=P),512&_.flags&&(F[0]=255&P,F[1]=P>>>8&255,F[2]=P>>>16&255,F[3]=P>>>24&255,_.check=a(_.check,F,4,0)),j=P=0,_.mode=4;case 4:for(;j<16;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}_.head&&(_.head.xflags=255&P,_.head.os=P>>8),512&_.flags&&(F[0]=255&P,F[1]=P>>>8&255,_.check=a(_.check,F,2,0)),j=P=0,_.mode=5;case 5:if(1024&_.flags){for(;j<16;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}_.length=P,_.head&&(_.head.extra_len=P),512&_.flags&&(F[0]=255&P,F[1]=P>>>8&255,_.check=a(_.check,F,2,0)),j=P=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(W<(q=_.length)&&(q=W),q&&(_.head&&(c=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),n.arraySet(_.head.extra,L,N,q,c)),512&_.flags&&(_.check=a(_.check,L,q,N)),W-=q,N+=q,_.length-=q),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(W===0)break e;for(q=0;c=L[N+q++],_.head&&c&&_.length<65536&&(_.head.name+=String.fromCharCode(c)),c&&q<W;);if(512&_.flags&&(_.check=a(_.check,L,q,N)),W-=q,N+=q,c)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(W===0)break e;for(q=0;c=L[N+q++],_.head&&c&&_.length<65536&&(_.head.comment+=String.fromCharCode(c)),c&&q<W;);if(512&_.flags&&(_.check=a(_.check,L,q,N)),W-=q,N+=q,c)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;j<16;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(P!==(65535&_.check)){A.msg="header crc mismatch",_.mode=30;break}j=P=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),A.adler=_.check=0,_.mode=12;break;case 10:for(;j<32;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}A.adler=_.check=m(P),j=P=0,_.mode=11;case 11:if(_.havedict===0)return A.next_out=re,A.avail_out=ee,A.next_in=N,A.avail_in=W,_.hold=P,_.bits=j,2;A.adler=_.check=1,_.mode=12;case 12:if(I===5||I===6)break e;case 13:if(_.last){P>>>=7&j,j-=7&j,_.mode=27;break}for(;j<3;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}switch(_.last=1&P,j-=1,3&(P>>>=1)){case 0:_.mode=14;break;case 1:if($(_),_.mode=20,I!==6)break;P>>>=2,j-=2;break e;case 2:_.mode=17;break;case 3:A.msg="invalid block type",_.mode=30}P>>>=2,j-=2;break;case 14:for(P>>>=7&j,j-=7&j;j<32;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if((65535&P)!=(P>>>16^65535)){A.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&P,j=P=0,_.mode=15,I===6)break e;case 15:_.mode=16;case 16:if(q=_.length){if(W<q&&(q=W),ee<q&&(q=ee),q===0)break e;n.arraySet(V,L,N,q,re),W-=q,N+=q,ee-=q,re+=q,_.length-=q;break}_.mode=12;break;case 17:for(;j<14;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(_.nlen=257+(31&P),P>>>=5,j-=5,_.ndist=1+(31&P),P>>>=5,j-=5,_.ncode=4+(15&P),P>>>=4,j-=4,286<_.nlen||30<_.ndist){A.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;j<3;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}_.lens[U[_.have++]]=7&P,P>>>=3,j-=3}for(;_.have<19;)_.lens[U[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,B={bits:_.lenbits},M=y(0,_.lens,0,19,_.lencode,0,_.work,B),_.lenbits=B.bits,M){A.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;ae=(x=_.lencode[P&(1<<_.lenbits)-1])>>>16&255,fe=65535&x,!((ie=x>>>24)<=j);){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(fe<16)P>>>=ie,j-=ie,_.lens[_.have++]=fe;else{if(fe===16){for(C=ie+2;j<C;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(P>>>=ie,j-=ie,_.have===0){A.msg="invalid bit length repeat",_.mode=30;break}c=_.lens[_.have-1],q=3+(3&P),P>>>=2,j-=2}else if(fe===17){for(C=ie+3;j<C;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}j-=ie,c=0,q=3+(7&(P>>>=ie)),P>>>=3,j-=3}else{for(C=ie+7;j<C;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}j-=ie,c=0,q=11+(127&(P>>>=ie)),P>>>=7,j-=7}if(_.have+q>_.nlen+_.ndist){A.msg="invalid bit length repeat",_.mode=30;break}for(;q--;)_.lens[_.have++]=c}}if(_.mode===30)break;if(_.lens[256]===0){A.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,B={bits:_.lenbits},M=y(s,_.lens,0,_.nlen,_.lencode,0,_.work,B),_.lenbits=B.bits,M){A.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,B={bits:_.distbits},M=y(g,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,B),_.distbits=B.bits,M){A.msg="invalid distances set",_.mode=30;break}if(_.mode=20,I===6)break e;case 20:_.mode=21;case 21:if(6<=W&&258<=ee){A.next_out=re,A.avail_out=ee,A.next_in=N,A.avail_in=W,_.hold=P,_.bits=j,d(A,X),re=A.next_out,V=A.output,ee=A.avail_out,N=A.next_in,L=A.input,W=A.avail_in,P=_.hold,j=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;ae=(x=_.lencode[P&(1<<_.lenbits)-1])>>>16&255,fe=65535&x,!((ie=x>>>24)<=j);){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(ae&&!(240&ae)){for(le=ie,Ce=ae,xe=fe;ae=(x=_.lencode[xe+((P&(1<<le+Ce)-1)>>le)])>>>16&255,fe=65535&x,!(le+(ie=x>>>24)<=j);){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}P>>>=le,j-=le,_.back+=le}if(P>>>=ie,j-=ie,_.back+=ie,_.length=fe,ae===0){_.mode=26;break}if(32&ae){_.back=-1,_.mode=12;break}if(64&ae){A.msg="invalid literal/length code",_.mode=30;break}_.extra=15&ae,_.mode=22;case 22:if(_.extra){for(C=_.extra;j<C;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}_.length+=P&(1<<_.extra)-1,P>>>=_.extra,j-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;ae=(x=_.distcode[P&(1<<_.distbits)-1])>>>16&255,fe=65535&x,!((ie=x>>>24)<=j);){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(!(240&ae)){for(le=ie,Ce=ae,xe=fe;ae=(x=_.distcode[xe+((P&(1<<le+Ce)-1)>>le)])>>>16&255,fe=65535&x,!(le+(ie=x>>>24)<=j);){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}P>>>=le,j-=le,_.back+=le}if(P>>>=ie,j-=ie,_.back+=ie,64&ae){A.msg="invalid distance code",_.mode=30;break}_.offset=fe,_.extra=15&ae,_.mode=24;case 24:if(_.extra){for(C=_.extra;j<C;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}_.offset+=P&(1<<_.extra)-1,P>>>=_.extra,j-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){A.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(ee===0)break e;if(q=X-ee,_.offset>q){if((q=_.offset-q)>_.whave&&_.sane){A.msg="invalid distance too far back",_.mode=30;break}ce=q>_.wnext?(q-=_.wnext,_.wsize-q):_.wnext-q,q>_.length&&(q=_.length),he=_.window}else he=V,ce=re-_.offset,q=_.length;for(ee<q&&(q=ee),ee-=q,_.length-=q;V[re++]=he[ce++],--q;);_.length===0&&(_.mode=21);break;case 26:if(ee===0)break e;V[re++]=_.length,ee--,_.mode=21;break;case 27:if(_.wrap){for(;j<32;){if(W===0)break e;W--,P|=L[N++]<<j,j+=8}if(X-=ee,A.total_out+=X,_.total+=X,X&&(A.adler=_.check=_.flags?a(_.check,V,X,re-X):f(_.check,V,X,re-X)),X=ee,(_.flags?P:m(P))!==_.check){A.msg="incorrect data check",_.mode=30;break}j=P=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;j<32;){if(W===0)break e;W--,P+=L[N++]<<j,j+=8}if(P!==(4294967295&_.total)){A.msg="incorrect length check",_.mode=30;break}j=P=0}_.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;case 32:default:return o}return A.next_out=re,A.avail_out=ee,A.next_in=N,A.avail_in=W,_.hold=P,_.bits=j,(_.wsize||X!==A.avail_out&&_.mode<30&&(_.mode<27||I!==4))&&K(A,A.output,A.next_out,X-A.avail_out)?(_.mode=31,-4):(te-=A.avail_in,X-=A.avail_out,A.total_in+=te,A.total_out+=X,_.total+=X,_.wrap&&X&&(A.adler=_.check=_.flags?a(_.check,V,X,A.next_out-X):f(_.check,V,X,A.next_out-X)),A.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(te==0&&X===0||I===4)&&M===b&&(M=-5),M)},l.inflateEnd=function(A){if(!A||!A.state)return o;var I=A.state;return I.window&&(I.window=null),A.state=null,b},l.inflateGetHeader=function(A,I){var _;return A&&A.state&&2&(_=A.state).wrap?((_.head=I).done=!1,b):o},l.inflateSetDictionary=function(A,I){var _,L=I.length;return A&&A.state?(_=A.state).wrap!==0&&_.mode!==11?o:_.mode===11&&f(1,I,L,0)!==_.check?-3:K(A,I,L,L)?(_.mode=31,-4):(_.havedict=1,b):o},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,u,l){var n=t("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];u.exports=function(s,g,b,o,h,i,p,m){var v,k,E,w,S,z,O,T,$,K=m.bits,A=0,I=0,_=0,L=0,V=0,N=0,re=0,W=0,ee=0,P=0,j=null,te=0,X=new n.Buf16(16),q=new n.Buf16(16),ce=null,he=0;for(A=0;A<=15;A++)X[A]=0;for(I=0;I<o;I++)X[g[b+I]]++;for(V=K,L=15;1<=L&&X[L]===0;L--);if(L<V&&(V=L),L===0)return h[i++]=20971520,h[i++]=20971520,m.bits=1,0;for(_=1;_<L&&X[_]===0;_++);for(V<_&&(V=_),A=W=1;A<=15;A++)if(W<<=1,(W-=X[A])<0)return-1;if(0<W&&(s===0||L!==1))return-1;for(q[1]=0,A=1;A<15;A++)q[A+1]=q[A]+X[A];for(I=0;I<o;I++)g[b+I]!==0&&(p[q[g[b+I]]++]=I);if(z=s===0?(j=ce=p,19):s===1?(j=f,te-=257,ce=a,he-=257,256):(j=d,ce=y,-1),A=_,S=i,re=I=P=0,E=-1,w=(ee=1<<(N=V))-1,s===1&&852<ee||s===2&&592<ee)return 1;for(;;){for(O=A-re,$=p[I]<z?(T=0,p[I]):p[I]>z?(T=ce[he+p[I]],j[te+p[I]]):(T=96,0),v=1<<A-re,_=k=1<<N;h[S+(P>>re)+(k-=v)]=O<<24|T<<16|$|0,k!==0;);for(v=1<<A-1;P&v;)v>>=1;if(v!==0?(P&=v-1,P+=v):P=0,I++,--X[A]==0){if(A===L)break;A=g[b+p[I]]}if(V<A&&(P&w)!==E){for(re===0&&(re=V),S+=_,W=1<<(N=A-re);N+re<L&&!((W-=X[N+re])<=0);)N++,W<<=1;if(ee+=1<<N,s===1&&852<ee||s===2&&592<ee)return 1;h[E=P&w]=V<<24|N<<16|S-i|0}}return P!==0&&(h[S+P]=A-re<<24|64<<16|0),m.bits=V,0}},{"../utils/common":41}],51:[function(t,u,l){u.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,u,l){var n=t("../utils/common"),f=0,a=1;function d(x){for(var F=x.length;0<=--F;)x[F]=0}var y=0,s=29,g=256,b=g+1+s,o=30,h=19,i=2*b+1,p=15,m=16,v=7,k=256,E=16,w=17,S=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(b+2));d(K);var A=new Array(2*o);d(A);var I=new Array(512);d(I);var _=new Array(256);d(_);var L=new Array(s);d(L);var V,N,re,W=new Array(o);function ee(x,F,U,Z,R){this.static_tree=x,this.extra_bits=F,this.extra_base=U,this.elems=Z,this.max_length=R,this.has_stree=x&&x.length}function P(x,F){this.dyn_tree=x,this.max_code=0,this.stat_desc=F}function j(x){return x<256?I[x]:I[256+(x>>>7)]}function te(x,F){x.pending_buf[x.pending++]=255&F,x.pending_buf[x.pending++]=F>>>8&255}function X(x,F,U){x.bi_valid>m-U?(x.bi_buf|=F<<x.bi_valid&65535,te(x,x.bi_buf),x.bi_buf=F>>m-x.bi_valid,x.bi_valid+=U-m):(x.bi_buf|=F<<x.bi_valid&65535,x.bi_valid+=U)}function q(x,F,U){X(x,U[2*F],U[2*F+1])}function ce(x,F){for(var U=0;U|=1&x,x>>>=1,U<<=1,0<--F;);return U>>>1}function he(x,F,U){var Z,R,G=new Array(p+1),J=0;for(Z=1;Z<=p;Z++)G[Z]=J=J+U[Z-1]<<1;for(R=0;R<=F;R++){var H=x[2*R+1];H!==0&&(x[2*R]=ce(G[H]++,H))}}function ie(x){var F;for(F=0;F<b;F++)x.dyn_ltree[2*F]=0;for(F=0;F<o;F++)x.dyn_dtree[2*F]=0;for(F=0;F<h;F++)x.bl_tree[2*F]=0;x.dyn_ltree[2*k]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function ae(x){8<x.bi_valid?te(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function fe(x,F,U,Z){var R=2*F,G=2*U;return x[R]<x[G]||x[R]===x[G]&&Z[F]<=Z[U]}function le(x,F,U){for(var Z=x.heap[U],R=U<<1;R<=x.heap_len&&(R<x.heap_len&&fe(F,x.heap[R+1],x.heap[R],x.depth)&&R++,!fe(F,Z,x.heap[R],x.depth));)x.heap[U]=x.heap[R],U=R,R<<=1;x.heap[U]=Z}function Ce(x,F,U){var Z,R,G,J,H=0;if(x.last_lit!==0)for(;Z=x.pending_buf[x.d_buf+2*H]<<8|x.pending_buf[x.d_buf+2*H+1],R=x.pending_buf[x.l_buf+H],H++,Z===0?q(x,R,F):(q(x,(G=_[R])+g+1,F),(J=z[G])!==0&&X(x,R-=L[G],J),q(x,G=j(--Z),U),(J=O[G])!==0&&X(x,Z-=W[G],J)),H<x.last_lit;);q(x,k,F)}function xe(x,F){var U,Z,R,G=F.dyn_tree,J=F.stat_desc.static_tree,H=F.stat_desc.has_stree,Q=F.stat_desc.elems,se=-1;for(x.heap_len=0,x.heap_max=i,U=0;U<Q;U++)G[2*U]!==0?(x.heap[++x.heap_len]=se=U,x.depth[U]=0):G[2*U+1]=0;for(;x.heap_len<2;)G[2*(R=x.heap[++x.heap_len]=se<2?++se:0)]=1,x.depth[R]=0,x.opt_len--,H&&(x.static_len-=J[2*R+1]);for(F.max_code=se,U=x.heap_len>>1;1<=U;U--)le(x,G,U);for(R=Q;U=x.heap[1],x.heap[1]=x.heap[x.heap_len--],le(x,G,1),Z=x.heap[1],x.heap[--x.heap_max]=U,x.heap[--x.heap_max]=Z,G[2*R]=G[2*U]+G[2*Z],x.depth[R]=(x.depth[U]>=x.depth[Z]?x.depth[U]:x.depth[Z])+1,G[2*U+1]=G[2*Z+1]=R,x.heap[1]=R++,le(x,G,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(oe,be){var Ke,Se,Ye,ue,ct,Ft,Ae=be.dyn_tree,Vt=be.max_code,dn=be.stat_desc.static_tree,hn=be.stat_desc.has_stree,pn=be.stat_desc.extra_bits,Qt=be.stat_desc.extra_base,Xe=be.stat_desc.max_length,lt=0;for(ue=0;ue<=p;ue++)oe.bl_count[ue]=0;for(Ae[2*oe.heap[oe.heap_max]+1]=0,Ke=oe.heap_max+1;Ke<i;Ke++)Xe<(ue=Ae[2*Ae[2*(Se=oe.heap[Ke])+1]+1]+1)&&(ue=Xe,lt++),Ae[2*Se+1]=ue,Vt<Se||(oe.bl_count[ue]++,ct=0,Qt<=Se&&(ct=pn[Se-Qt]),Ft=Ae[2*Se],oe.opt_len+=Ft*(ue+ct),hn&&(oe.static_len+=Ft*(dn[2*Se+1]+ct)));if(lt!==0){do{for(ue=Xe-1;oe.bl_count[ue]===0;)ue--;oe.bl_count[ue]--,oe.bl_count[ue+1]+=2,oe.bl_count[Xe]--,lt-=2}while(0<lt);for(ue=Xe;ue!==0;ue--)for(Se=oe.bl_count[ue];Se!==0;)Vt<(Ye=oe.heap[--Ke])||(Ae[2*Ye+1]!==ue&&(oe.opt_len+=(ue-Ae[2*Ye+1])*Ae[2*Ye],Ae[2*Ye+1]=ue),Se--)}}(x,F),he(G,se,x.bl_count)}function c(x,F,U){var Z,R,G=-1,J=F[1],H=0,Q=7,se=4;for(J===0&&(Q=138,se=3),F[2*(U+1)+1]=65535,Z=0;Z<=U;Z++)R=J,J=F[2*(Z+1)+1],++H<Q&&R===J||(H<se?x.bl_tree[2*R]+=H:R!==0?(R!==G&&x.bl_tree[2*R]++,x.bl_tree[2*E]++):H<=10?x.bl_tree[2*w]++:x.bl_tree[2*S]++,G=R,se=(H=0)===J?(Q=138,3):R===J?(Q=6,3):(Q=7,4))}function M(x,F,U){var Z,R,G=-1,J=F[1],H=0,Q=7,se=4;for(J===0&&(Q=138,se=3),Z=0;Z<=U;Z++)if(R=J,J=F[2*(Z+1)+1],!(++H<Q&&R===J)){if(H<se)for(;q(x,R,x.bl_tree),--H!=0;);else R!==0?(R!==G&&(q(x,R,x.bl_tree),H--),q(x,E,x.bl_tree),X(x,H-3,2)):H<=10?(q(x,w,x.bl_tree),X(x,H-3,3)):(q(x,S,x.bl_tree),X(x,H-11,7));G=R,se=(H=0)===J?(Q=138,3):R===J?(Q=6,3):(Q=7,4)}}d(W);var B=!1;function C(x,F,U,Z){X(x,(y<<1)+(Z?1:0),3),function(R,G,J,H){ae(R),H&&(te(R,J),te(R,~J)),n.arraySet(R.pending_buf,R.window,G,J,R.pending),R.pending+=J}(x,F,U,!0)}l._tr_init=function(x){B||(function(){var F,U,Z,R,G,J=new Array(p+1);for(R=Z=0;R<s-1;R++)for(L[R]=Z,F=0;F<1<<z[R];F++)_[Z++]=R;for(_[Z-1]=R,R=G=0;R<16;R++)for(W[R]=G,F=0;F<1<<O[R];F++)I[G++]=R;for(G>>=7;R<o;R++)for(W[R]=G<<7,F=0;F<1<<O[R]-7;F++)I[256+G++]=R;for(U=0;U<=p;U++)J[U]=0;for(F=0;F<=143;)K[2*F+1]=8,F++,J[8]++;for(;F<=255;)K[2*F+1]=9,F++,J[9]++;for(;F<=279;)K[2*F+1]=7,F++,J[7]++;for(;F<=287;)K[2*F+1]=8,F++,J[8]++;for(he(K,b+1,J),F=0;F<o;F++)A[2*F+1]=5,A[2*F]=ce(F,5);V=new ee(K,z,g+1,b,p),N=new ee(A,O,0,o,p),re=new ee(new Array(0),T,0,h,v)}(),B=!0),x.l_desc=new P(x.dyn_ltree,V),x.d_desc=new P(x.dyn_dtree,N),x.bl_desc=new P(x.bl_tree,re),x.bi_buf=0,x.bi_valid=0,ie(x)},l._tr_stored_block=C,l._tr_flush_block=function(x,F,U,Z){var R,G,J=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(H){var Q,se=4093624447;for(Q=0;Q<=31;Q++,se>>>=1)if(1&se&&H.dyn_ltree[2*Q]!==0)return f;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return a;for(Q=32;Q<g;Q++)if(H.dyn_ltree[2*Q]!==0)return a;return f}(x)),xe(x,x.l_desc),xe(x,x.d_desc),J=function(H){var Q;for(c(H,H.dyn_ltree,H.l_desc.max_code),c(H,H.dyn_dtree,H.d_desc.max_code),xe(H,H.bl_desc),Q=h-1;3<=Q&&H.bl_tree[2*$[Q]+1]===0;Q--);return H.opt_len+=3*(Q+1)+5+5+4,Q}(x),R=x.opt_len+3+7>>>3,(G=x.static_len+3+7>>>3)<=R&&(R=G)):R=G=U+5,U+4<=R&&F!==-1?C(x,F,U,Z):x.strategy===4||G===R?(X(x,2+(Z?1:0),3),Ce(x,K,A)):(X(x,4+(Z?1:0),3),function(H,Q,se,oe){var be;for(X(H,Q-257,5),X(H,se-1,5),X(H,oe-4,4),be=0;be<oe;be++)X(H,H.bl_tree[2*$[be]+1],3);M(H,H.dyn_ltree,Q-1),M(H,H.dyn_dtree,se-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,J+1),Ce(x,x.dyn_ltree,x.dyn_dtree)),ie(x),Z&&ae(x)},l._tr_tally=function(x,F,U){return x.pending_buf[x.d_buf+2*x.last_lit]=F>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&F,x.pending_buf[x.l_buf+x.last_lit]=255&U,x.last_lit++,F===0?x.dyn_ltree[2*U]++:(x.matches++,F--,x.dyn_ltree[2*(_[U]+g+1)]++,x.dyn_dtree[2*j(F)]++),x.last_lit===x.lit_bufsize-1},l._tr_align=function(x){X(x,2,3),q(x,k,K),function(F){F.bi_valid===16?(te(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(t,u,l){u.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,u,l){(function(n){(function(f,a){if(!f.setImmediate){var d,y,s,g,b=1,o={},h=!1,i=f.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(f);p=p&&p.setTimeout?p:f,d={}.toString.call(f.process)==="[object process]"?function(E){process.nextTick(function(){v(E)})}:function(){if(f.postMessage&&!f.importScripts){var E=!0,w=f.onmessage;return f.onmessage=function(){E=!1},f.postMessage("","*"),f.onmessage=w,E}}()?(g="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",k,!1):f.attachEvent("onmessage",k),function(E){f.postMessage(g+E,"*")}):f.MessageChannel?((s=new MessageChannel).port1.onmessage=function(E){v(E.data)},function(E){s.port2.postMessage(E)}):i&&"onreadystatechange"in i.createElement("script")?(y=i.documentElement,function(E){var w=i.createElement("script");w.onreadystatechange=function(){v(E),w.onreadystatechange=null,y.removeChild(w),w=null},y.appendChild(w)}):function(E){setTimeout(v,0,E)},p.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var w=new Array(arguments.length-1),S=0;S<w.length;S++)w[S]=arguments[S+1];var z={callback:E,args:w};return o[b]=z,d(b),b++},p.clearImmediate=m}function m(E){delete o[E]}function v(E){if(h)setTimeout(v,0,E);else{var w=o[E];if(w){h=!0;try{(function(S){var z=S.callback,O=S.args;switch(O.length){case 0:z();break;case 1:z(O[0]);break;case 2:z(O[0],O[1]);break;case 3:z(O[0],O[1],O[2]);break;default:z.apply(a,O)}})(w)}finally{m(E),h=!1}}}}function k(E){E.source===f&&typeof E.data=="string"&&E.data.indexOf(g)===0&&v(+E.data.slice(g.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof Qe<"u"?Qe:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Gr);var Tn=Gr.exports;const In=xn(Tn),Tt=Symbol("singleComment"),pr=Symbol("multiComment"),Rn=()=>"",jn=(e,r,t)=>e.slice(r,t).replace(/\S/g," "),Dn=(e,r)=>{let t=r-1,u=0;for(;e[t]==="\\";)t-=1,u+=1;return!!(u%2)};function Ln(e,{whitespace:r=!0,trailingCommas:t=!1}={}){if(typeof e!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);const u=r?jn:Rn;let l=!1,n=!1,f=0,a="",d="",y=-1;for(let s=0;s<e.length;s++){const g=e[s],b=e[s+1];if(!n&&g==='"'&&(Dn(e,s)||(l=!l)),!l)if(!n&&g+b==="//")a+=e.slice(f,s),f=s,n=Tt,s++;else if(n===Tt&&g+b===`\r
`){s++,n=!1,a+=u(e,f,s),f=s;continue}else if(n===Tt&&g===`
`)n=!1,a+=u(e,f,s),f=s;else if(!n&&g+b==="/*"){a+=e.slice(f,s),f=s,n=pr,s++;continue}else if(n===pr&&g+b==="*/"){s++,n=!1,a+=u(e,f,s+1),f=s+1;continue}else t&&!n&&(y!==-1?g==="}"||g==="]"?(a+=e.slice(f,s),d+=u(a,0,1)+a.slice(1),a="",f=s,y=-1):g!==" "&&g!=="	"&&g!=="\r"&&g!==`
`&&(a+=e.slice(f,s),f=s,y=-1):g===","&&(d+=a+e.slice(f,s),a="",f=s,y=s))}return d+a+(n?u(e.slice(f)):e.slice(f))}const bt={"1.16.5":[6,"1.16.31.16.5"],"1.17.1":[7,"1.171.17.1"],"21w44a":[8,"21w44a"],"1.18.1":[8,"1.181.18.1"],"1.18.2":[9,"1.18.2"],"1.19":[10,"1.191.19.2"],"1.19.3":[10,"1.19.3"],"1.19.4":[12,"1.19.4"],"1.20":[15,"1.20"]},Ee=Object.keys(bt),_r=Object.values(bt).map(e=>e[0]);var de;(e=>{e.DEFAULT_SOURCE="auto",e.DEFAULT_TARGET="1.19.4";function r(s){return bt[s][0]}e.packFormat=r;function t(s){return Ee.includes(s)?bt[s][1]:s}e.displayName=t;function u(s){return Ee.indexOf(s)}e.ord=u;function l(s,g){return u(s)<u(g)}e.order=l;function n(s,g,b,o){return u(s)<u(o)&&u(g)>u(b)}e.includes=n;function f(s,g,b,o){return u(s)<=u(o)&&u(g)>=u(b)}e.includesInclusive=f;function a(s,g){return g==="1.20"}e.isWorkInProgress=a;function d(s){const g=_r.indexOf(s);if(g!==-1)return s===8?"1.18.1":Ee[g]}e.autoDetect=d;function y(s){const g=d(s);return g!==void 0?g:s<_r[0]?Ee[0]:Ee[Ee.length-1]}e.autoDetectOrFallback=y})(de||(de={}));var D;(e=>{function r(...g){return async(b,o)=>{for(const h of g)await h(b,o)}}e.all=r;function t(g,b){return async(o,h)=>{for(const i of o.data[g]){if(i.error||i.deleted)continue;const p={...h,warn:m=>h.warn(m,[i.name])};try{await b(i,p)}catch(m){throw m.message=`Error fixing ${g.replace(/^worldgen\//,"").replaceAll("_"," ")} ${i.name}: ${m.message}`,m}}}}e.onFile=t;function u(...g){return async(b,o)=>{const h={},i={...o,warn:(p,m)=>{m===void 0?h[p]=[]:m.forEach(v=>{(h[p]??(h[p]=[])).push(v)})}};await e.all(...g)(b,i),Object.entries(h).forEach(([p,m])=>o.warn(p,[...new Set(m)]))}}e.groupProblems=u;function l(g,...b){return async(o,h)=>{h.config(g)&&await e.all(...b)(o,h)}}e.when=l;function n(g,b){return async(o,h)=>{if(!g(o,h))throw new Error(b)}}e.assert=n;function f(g,b,...o){return async(h,i)=>{de.includes(i.source(),i.target(),g,b)&&await e.all(...o)(h,i)}}e.version=f;function a(g,b,...o){return async(h,i)=>{de.includesInclusive(i.source(),i.target(),g,b)&&await e.all(...o)(h,i)}}e.versionInclusive=a;function d(g){return async()=>{console.debug(g)}}e.debug=d;function y(g){return e.when("packFormat",async b=>b.meta.data.pack.pack_format=g)}e.packFormat=y;function s(g,b){return async o=>{o.data[b]=o.data[g].map(h=>({...h})),o.data[g].forEach(h=>h.deleted=!0)}}e.rename=s})(D||(D={}));const Pn=D.all(D.onFile("worldgen/configured_carver",({data:e})=>It(e)),D.onFile("worldgen/biome",({data:e})=>{var r,t;typeof e.carvers=="object"&&((r=e.carvers.air)==null||r.forEach(It),(t=e.carvers.liquid)==null||t.forEach(It))}));function It(e){if(typeof e!="object")return;const r=e.type.replace(/^minecraft:/,"");e.config.lava_level={above_bottom:10},e.config.aquifers_enabled=!1,r==="cave"||r==="underwater_cave"||r==="nether_cave"?(r==="nether_cave"?e.config.y={type:"minecraft:uniform",min_inclusive:{absolute:0},max_inclusive:{below_top:1}}:e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:127},inner:8},e.config.yScale=.5,e.config.horizontal_radius_multiplier=1,e.config.vertical_radius_multiplier=1,e.config.floor_level=-.7):(e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:20},max_inclusive:{absolute:67},inner:8},e.config.yScale=3,e.config.vertical_rotation={type:"minecraft:uniform",value:{min_inclusive:-.125,max_exclusive:.125}},e.config.shape={distance_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},thickness:{type:"minecraft:trapezoid",value:{min:0,max:6,plateau:2}},width_smoothness:3,horizontal_radius_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},vertical_radius_default_factor:1,vertical_radius_center_factor:0})}const Bn=D.all(D.onFile("dimension_type",({data:e})=>mr(e)),D.onFile("dimension",({data:e})=>{typeof e.type=="object"&&mr(e.type)}));function mr(e){e.min_y=0,e.height=256}const $n=D.all(D.onFile("worldgen/configured_feature",({data:e},r)=>Re(e,r)),D.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(Re)}));function Re(e,r){if(typeof e!="object")return;switch(e.type||(e.type=e.name,delete e.name),e.type.replace(/^minecraft:/,"")){case"basalt_columns":Pe(e.config,"reach"),Pe(e.config,"height");break;case"decorated":Mt(e.config.decorator,r),Re(e.config.feature,r);break;case"delta_feature":Pe(e.config,"size"),Pe(e.config,"rim_size");break;case"disk":case"ice_patch":Pe(e.config,"radius");break;case"emerald_ore":e.type="minecraft:replace_single_block",e.config={targets:[{target:{predicate_type:"minecraft:blockstate_match",block_state:e.config.target},state:e.config.state}]};break;case"flower":case"no_bonemeal_flower":case"random_patch":const u=e.config.block_placer;u.type.replace(/^minecraft:/,"")==="column_placer"&&(u.size={type:"minecraft:uniform",value:{min_inclusive:u.min_size,max_inclusive:u.min_size+u.extra_size}},delete u.min_size,delete u.extra_size);break;case"fossil":e.config={max_empty_corners_allowed:4,fossil_processors:"minecraft:fossil_rot",overlay_processors:"minecraft:fossil_coal",fossil_structures:["minecraft:fossil/spine_1","minecraft:fossil/spine_2","minecraft:fossil/spine_3","minecraft:fossil/spine_4","minecraft:fossil/skull_1","minecraft:fossil/skull_2","minecraft:fossil/skull_3","minecraft:fossil/skull_4"],overlay_structures:["minecraft:fossil/spine_1_coal","minecraft:fossil/spine_2_coal","minecraft:fossil/spine_3_coal","minecraft:fossil/spine_4_coal","minecraft:fossil/skull_1_coal","minecraft:fossil/skull_2_coal","minecraft:fossil/skull_3_coal","minecraft:fossil/skull_4_coal"]};break;case"netherrack_replace_blobs":const l=e.config.radius;let n=typeof l=="number"?l:l.base,f=typeof l=="number"?l:l.base+l.spread;if(f>12&&(r.warn('Feature "netherrack_replace_blobs" no longer allows values above 12. Consider increasing the count of this feature.'),n=Math.min(12,n),f=Math.min(12,f)),n===f){e.config.radius=n;break}e.config.radius={type:"minecraft:uniform",value:{min_inclusive:n,max_inclusive:f}};break;case"no_surface_ore":vr(e),e.type="minecraft:ore",e.config.discard_chance_on_air_exposure=1;break;case"ore":vr(e);break;case"random_boolean_selector":Re(e.config.feature_false,r),Re(e.config.feature_true,r);break;case"random_selector":e.config.features.forEach(a=>Re(a.feature,r)),Re(e.config.default,r);break;case"sea_pickle":Pe(e.config,"count");break;case"simple_block":e.config.to_place={type:"minecraft:simple_state_provider",state:e.config.to_place};break;case"simple_random_selector":e.config.features.forEach(a=>Re(a,r));break;case"tree":["radius","offset","crown_height","height","trunk_height"].forEach(a=>Pe(e.config.foliage_placer,a)),e.config.foliage_provider=e.config.leaves_provider,delete e.config.leaves_provider,e.config.force_dirt=!1,e.config.dirt_provider={type:"minecraft:simple_state_provider",state:{Name:"minecraft:dirt"}},e.config.sapling_provider={type:"minecraft:simple_state_provider",state:{Name:Mn(e.config.foliage_provider),Properties:{stage:"0"}}},e.type="minecraft:decorated",e.config={decorator:{type:"decorated",config:Fe({type:"minecraft:water_depth_threshold",config:{max_water_depth:e.config.max_water_depth}},{type:"minecraft:heightmap",config:{heightmap:e.config.heightmap}})},feature:{type:"minecraft:tree",config:e.config}},delete e.config.feature.config.max_water_depth,delete e.config.feature.config.heightmap;break}}function Pe(e,r){typeof(e==null?void 0:e[r])=="object"&&(e[r]={type:"minecraft:uniform",value:{min_inclusive:e[r].base,max_inclusive:e[r].base+e[r].spread}})}function vr(e){e.config.discard_chance_on_air_exposure=0,e.config.targets=[{target:e.config.target,state:e.config.state}],delete e.config.target,delete e.config.state}function Mn(e){if(e.type.replace(/^minecraft:/,"")==="simple_state_provider"){const r=e.state.Name.match(/^(?:minecraft:)?([a-z_]+)_leaves/);if(r)return`minecraft:${r[1]}_sapling`}return"minecraft:oak_sapling"}function Mt(e,r){if(typeof e!="object")return;e.type||(e.type=e.name,delete e.name);const t=e.type.replace(/^minecraft:/,"");switch(t){case"carving_mask":if(e.config.probability===0){e.type="minecraft:nope",e.config={};break}const u=1/e.config.probability;e.type="minecraft:decorated",e.config=Fe({type:"minecraft:carving_mask",config:{step:e.config.step}},...Number.isInteger(u)?[{type:"minecraft:chance",config:{chance:u}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:e.config.probability}}]),delete e.config.probability;break;case"count":case"count_multilayer":const l=e.config.count;let n=typeof l=="number"?l:l.base,f=typeof l=="number"?l:l.base+l.spread;if(n<0&&(r.warn(`Decorator "${t}" no longer allows negative values.`),n=Math.max(0,n),f=Math.max(0,f)),n===f){e.config.count=n;break}e.config.count={type:"minecraft:uniform",value:{min_inclusive:n,max_inclusive:f}};break;case"decorated":Mt(e.config.outer,r),Mt(e.config.inner,r);break;case"heightmap_world_surface":e.type="minecraft:heightmap",e.config={heightmap:"WORLD_SURFACE_WG"};break;case"top_solid_heightmap":e.type="minecraft:heightmap",e.config={heightmap:"OCEAN_FLOOR_WG"};break;case"heightmap":case"heightmap_spread_double":e.config={heightmap:"MOTION_BLOCKING"};break;case"water_lake":e.type="minecraft:decorated",e.config=Fe({type:"minecraft:chance",config:{chance:e.config.chance}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}});break;case"lava_lake":const a=e.config.chance/10;e.type="minecraft:decorated",e.config=Fe(...Number.isInteger(a)?[{type:"minecraft:chance",config:{chance:a}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:1/a}}],{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}},{type:"minecraft:lava_lake",config:{chance:10}});break;case"fire":const d=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=Fe({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(d/2)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"glowstone":const y=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=Fe({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(y-1)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"range":const s=e.config.bottom_offset,g=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;if(s===g){e.config={height:{absolute:s}};break}e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:s},max_inclusive:{absolute:g}}};break;case"range_biased":const b=e.config.bottom_offset,o=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:b},max_inclusive:{absolute:o},cutoff:b}};break;case"range_very_biased":const h=e.config.bottom_offset,i=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:very_biased_to_bottom",min_inclusive:{absolute:h},max_inclusive:{absolute:i},cutoff:h}};break;case"depth_average":e.type="minecraft:range",e.config={height:{type:"minecraft:trapezoid",min_inclusive:{absolute:e.config.baseline},max_inclusive:{absolute:e.config.baseline+e.config.spread}}};break;case"emerald_ore":e.type="minecraft:decorated",e.config=Fe({type:"minecraft:count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:8}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:31}}}});break;case"end_island":e.type="minecraft:decorated",e.config=Fe({type:"minecraft:chance",config:{chance:14}},{type:"minecraft:count_extra",config:{count:1,extra_count:1,extra_chance:.25}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:55},max_inclusive:{absolute:70}}}});break;case"magma":r.warn('Removed decorator "magma" previously used the sea level. Assumed sea level is 32 and replaced with a range decorator between 27 and 36.'),e.type="minecraft:range",e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:27},max_inclusive:{absolute:36}}};break}}function Fe(...e){return{outer:e[0],inner:e.length===2?e[1]:{type:"minecraft:decorated",config:Fe(...e.slice(1))}}}const Nn=/replaceitem ((?:entity @[parse](\[.*\]*)?|block( [^ ]+){3}) [a-z0-9.]+) /,Un=/scoreboard objectives add ([^ ]+) (minecraft.)?custom:(minecraft.)?play_one_minute/,Wn=D.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("replaceitem ")||r.startsWith("execute "))&&(e[t]=e[t].replace(Nn,"item replace $1 with ")),(r.startsWith("scoreboard")||r.startsWith("execute"))&&(e[t]=e[t].replace(Un,"scoreboard objectives add $1 $2custom:$3play_time"))})}),Zn=D.all(D.onFile("tags/blocks",({data:e})=>gr(e)),D.onFile("tags/items",({data:e})=>gr(e)));function gr(e){var r;(r=e.values)==null||r.forEach((t,u)=>Gn(e.values,u))}function Gn(e,r){e[r].replace(/^minecraft:/,"")==="grass_path"&&(e[r]="minecraft:dirt_path")}const Hn=D.all(D.onFile("worldgen/noise_settings",({data:e})=>yr(e)),D.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&yr(e.generator.settings)}));function yr(e){typeof e=="object"&&(e.bedrock_roof_position<=-10&&(e.bedrock_roof_position=-2147483648),e.bedrock_floor_position<=-10&&(e.bedrock_floor_position=-2147483648),e.min_surface_level=0,e.noise_caves_enabled=!1,e.noodle_caves_enabled=!1,e.aquifers_enabled=!1,e.deepslate_enabled=!1,e.ore_veins_enabled=!1,e.noise.min_y=0)}const qn=D.all(D.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach($e):$e(e)}),D.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Kn)}),D.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(Yn)}));function Kn(e){var r,t;typeof(e==null?void 0:e.conditions)=="object"&&(_e(e.conditions.entity),_e(e.conditions.player),_e(e.conditions.parent),_e(e.conditions.partner),_e(e.conditions.child),_e(e.conditions.villager),_e(e.conditions.zombie),_e(e.conditions.projectile),_e(e.conditions.shooter),(r=e.conditions.victims)==null||r.forEach(_e),kt(e.conditions.item),(t=e.conditions.items)==null||t.forEach(kt),wt(e.conditions.damage),wt(e.conditions.killing_blow),tt(e.conditions.location),tt(e.conditions.entered),tt(e.conditions.exited))}function Yn(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(Hr),(t=e.conditions)==null||t.forEach($e))}function Hr(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(Hr),(t=e.conditions)==null||t.forEach($e))}function $e(e){var t,u;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(u=e.terms)==null||u.forEach($e);break;case"inverted":$e(e.term);break;case"match_tool":kt(e.predicate);break;case"entity_properties":_e(e.predicate);break;case"damage_source_properties":wt(e.predicate);break;case"location_check":tt(e.predicate);break}}function wt(e){typeof e=="object"&&(_e(e.source_entity),_e(e.direct_entity),wt(e.type))}function _e(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach($e);return}e.equipment&&Object.values(e.equipment).forEach(kt),_e(e.vehicle),_e(e.targeted_entity),tt(e.location)}}function tt(e){typeof e=="object"&&Xn(e.block)}function kt(e){typeof e=="object"&&e.item&&(e.items=[e.item],delete e.item)}function Xn(e){typeof e=="object"&&e.block&&(e.blocks=[e.block],delete e.block)}const Jn=D.all(D.onFile("worldgen/configured_structure_feature",({data:e})=>br(e)),D.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(br)}));function br(e){if(typeof e!="object")return;e.type.replace(/^minecraft:/,"")==="nether_fossil"&&(e.config||(e.config={}),e.config.height={type:"minecraft:uniform",min_inclusive:{absolute:32},max_inclusive:{below_top:2}})}const Vn=D.version("1.16.5","1.17.1",D.groupProblems(D.packFormat(7),D.when("ids",Zn),D.when("predicates",qn),D.when("functions",Wn),D.when("worldgen",Bn,Hn,Jn,Pn,$n))),Qn=D.all(D.onFile("worldgen/configured_feature",ti),D.onFile("worldgen/biome",({data:e},r)=>{e.player_spawn_friendly=void 0,["air","liquid"].forEach(t=>{Array.isArray(e.carvers[t])&&(e.carvers[t]=e.carvers[t].filter(u=>!ii.has(u.replace(/^minecraft:/,""))))}),Array.isArray(e.features)&&(e.features=e.features.map(t=>Array.isArray(t)?t.flatMap(u=>{if(typeof u!="string")return u;const l=ei(u,r);return l.forEach(n=>{const f=r.read("worldgen/placed_feature",n);f&&(f.data.placement.find(a=>a.type==="minecraft:biome")||f.data.placement.push({type:"minecraft:biome"}))}),l}):t))}));function ei(e,r){const t=e.replace(/^minecraft:/,"");return wr.has(t)?wr.get(t).map(u=>`minecraft:${u}`):Le.has(t)||He.has(t)?[`minecraft:${Le.get(t)??He.get(t)}`]:Xr.has(t)&&r.read("worldgen/placed_feature",t)===void 0?[]:Yr.has(t)?[]:[e]}function ti(e,r){if(typeof e.data!="object")return;const t=Jt(e.data,r);typeof t.feature=="string"?e.data=xt(qr(t.feature,r)):(e.data={type:t==null?void 0:t.feature.type,config:t==null?void 0:t.feature.config},t.feature=e.name),r.create("worldgen/placed_feature",e.name,{feature:t.feature,placement:t==null?void 0:t.placement})}function xt(e){return{type:"minecraft:random_selector",config:{features:[],default:e}}}function Jt(e,r){if(typeof e=="string"){const l=e.replace(/^minecraft:/,"");if(Yr.has(l))e={type:"minecraft:no_op",config:{}};else if(Jr.has(l))e=xt(e);else if(Le.has(l)||Et.has(l)){const n=Et.get(l)??Le.get(l);console.log(`Rename ${l} -> configured: ${n}`),e=`minecraft:${n}`}else if(He.has(l)){const n=He.get(l);console.log(`Redirect ${l} -> placed: ${n}`),e=xt(n)}return{feature:e,placement:[]}}if(typeof e!="object")throw new Error("Feature is not an object nor a string");const t=e.type.replace(/^minecraft:/,""),u=[];switch(t){case"decorated":const l=Kr(e,u,r);e=ri(l,r);break;case"glow_lichen":e.config.can_be_placed_on=[...new Set(e.config.can_be_placed_on.map(n=>n.Name))];break;case"lake":e.config={fluid:{type:"minecraft:simple_state_provider",state:e.config.state},barrier:{type:"minecraft:simple_state_provider",state:{Name:"minecraft:stone"}}};break;case"nether_forest_vegetation":e.config.spread_width=8,e.config.spread_height=4;break;case"random_boolean_selector":e.config.feature_false=Be(e.config.feature_false,r),e.config.feature_true=Be(e.config.feature_true,r);break;case"root_system":e.config.allowed_tree_position={type:"minecraft:true"};case"random_patch":case"flower":case"no_bonemeal_flower":e.config.feature=Be(e.config.feature,r);break;case"random_selector":e.config.features.forEach(n=>{n.feature=Be(n.feature,r)}),e.config.default=Be(e.config.default,r);break;case"simple_random_selector":e.config.features=e.config.features.map(n=>Be(n,r));break;case"twisting_vines":e.config={spread_width:8,spread_height:4,max_height:8};break;case"vegetation_patch":case"waterlogged_vegetation_patch":e.config.vegetation_feature=Be(e.config.vegetation_feature,r)}return{feature:e,placement:u}}function Be(e,r){const t=Jt(e,r);return typeof t.feature=="string"&&t.placement.length===0?qr(t.feature,r):t}function qr(e,r){const t=e.replace(/^minecraft:/,"");if(Le.has(t)||He.has(t)){const u=He.get(t)??Le.get(t);return console.log(`Rename placement: ${t} -> ${u}`),`minecraft:${u}`}return!Xr.has(t)&&r.read("worldgen/configured_feature",t)===void 0?(console.log(`No placement: ${t}`),e):{feature:e,placement:[]}}function ri(e,r){const t=Jt(e,r);if(typeof t.feature=="string"&&t.placement.length===0){const u=t.feature.replace(/^minecraft:/,"");if(Le.has(u)||Et.has(u)){const l=Et.get(u)??Le.get(u);return console.log(`Rename config: ${u} -> ${l}`),`minecraft:${l}`}if(Jr.has(u))return xt(t.feature)}return t.feature}function Nt(e,r){if(typeof e!="object")return[];const t=e.type.replace(/^minecraft:/,"");switch(t){case"block_filter":return[{type:"minecraft:block_predicate_filter",...e.config}];case"cave_surface":const u=e.config.floor_to_ceiling_search_range;return u>32&&r.warn('Converting cave_surface decorator into environment_scan: "max_steps" is limited to 32.'),[{type:"minecraft:environment_scan",...{direction_of_search:e.config.surface==="ceiling"?"up":"down",target_condition:{type:"minecraft:solid"},allowed_search_condition:{type:"minecraft:matching_blocks",blocks:["minecraft:air",...e.config.allow_water?["minecraft:water"]:[]]},max_steps:Math.min(32,u)}}];case"count_multilayer":return[{type:"minecraft:count_on_every_layer",...e.config}];case"chance":return[{type:"minecraft:rarity_filter",...e.config}];case"count_extra":let n=e.config.count+e.config.extra_count;if(n>256){let s=[n];for(n-=1;s.some(g=>g>256);)n+=1,s=ni(n);for(let g=2;g<=5;g+=1){const b=Array(g).fill(1),o=[...s];e:for(;o.length>0;){const h=o.pop();for(let i=0;i<g;i+=1)if(b[i]*h<=256){b[i]*=h;continue e}break}if(o.length===0&&b.every(h=>h<=256))return b.map(h=>({type:"minecraft:count",count:h}))}throw new Error(`Extremely high count: ${e.config.count+e.config.extra_count}`)}return[{type:"minecraft:count",count:{type:"minecraft:weighted_list",distribution:[{weight:Math.round(100*(1-e.config.extra_chance)),data:Math.min(256,e.config.count)},{weight:Math.round(100*e.config.extra_chance),data:Math.min(256,n)}]}}];case"count_noise":return[{type:"minecraft:noise_threshold_count",...e.config}];case"count_noise_biased":return[{type:"minecraft:noise_based_count",...e.config}];case"dark_oak_tree":return[{type:"minecraft:count",count:16},{type:"minecraft:in_square"}];case"decorated":const a=Nt(e.config.outer,r),d=Nt(e.config.inner,r);return[...a,...d];case"end_gateway":return[{type:"minecraft:random_offset",xz_spread:0,y_spread:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:9}}}];case"iceberg":return[{type:"minecraft:in_square"}];case"lava_lake":return[{type:"minecraft:rarity_filter",chance:10}];case"nope":return[];case"range":return[{type:"minecraft:height_range",...e.config}];case"scatter":return[{type:"minecraft:random_offset",...e.config}];case"square":return[{type:"minecraft:in_square",...e.config}];case"surface_relative_threshold":return[{type:"minecraft:surface_relative_threshold_filter",...e.config}];case"water_depth_threshold":return[{type:"minecraft:surface_water_depth_filter",...e.config}];default:return[{type:t,...e.config}]}}function Kr(e,r,t){return typeof e!="object"?e:e.type.replace(/^minecraft:/,"")==="decorated"?(r.push(...Nt(e.config.decorator,t)),Kr(e.config.feature,r,t)):e}function ni(e){const r=[];let t=2;for(;e>=2;)e%t==0?(r.push(t),e=e/t):t+=1;return r}const wr=new Map(Object.entries({birch_other:["forest_flowers","trees_birch_and_oak"],fossil:["fossil_upper","fossil_lower"],lake_lava:["lake_lava_surface","lake_lava_underground"],monster_room:["monster_room","monster_room_deep"],ore_granite:["ore_granite_upper","ore_granite_lower"],ore_diorite:["ore_diorite_upper","ore_diorite_lower"],ore_andesite:["ore_andesite_upper","ore_andesite_lower"],ore_coal:["ore_coal_upper","ore_coal_lower"],ore_iron:["ore_iron_upper","ore_iron_middle","ore_iron_small"],ore_gold:["ore_gold","ore_gold_lower"],ore_redstone:["ore_redstone","ore_redstone_lower"],ore_diamond:["ore_diamond","ore_diamond_large","ore_diamond_buried"],ore_lapis:["ore_lapis","ore_lapis_buried"]})),Yr=new Set(["lake_water","rare_dripstone_cluster","rare_small_dripstone","ore_deepslate"]),Xr=new Set(["azalea_tree","birch_bees_005","bonus_chest","cave_vine_in_moss","clay_pool_with_dripleaves","clay_with_dripleaves","dripleaf","end_gateway_delayed","huge_brown_mushroom","huge_red_mushroom","jungle_tree_no_vine","moss_patch","moss_patch_bonemeal","moss_patch_ceiling","moss_vegetation","oak_bees_005","patch_brown_mushroom","patch_red_mushroom","spring_lava_double","swamp_oak"]),Jr=new Set(["patch_dead_bush_2"]),Le=new Map(Object.entries({birch_other:"trees_birch_and_oak",end_gateway:"end_gateway_return",fancy_oak_bees_005:"fancy_oak_bees",flower_forest:"flower_flower_forest",forest_flower_trees:"trees_flower_forest",forest_flower_vegetation:"forest_flowers",forest_flower_vegetation_common:"flower_forest_flowers",grove_vegetation:"trees_grove",mushroom_field_vegetation:"mushroom_island_vegetation",ore_debris_large:"ore_ancient_debris_large",patch_waterlilly:"patch_waterlily",pine:"pine_checked",plain_vegetation:"trees_plains",rooted_azalea_trees:"rooted_azalea_tree",taiga_vegetation:"trees_taiga",trees_giant:"trees_old_growth_pine_taiga",trees_giant_spruce:"trees_old_growth_spruce_taiga",trees_jungle_edge:"trees_sparse_jungle",trees_mountain:"trees_windswept_hills"})),He=new Map(Object.entries({acacia:"acacia_checked",birch:"birch_checked",brown_mushroom_giant:"brown_mushroom_old_growth",cave_vine:"cave_vines",dark_oak:"dark_oak_checked",end_island:"end_island_decorated",fancy_oak:"fancy_oak_checked",flower_plain_decorated:"flower_plains",meadow_trees:"trees_meadow",mega_jungle_tree:"mega_jungle_tree_checked",mega_pine:"mega_pine_checked",red_mushroom_giant:"red_mushroom_old_growth",patch_cactus:"patch_cactus_decorated",mega_spruce:"mega_spruce_checked",spruce:"spruce_checked",trees_mountain_edge:"trees_windswept_forest",trees_shattered_savanna:"trees_windswept_savanna"})),Et=new Map(Object.entries({mega_spruce:"mega_spruce",cave_vine:"cave_vine",crimson_fungi_planted:"crimson_fungus_planted",warped_fungi_planted:"warped_fungus_planted"})),ii=new Set(["ocean_cave","prototype_canyon","prototype_cave","prototype_crevice","underwater_canyon","underwater_cave"]),kr=["raw_generation","lakes","local_modifications","underground_structures","surface_structures","strongholds","underground_ores","underground_decoration","fluid_springs","vegetal_decoration","top_layer_modification"];async function oi(e,r){const t=e.data["worldgen/biome"].filter(l=>!l.error),u=new Set;for(let l=0;l<kr.length;l+=1){const n=[];for(const d of t){const y=d.data.features[l]??[];for(let s=0;s<y.length;s+=1){const g=y[s];if(n.some(o=>o.biome===d.name&&o.id===g)){u.add(d.name);continue}const b=new Set(y.slice(0,s));n.push({id:g,biome:d.name,depends:b})}}const f=[],a=n.filter(d=>n.filter(y=>d.id===y.id).every(y=>y.depends.size===0));for(;a.length>0;){const d=a.pop();if(!f.some(y=>y.id===d.id)){f.push(d);for(const y of n.filter(s=>s.depends.has(d.id)))y.depends.delete(d.id),n.filter(s=>y.id===s.id).every(s=>s.depends.size===0)&&a.push(y)}}if(n.some(d=>d.depends.size>0)){let d=function(o,h,i){if(i<=0)return!1;y.add(o.biome),s.add(o.id);for(const p of o.depends){if(p===h.id)return[h];if(!s.has(p))for(const m of n.filter(v=>v.id===p&&!y.has(v.biome))){const v=d(m,h,i-1);if(v)return[m,...v]}}return y.delete(o.biome),!1};const y=new Set,s=new Set;let g=!1;const b=n.filter(o=>o.depends.size>0);e:for(let o=2;o<10;o+=1)for(const h of b)if(y.clear(),s.clear(),g=d(h,h,o),g)break e;if(g){const o=[`Cycle in step ${l} (${kr[l]}):`];for(let h=g.length-1;h>=0;h-=1){const i=g[h],p=g[(h+1+g.length)%g.length];o.push(` Biome ${i.biome}: '${p.id}' -> '${i.id}'`)}r.warn("!Feature order cycle found. Needs manual fixing.",[],o)}}}u.size>0&&r.warn("!Detected duplicate features. They are no longer allowed.",[...u])}const ai=D.all(D.onFile("worldgen/noise_settings",({data:e})=>xr(e)),D.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&xr(e.generator.settings)}));function xr(e){Ut(e.surface_rule)}function Ut(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>Ut(t));break;case"condition":Vr(e.if_true),Ut(e.then_run)}}function Vr(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"not":Vr(e.invert);break;case"stone_depth":e.offset=0,e.add_surface_depth=e.add_run_depth,e.add_surface_secondary_depth=!1,delete e.add_run_depth;break;case"water":case"y_above":e.surface_depth_multiplier=e.run_depth_multiplier,delete e.run_depth_multiplier}}const si=D.all(D.version("21w44a","1.18.1",D.groupProblems(D.when("worldgen",Qn,ai))),D.versionInclusive("1.18.1","1.18.1",D.when("featureCycles",oi))),ci=D.all(D.onFile("dimension",({data:e})=>li(e.generator)));function li(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"flat":if(typeof e.settings!="object")return;e.settings.structure_overrides=[],delete e.settings.structures}}const ui=D.all(D.onFile("dimension_type",({data:e})=>Er(e)),D.onFile("dimension",({data:e})=>{typeof e.type=="object"&&Er(e.type)}));function Er(e){e.infiniburn.startsWith("#")||(e.infiniburn="#"+e.infiniburn)}const fi=D.all(D.onFile("worldgen/configured_feature",({data:e})=>Qr(e)),D.onFile("worldgen/placed_feature",({data:e})=>Te(e)));function Te(e){typeof e=="object"&&Qr(e.feature)}function Qr(e){var t,u;if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"random_boolean_selector":Te(e.config.feature_false),Te(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":Te(e.config.feature);break;case"random_selector":e.config.features.forEach(l=>{Te(l.feature)}),Te(e.config.default);break;case"simple_random_selector":e.config.features.forEach(l=>{Te(l)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":Te(e.config.vegetation_feature),ft(e.config,"replaceable");break;case"geode":ft((t=e.config)==null?void 0:t.blocks,"cannot_replace"),ft((u=e.config)==null?void 0:u.blocks,"invalid_blocks");break;case"root_system":ft(e.config,"root_replaceable")}}function ft(e,r){typeof e=="object"&&typeof e[r]=="string"&&(e[r]="#"+e[r])}const di=/locate (minecraft:)?(mineshaft|ocean_ruin|ruined_portal|shipwreck|village)/,hi=D.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("locate ")||r.startsWith("execute "))&&(e[t]=e[t].replace(di,"locate #$1$2"))})}),pi=D.all(D.onFile("worldgen/noise_settings",({data:e})=>Cr(e)),D.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&Cr(e.generator.settings)}));function Cr(e){typeof e=="object"&&(Wt(e.surface_rule),e.noise_router=mi(e.aquifers_enabled,e.ore_veins_enabled,e.noise_caves_enabled,e.noodle_caves_enabled,e.noise.island_noise_override,e.noise.large_biomes),delete e.noise_caves_enabled,delete e.noodle_caves_enabled,delete e.noise.island_noise_override,delete e.noise.amplified,delete e.noise.large_biomes,delete e.structures)}function Wt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>Wt(t));break;case"condition":_i(e.if_true),Wt(e.then_run)}}function _i(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"stone_depth":e.secondary_depth_range=e.add_surface_secondary_depth?6:0,delete e.add_surface_secondary_depth}}function mi(e,r,t,u,l,n){const f=l?"end":n?"overworld_large_biomes":"overworld",d={argument:{argument1:.64,argument2:{argument:{argument:{argument:t?{max_exclusive:1.5625,when_in_range:{argument1:`minecraft:${f}/sloped_cheese`,argument2:{argument1:5,argument2:"minecraft:overworld/caves/entrances",type:"minecraft:mul"},type:"minecraft:min"},when_out_of_range:{argument1:{argument1:{argument1:{argument1:{argument1:4,argument2:{argument:{noise:"minecraft:cave_layer",xz_scale:1,y_scale:8,type:"minecraft:noise"},type:"minecraft:square"},type:"minecraft:mul"},argument2:{argument1:{input:{argument1:.27,argument2:{noise:"minecraft:cave_cheese",xz_scale:1,y_scale:.6666666666666666,type:"minecraft:noise"},type:"minecraft:add"},min:-1,max:1,type:"minecraft:clamp"},argument2:{input:{argument1:1.5,argument2:{argument1:-.64,argument2:`minecraft:${f}/sloped_cheese`,type:"minecraft:mul"},type:"minecraft:add"},min:0,max:.5,type:"minecraft:clamp"},type:"minecraft:add"},type:"minecraft:add"},argument2:"minecraft:overworld/caves/entrances",type:"minecraft:min"},argument2:{argument1:"minecraft:overworld/caves/spaghetti_2d",argument2:"minecraft:overworld/caves/spaghetti_roughness_function",type:"minecraft:add"},type:"minecraft:min"},argument2:{max_exclusive:.03,when_in_range:-1e6,when_out_of_range:"minecraft:overworld/caves/pillars",input:"minecraft:overworld/caves/pillars",min_inclusive:-1e6,type:"minecraft:range_choice"},type:"minecraft:max"},input:`minecraft:${f}/sloped_cheese`,min_inclusive:-1e6,type:"minecraft:range_choice"}:`minecraft:${f}/sloped_cheese`,type:"minecraft:slide"},type:"minecraft:blend_density"},type:"minecraft:interpolated"},type:"minecraft:mul"},type:"minecraft:squeeze"};return{final_density:u?{argument1:d,argument2:"minecraft:overworld/caves/noodle",type:"minecraft:min"}:d,vein_toggle:!r||l?0:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_veininess",xz_scale:1.5,y_scale:1.5,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},vein_ridged:!r||l?0:{argument1:-.07999999821186066,argument2:{argument1:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_a",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},argument2:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_b",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},type:"minecraft:max"},type:"minecraft:add"},vein_gap:!r||l?0:{noise:"minecraft:ore_gap",xz_scale:1,y_scale:1,type:"minecraft:noise"},erosion:l?0:`minecraft:${f}/erosion`,depth:l?0:`minecraft:${f}/depth`,ridges:l?0:"minecraft:overworld/ridges",initial_density_without_jaggedness:l?{argument:{type:"minecraft:end_islands"},type:"minecraft:cache_2d"}:{argument1:4,argument2:{argument:{argument1:`minecraft:${f}/depth`,argument2:{argument:`minecraft:${f}/factor`,type:"minecraft:cache_2d"},type:"minecraft:mul"},type:"minecraft:quarter_negative"},type:"minecraft:mul"},lava:!e||l?0:{noise:"minecraft:aquifer_lava",xz_scale:1,y_scale:1,type:"minecraft:noise"},temperature:l?0:{xz_scale:.25,y_scale:0,noise:n?"minecraft:temperature_large":"minecraft:temperature",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},vegetation:l?0:{xz_scale:.25,y_scale:0,noise:n?"minecraft:vegetation_large":"minecraft:vegetation",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},continents:l?0:`minecraft:${f}/continents`,barrier:!e||l?0:{noise:"minecraft:aquifer_barrier",xz_scale:1,y_scale:.5,type:"minecraft:noise"},fluid_level_floodedness:!e||l?0:{noise:"minecraft:aquifer_fluid_level_floodedness",xz_scale:1,y_scale:.67,type:"minecraft:noise"},fluid_level_spread:!e||l?0:{noise:"minecraft:aquifer_fluid_level_spread",xz_scale:1,y_scale:.7142857142857143,type:"minecraft:noise"}}}const vi=D.all(D.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Me):Me(e)}),D.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(gi)}),D.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(yi)}));function gi(e){var r;typeof(e==null?void 0:e.conditions)=="object"&&(me(e.conditions.entity),me(e.conditions.player),me(e.conditions.parent),me(e.conditions.partner),me(e.conditions.child),me(e.conditions.villager),me(e.conditions.zombie),me(e.conditions.projectile),me(e.conditions.shooter),(r=e.conditions.victims)==null||r.forEach(me),Ct(e.conditions.damage),Ct(e.conditions.killing_blow),rt(e.conditions.location),rt(e.conditions.entered),rt(e.conditions.exited))}function yi(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(en),(t=e.conditions)==null||t.forEach(Me))}function en(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(en),(t=e.conditions)==null||t.forEach(Me))}function Me(e){var t,u;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(u=e.terms)==null||u.forEach(Me);break;case"inverted":Me(e.term);break;case"entity_properties":me(e.predicate);break;case"damage_source_properties":Ct(e.predicate);break;case"location_check":rt(e.predicate);break}}function Ct(e){typeof e=="object"&&(me(e.source_entity),me(e.direct_entity),Ct(e.type))}function me(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Me);return}me(e.vehicle),me(e.targeted_entity),rt(e.location)}}function rt(e){if(typeof e=="object"&&typeof e.feature=="string")switch(e.feature){case"endcity":e.feature="minecraft:end_city";break;default:e.feature="minecraft:"+e.feature}}const bi=D.all(D.onFile("worldgen/processor_list",({data:e})=>tn(e)),D.onFile("worldgen/template_pool",({data:e})=>ki(e)));function tn(e){typeof e=="object"&&Array.isArray(e.processors)&&e.processors.forEach(wi)}function wi(e){if(typeof e!="object")return;switch(e.processor_type.replace(/^minecraft:/,"")){case"protected_blocks":e.value.startsWith("#")||(e.value="#"+e.value)}}function ki(e){typeof e=="object"&&Array.isArray(e.elements)&&e.elements.forEach(r=>{typeof r=="object"&&xi(r.element)})}function xi(e){typeof e=="object"&&typeof e.processors=="object"&&tn(e.processors)}const Ei=D.all(D.onFile("worldgen/configured_structure_feature",({data:e},r)=>Ci(e,r)));function Ci(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"pillager_outpost":case"village":e.adapt_noise=!0}r.warn("Cannot upgrade configured structure features, set biomes to empty list."),e.biomes=[],e.spawn_overrides={}}const Si=D.version("1.18.1","1.18.2",D.groupProblems(D.packFormat(9),D.when("worldgen",ui,pi,ci,Ei,bi,fi),D.when("predicates",vi),D.when("functions",hi))),Ai=D.all(D.onFile("worldgen/biome",zi));function zi({data:e}){delete e.category}const Oi=D.all(D.onFile("worldgen/configured_carver",({data:e})=>Rt(e)),D.onFile("worldgen/biome",({data:e})=>{typeof e.carvers=="object"&&Object.values(e.carvers).forEach(r=>{Array.isArray(r)?r.forEach(Rt):Rt(r)})}));function Rt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"canyon":case"cave":e.config.replaceable="#minecraft:overworld_carver_replaceables";break;case"nether_cave":e.config.replaceable="#minecraft:nether_carver_replaceables";break}}const Fi=D.all(D.onFile("dimension_type",({data:e})=>rn(e)),D.onFile("dimension",({data:e,name:r},t)=>Ti(e,r,t)));function Ti(e,r,t){typeof e=="object"&&(typeof e.type=="object"&&(rn(e.type),t.create("dimension_type",r,e.type),e.type=r),Ii(e.generator))}function rn(e){e.monster_spawn_block_light_limit=0,e.monster_spawn_light_level={type:"minecraft:uniform",value:{min_inclusive:0,max_inclusive:7}}}function Ii(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"noise":delete e.seed,Ri(e.biome_source)}}function Ri(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"end":delete e.seed}}const ji=D.all(D.onFile("worldgen/configured_feature",({data:e})=>nn(e)),D.onFile("worldgen/placed_feature",({data:e})=>Ie(e)));function Ie(e){typeof e=="object"&&nn(e.feature)}function nn(e){var t,u,l;if(typeof e!="object")return;const r=e.type.replace(/^minecraft:/,"");switch(r){case"random_boolean_selector":Ie(e.config.feature_false),Ie(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":Ie(e.config.feature);break;case"random_selector":e.config.features.forEach(n=>{Ie(n.feature)}),Ie(e.config.default);break;case"simple_random_selector":e.config.features.forEach(n=>{Ie(n)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":Ie(e.config.vegetation_feature);break;case"disk":case"ice_patch":case"surface_disk":e.type="minecraft:random_selector",e.config={features:[],default:{feature:{type:"minecraft:disk",config:{half_height:e.config.half_height,radius:e.config.radius,state_provider:{fallback:{type:"minecraft:simple_state_provider",state:e.config.state},rules:[]},target:{type:"minecraft:matching_blocks",blocks:Di(e.config.targets)}}},placement:[...r==="disk"?[]:[{type:"minecraft:random_offset",xz_spread:0,y_spread:-1}],{type:"minecraft:block_predicate_filter",predicate:r==="disk"?{type:"minecraft:matching_fluids",fluids:"minecraft:water"}:r==="ice_patch"?{type:"minecraft:matching_blocks",blocks:"minecraft:snow"}:{type:"minecraft:matching_blocks",blocks:((u=(t=e.config)==null?void 0:t.can_origin_replace)==null?void 0:u.filter(n=>(n==null?void 0:n.replace(/^minecraft:/,""))!=="water"))??[]}}]}};break;case"glow_lichen":e.type="minecraft:multiface_growth";break;case"tree":(l=e.config.decorators)==null||l.forEach(n=>{var f;((f=n==null?void 0:n.type)==null?void 0:f.replace(/^minecraft:/,""))==="leave_vine"&&(n.probability=.25)});break}}function Di(e){return[...new Set(e.map(r=>r.Name))]}const Li=/\b((?:CustomPotionEffects|ActiveEffects|Effects):.+\bId\s*:\s*\d+)b\b/,Pi=/\b((?:Primary|Secondary)\s*:\s*\d+)b\b/,Bi=D.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("locate ")||r.startsWith("execute "))&&(e[t]=e[t].replace("locate ","locate structure ")),(r.startsWith("locatebiome ")||r.startsWith("execute "))&&(e[t]=e[t].replace("locatebiome ","locate biome ")),(r.startsWith("placefeature ")||r.startsWith("execute "))&&(e[t]=e[t].replace("placefeature ","place feature ")),r.includes("Id")&&(e[t]=e[t].replace(Li,"$1")),(r.includes("Primary")||r.includes("Secondary"))&&(e[t]=e[t].replace(Pi,"$1"))})}),$i=JSON.parse('{"min_y":-64,"height":384,"size_horizontal":1,"size_vertical":2,"sampling":{"xz_scale":1,"y_scale":1,"xz_factor":80,"y_factor":160},"bottom_slide":{"target":0.1171875,"size":3,"offset":0},"top_slide":{"target":-0.078125,"size":2,"offset":8},"terrain_shaper":{"offset":{"coordinate":"continents","points":[{"location":-1.1,"derivative":0,"value":0.044},{"location":-1.02,"derivative":0,"value":-0.2222},{"location":-0.51,"derivative":0,"value":-0.2222},{"location":-0.44,"derivative":0,"value":-0.12},{"location":-0.18,"derivative":0,"value":-0.12},{"location":-0.16,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.01,"value":0.001},{"location":0,"derivative":0.01,"value":0.003},{"location":0.4,"derivative":0.094000004,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":0.25,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.20235021},{"location":0,"derivative":0.5138249,"value":0.7161751},{"location":1,"derivative":0.5138249,"value":1.23}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.43317974,"value":0.44682026},{"location":1,"derivative":0.43317974,"value":0.88}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.3917051,"value":0.30829495},{"location":1,"derivative":0.3917051,"value":0.70000005}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.35},{"location":0,"derivative":0,"value":0.35},{"location":0.4,"derivative":0,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.07,"value":0.0069999998},{"location":0,"derivative":0.07,"value":0.021},{"location":0.4,"derivative":0.658,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.34792626},{"location":0,"derivative":0.5760369,"value":0.9239631},{"location":1,"derivative":0.5760369,"value":1.5}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.2},{"location":-0.4,"derivative":0,"value":0.5},{"location":0,"derivative":0,"value":0.5},{"location":0.4,"derivative":0,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0.099999994,"value":0.01},{"location":0,"derivative":0.099999994,"value":0.03},{"location":0.4,"derivative":0.94,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.015,"value":-0.02},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}}]},"factor":{"coordinate":"continents","points":[{"location":-0.19,"derivative":0,"value":3.95},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":0.35,"derivative":0,"value":6.25},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":0.35,"derivative":0,"value":5.47},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.47}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":0.35,"derivative":0,"value":5.08},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.08}]}},{"location":0.06,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.05,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.58,"derivative":0,"value":4.69}]}}]},"jaggedness":{"coordinate":"continents","points":[{"location":-0.11,"derivative":0,"value":0},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}},{"location":0.65,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}}]}}}'),nt=new Set,Mi=D.all(async()=>{nt.clear()},D.onFile("worldgen/noise_settings",({data:e},r)=>Sr(e,r)),D.onFile("dimension",({data:e},r)=>{var t,u;((u=(t=e.generator)==null?void 0:t.type)==null?void 0:u.replace(/^minecraft:/,""))==="noise"&&Sr(e.generator.settings,r)}),D.onFile("worldgen/density_function",({name:e,data:r},t)=>{const u=e.includes(":")?e:"minecraft:"+e;nt.has(u)||(console.debug(`Visiting ${u} with default noise`),nt.add(u),pe(r,t,$i))}));function Sr(e,r){typeof e=="object"&&(Object.values(e.noise_router).forEach(t=>pe(t,r,e.noise)),delete e.noise.terrain_shaper,delete e.noise.sampling,delete e.noise.top_slide,delete e.noise.bottom_slide,e.spawn_target=Wi)}function pe(e,r,t){if(typeof e=="string"){const l=e.includes(":")?e:"minecraft:"+e;if(nt.has(l))console.debug(`Already visited ${l}`);else{console.debug(`Visiting ${l}`),nt.add(l);const n=r.read("worldgen/density_function",l);if(n&&!n.error&&!n.deleted)pe(n.data,r,t);else if(Fr.has(l)){const f=JSON.parse(Fr.get(l));pe(f,r,t),r.create("worldgen/density_function",l,f)}}return}if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"abs":case"blend_density":case"cache_2d":case"cache_all_in_cell":case"cache_once":case"cube":case"flat_cache":case"half_negative":case"interpolated":case"quarter_negative":case"square":case"squeeze":pe(e.argument,r,t);break;case"add":case"max":case"min":case"mul":pe(e.argument1,r,t),pe(e.argument2,r,t);break;case"clamp":case"range_choice":case"weird_scaled_sampler":pe(e.input,r,t);break;case"shifted_noise":pe(e.shift_x,r,t),pe(e.shift_y,r,t),pe(e.shift_z,r,t);break;case"old_blended_noise":e.xz_scale=t.sampling.xz_scale,e.y_scale=t.sampling.y_scale,e.xz_factor=t.sampling.xz_factor,e.y_factor=t.sampling.y_factor,e.smear_scale_multiplier=8;break;case"slide":pe(e.argument,r,t);const l=Ni(e.argument,t);delete e.argument,Object.assign(e,l);break;case"spline":on(e.spline,r,t),delete e.min_value,delete e.max_value;break;case"terrain_shaper_spline":e.type="minecraft:spline",pe(e.continentalness,r,t),pe(e.erosion,r,t),pe(e.weirdness,r,t);const n={continents:e.continentalness,erosion:e.erosion,weirdness:e.weirdness,ridges:"minecraft:overworld/ridges_folded"};let f={type:"minecraft:spline",spline:an(t.terrain_shaper[e.spline],r,n)};e.spline==="offset"&&(f={type:"minecraft:add",argument1:-.5037500262260437,argument2:f}),e.type="minecraft:clamp",e.min=e.min_value,e.max=e.max_value,e.input=f,delete e.spline,delete e.min_value,delete e.max_value,delete e.continentalness,delete e.erosion,delete e.weirdness;break}}function on(e,r,t){if(typeof e=="object"){pe(e.coordinate,r,t);for(const u of e.points)on(u.value,r,t)}}function an(e,r,t){if(typeof e!="object")return e;let u=t[e.coordinate];return u===void 0&&(r.warn(`Unknown coordinate ${e.coordinate}`),u=0),{coordinate:u,points:e.points.map(l=>({location:l.location,value:an(l.value,r,t),derivative:l.derivative}))}}function Ni(e,r){const t=r.top_slide;if(t.size>0){const l=r.min_y+r.height-(t.offset+t.size)*4*r.size_vertical,n=r.min_y+r.height-t.offset*4*r.size_vertical,f=Or(l,n,1,0);e=Ar(f,e,t.target)}const u=r.bottom_slide;if(u.size>0){const l=r.min_y+u.offset*4*r.size_vertical,n=r.min_y+(u.offset+u.size)*4*r.size_vertical,f=Or(l,n,0,1);e=Ar(f,e,u.target)}return e}function Ar(e,r,t){return zr(Ui(e,zr(r,-t)),t)}function zr(e,r){return{type:"minecraft:add",argument1:e,argument2:r}}function Ui(e,r){return{type:"minecraft:mul",argument1:e,argument2:r}}function Or(e,r,t,u){return{type:"minecraft:y_clamped_gradient",from_y:e,to_y:r,from_value:t,to_value:u}}const Wi=JSON.parse('[{"erosion":[-1,1],"depth":0,"weirdness":[-1,-0.16],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]},{"erosion":[-1,1],"depth":0,"weirdness":[0.16,1],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]}]'),Fr=new Map(Object.entries({"minecraft:overworld/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}',"minecraft:overworld/depth":'{"argument1":{"from_y":-64,"to_y":320,"from_value":1.5,"to_value":-1.5,"type":"minecraft:y_clamped_gradient"},"argument2":{"argument":{"argument":{"argument1":{"argument1":{"type":"minecraft:blend_offset"},"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"offset","min_value":-0.81,"max_value":2.5,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"type":"minecraft:add"}',"minecraft:overworld/base_3d_noise":'{"type":"minecraft:old_blended_noise"}',"minecraft:overworld_large_biomes/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld_large_biomes/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld_large_biomes/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld_large_biomes/depth":'{"argument1":{"from_y":-64,"to_y":320,"from_value":1.5,"to_value":-1.5,"type":"minecraft:y_clamped_gradient"},"argument2":{"argument":{"argument":{"argument1":{"argument1":{"type":"minecraft:blend_offset"},"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"offset","min_value":-0.81,"max_value":2.5,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"type":"minecraft:add"}',"minecraft:overworld_large_biomes/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}'})),Zi=D.all(D.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Ne):Ne(e)}),D.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Gi)}),D.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(Hi)}));function Gi(e){var t;if(typeof(e==null?void 0:e.conditions)!="object")return;switch(ve(e.conditions.entity),ve(e.conditions.player),ve(e.conditions.parent),ve(e.conditions.partner),ve(e.conditions.child),ve(e.conditions.villager),ve(e.conditions.zombie),ve(e.conditions.projectile),ve(e.conditions.shooter),(t=e.conditions.victims)==null||t.forEach(ve),St(e.conditions.damage),St(e.conditions.killing_blow),it(e.conditions.location),it(e.conditions.entered),it(e.conditions.exited),e.trigger.replace(/^minecraft:/,"")){case"location":case"slept_in_bed":case"hero_of_the_village":case"voluntary_exile":if(typeof e.conditions!="object")break;const u=e.conditions.location?e.conditions.location:e.conditions.player?void 0:e.conditions,l=e.conditions.player;e.conditions={player:qi(l,u)},delete e.conditions.location;break}}function Hi(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(sn),(t=e.conditions)==null||t.forEach(Ne))}function sn(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(sn),(t=e.conditions)==null||t.forEach(Ne))}function Ne(e){var t,u;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(u=e.terms)==null||u.forEach(Ne);break;case"inverted":Ne(e.term);break;case"entity_properties":ve(e.predicate);break;case"damage_source_properties":St(e.predicate);break;case"location_check":it(e.predicate);break}}function St(e){typeof e=="object"&&(ve(e.source_entity),ve(e.direct_entity),St(e.type))}function ve(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Ne);return}if(ve(e.vehicle),ve(e.targeted_entity),it(e.location),e.player)e.type_specific={type:"player",...e.player},delete e.player;else if(e.fishing_hook)e.type_specific={type:"fishing_hook",...e.fishing_hook},delete e.fishing_hook;else if(e.lightning_bolt)e.type_specific={type:"lightning",...e.lightning_bolt},delete e.lightning_bolt;else if(e.catType){const r=e.catType.replace(/^textures\/entity\/cat\/([a-z_]+).png/,"$1");e.type_specific={type:"cat",variant:r},delete e.catType}}}function it(e){typeof e=="object"&&typeof e.feature=="string"&&(e.structure=e.feature,delete e.feature)}function qi(e,r){return e===void 0?{location:r}:r===void 0?e:Array.isArray(e)&&e.length>=1?[...e,{condition:"minecraft:entity_properties",entity:"this",predicate:{location:r}}]:{...e,location:{...e.location,...r}}}const Ki=D.all(D.rename("worldgen/configured_structure_feature","worldgen/structure"),D.rename("tags/worldgen/configured_structure_feature","tags/worldgen/structure"),D.onFile("worldgen/structure_set",({data:e,name:r},t)=>Xi(e,r,t)),D.onFile("worldgen/structure",({data:e})=>Yi(e)));function Yi(e){var t;if(typeof e!="object")return;const r=(t=e.type)==null?void 0:t.replace(/^minecraft:/,"");switch(r==="mineshaft"&&(e.mineshaft_type=e.config.type),Object.assign(e,e.config),delete e.config,e.step="surface_structures",delete e.probability,e.adapt_noise&&(e.terrain_adaptation=r==="stronghold"?"bury":"beard_thin",delete e.adapt_noise),r){case"bastion_remnant":e.type="minecraft:jigsaw",e.start_height={absolute:33},e.max_distance_from_center=80,e.use_expansion_hack=!1;break;case"pillager_outpost":case"village":e.type="minecraft:jigsaw",e.start_height={absolute:0},e.project_start_to_heightmap="WORLD_SURFACE_WG",e.max_distance_from_center=80,e.use_expansion_hack=!0;break;case"endcity":e.type="minecraft:end_city";break;case"jungle_pyramid":e.type="minecraft:jungle_temple";break;case"mansion":e.type="minecraft:woodland_mansion";break;case"monument":e.type="minecraft:ocean_monument";break;case"ruined_portal":const u={standard:[ze({weight:.5,can_be_cold:!0,air_pocket_probability:1,mossiness:.2}),ze({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],desert:[ze({placement:"partly_buried"})],jungle:[ze({vines:!0,overgrown:!0,air_pocket_probability:.5,mossiness:.8,placement:"on_land_surface"})],mountain:[ze({weight:.5,can_be_cold:!0,air_pocket_probability:.1,mossiness:.2,placement:"in_mountain"}),ze({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],nether:[ze({replace_with_blackstone:!0,air_pocket_probability:.5,placement:"in_nether"})],ocean:[ze({can_be_cold:!0,mossiness:.8,placement:"on_ocean_floor"})],swamp:[ze({vines:!0,mossiness:.5,placement:"on_ocean_floor"})]};e.setups=u[e.portal_type]??[],delete e.portal_type}}function ze(e={}){return{weight:1,vines:!1,can_be_cold:!1,replace_with_blackstone:!1,placement:"underground",air_pocket_probability:0,mossiness:0,overgrown:!1,...e}}function Xi(e,r,t){var f,a,d,y;if(typeof e!="object"||!((f=e.structures[0])!=null&&f.structure))return;const u=(a=t.read("worldgen/structure",e.structures[0].structure))==null?void 0:a.data;if(!u)return;switch((d=u.type)==null?void 0:d.replace(/^minecraft:/,"")){case"mineshaft":e.placement.frequency_reduction_method="legacy_type_3",e.placement.frequency=u.config.probability;break}switch(r==="minecraft:pillager_outposts"&&(e.placement.exclusion_zone={other_set:"minecraft:villages",chunk_count:10},e.placement.frequency_reduction_method="legacy_type_1",e.placement.frequency=.2),(y=e.placement.type)==null?void 0:y.replace(/^minecraft:/,"")){case"concentric_rings":e.placement.salt=0,e.placement.preferred_biomes="#minecraft:stronghold_biased_to";break}}const Ji=D.version("1.18.2","1.19",D.groupProblems(D.packFormat(10),D.when("worldgen",Ai,Oi,Fi,Mi,Ki,ji),D.when("predicates",Zi),D.when("functions",Bi)));let jt;async function Vi(){if(jt===void 0){const r=await(await fetch("https://raw.githubusercontent.com/misode/mcmeta/registries/sound_event/data.min.json")).json();jt=new Set(r)}return jt}const Qi=D.all(D.onFile("worldgen/biome",eo));async function eo({data:e}){typeof e=="object"&&await to(e.effects)}async function to(e){if(typeof e!="object")return;const r=await Vi();e.ambient_sound&&(e.ambient_sound=Dt(e.ambient_sound,r)),e.mood_sound&&(e.mood_sound.sound=Dt(e.mood_sound.sound,r)),e.additions_sound&&(e.additions_sound.sound=Dt(e.additions_sound.sound,r))}function Dt(e,r){return typeof e!="string"||r.has(e.replace(/^minecraft:/,""))?e:{sound_id:e}}const ro=D.version("1.19","1.19.3",D.groupProblems(D.when("worldgen",Qi))),no=D.all(D.onFile("worldgen/biome",io));async function io({data:e}){typeof e=="object"&&(e.has_precipitation=e.precipitation=="rain"||e.precipitation=="snow",delete e.precipitation)}const oo=/^(\s*weather [a-z]+ \d+)/,ao=/(run weather [a-z]+ \d+)/,so=D.onFile("functions",({data:e})=>{e.forEach((r,t)=>{r.includes("weather")&&(e[t]=e[t].replace(oo,"$1s"),e[t]=e[t].replace(ao,"$1s"))})}),co=D.all(D.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Ue):Ue(e)}),D.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(lo)}),D.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(uo)}));function lo(e){var r;typeof(e==null?void 0:e.conditions)=="object"&&(ge(e.conditions.entity),ge(e.conditions.player),ge(e.conditions.parent),ge(e.conditions.partner),ge(e.conditions.child),ge(e.conditions.villager),ge(e.conditions.zombie),ge(e.conditions.projectile),ge(e.conditions.shooter),(r=e.conditions.victims)==null||r.forEach(ge),At(e.conditions.damage),At(e.conditions.killing_blow),e.conditions.location,e.conditions.entered,e.conditions.exited,void 0)}function uo(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(cn),(t=e.conditions)==null||t.forEach(Ue))}function cn(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(cn),(t=e.conditions)==null||t.forEach(Ue))}function Ue(e){var t,u;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(u=e.terms)==null||u.forEach(Ue);break;case"inverted":Ue(e.term);break;case"entity_properties":ge(e.predicate);break;case"damage_source_properties":At(e.predicate);break;case"location_check":e.predicate;break}}function At(e){if(typeof e!="object")return;ge(e.source_entity),ge(e.direct_entity),At(e.type);const r=[];e.is_projectile!==void 0&&(r.push({id:"minecraft:is_projectile",expected:!0}),delete e.is_projectile),e.is_explosion!==void 0&&(r.push({id:"minecraft:is_explosion",expected:!0}),delete e.is_explosion),e.bypasses_armor!==void 0&&(r.push({id:"minecraft:bypasses_armor",expected:!0}),delete e.bypasses_armor),e.bypasses_invulnerability!==void 0&&(r.push({id:"minecraft:bypasses_invulnerability",expected:!0}),delete e.bypasses_invulnerability),e.bypasses_magic!==void 0&&delete e.bypasses_magic,e.is_fire!==void 0&&(r.push({id:"minecraft:is_fire",expected:!0}),delete e.is_fire),e.is_magic!==void 0&&delete e.is_magic,e.is_lightning!==void 0&&(r.push({id:"minecraft:is_lightning",expected:!0}),delete e.is_projectile),r.length>0&&(e.tags=r)}function ge(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Ue);return}ge(e.vehicle),ge(e.targeted_entity),e.location}}const fo=D.version("1.19.3","1.19.4",D.groupProblems(D.packFormat(12),D.when("functions",so),D.when("predicates",co),D.when("worldgen",no))),ho=D.all(D.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(We):We(e)}),D.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(po)}),D.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(_o)}));function po(e){var t;if(typeof(e==null?void 0:e.conditions)!="object")return;switch(ye(e.conditions.entity),ye(e.conditions.player),ye(e.conditions.parent),ye(e.conditions.partner),ye(e.conditions.child),ye(e.conditions.villager),ye(e.conditions.zombie),ye(e.conditions.projectile),ye(e.conditions.shooter),(t=e.conditions.victims)==null||t.forEach(ye),zt(e.conditions.damage),zt(e.conditions.killing_blow),e.conditions.location,e.conditions.entered,e.conditions.exited,e.trigger.replace(/^minecraft:/,"")){case"allay_drop_item_on_block":case"item_used_on_block":case"placed_block":const u=[];(e.conditions.block||e.conditions.state)&&u.push({condition:"minecraft:block_state_property",block:e.conditions.block,properties:e.conditions.state}),e.conditions.item&&u.push({condition:"minecraft:match_tool",predicate:e.conditions.item}),e.conditions.location&&u.push({condition:"minecraft:location_check",predicate:e.conditions.location}),e.conditions.location=u,delete e.conditions.block,delete e.conditions.states,delete e.conditions.item;break}}function _o(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(ln),(t=e.conditions)==null||t.forEach(We))}function ln(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(ln),(t=e.conditions)==null||t.forEach(We))}function We(e){var t,u;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":e.condition="minecraft:any_of",(u=e.terms)==null||u.forEach(We);break;case"inverted":We(e.term);break;case"entity_properties":ye(e.predicate);break;case"damage_source_properties":zt(e.predicate);break;case"location_check":e.predicate;break}}function zt(e){typeof e=="object"&&(ye(e.source_entity),ye(e.direct_entity),zt(e.type))}function ye(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(We);return}ye(e.vehicle),ye(e.targeted_entity),e.location}}const mo=D.version("1.19.4","1.20",D.groupProblems(D.packFormat(15),D.when("predicates",ho))),vo=D.all(D.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(go)}));function go(e){switch(e.trigger.replace(/^minecraft:/,"")){case"nether_travel":if(typeof e.conditions!="object")break;const{distance:t,entered:u,exited:l,player:n}=e.conditions;e.conditions={player:yo(n,l),start_position:u,distance:t};break}}function yo(e,r){return e===void 0?{location:r}:Array.isArray(e)&&e.length>=1?[e,{type:"minecraft:entity_properties",predicate:{location:r}}]:{...e,location:{...e.location,...r}}}const bo=D.all(D.onFile("worldgen/biome",wo));function wo({data:e},r){var u,l;r.warn('Biome "depth" and "scale" were removed and replaced with a more powerful terrain shaper option in noise settings. No automatic upgrade possible.'),e.depth=void 0,e.scale=void 0,r.warn('Biome "surface_builder" was removed and replaced with a more powerful surface_rule option in noise settings. No automatic upgrade possible.'),e.surface_builder=void 0,Array.isArray(e.starts)&&e.starts.length>0&&r.warn('Biome "starts" was removed, custom structures are not supported in 1.18.'),e.starts=void 0,Array.isArray(e.features)&&e.features.length>=9&&e.features.splice(8,0,[]);const t=(u=e.effects.particle)==null?void 0:u.options;((l=t==null?void 0:t.type)==null?void 0:l.replace(/minecraft:/,""))==="dust"&&t.r&&(e.effects.particle.options={type:"minecraft:dust",color:[t.r,t.g,t.b],scale:t.scale})}const ko=D.all(D.onFile("dimension",({data:e},r)=>{var t,u;if(((u=(t=e.generator)==null?void 0:t.type)==null?void 0:u.replace(/^minecraft:/,""))==="noise"){const l=xo(e.generator.biome_source,r);Zt(e.generator.settings,r,l)}}),D.onFile("worldgen/noise_settings",({data:e},r)=>{Zt(e,r)}));function xo(e,r){var u;if(typeof e!="object")return[];switch(e.type.replace(/^minecraft:/,"")){case"fixed":return[e.biome];case"checkerboard":return[...new Set(e.biomes)];case"multi_noise":return e.seed=void 0,((u=e.preset)==null?void 0:u.replace(/^minecraft:/,""))==="nether"?["nether_wastes","soul_sand_valley","crimson_forest","warped_forest","basalt_deltas"]:(e.altitude_noise=void 0,e.temperature_noise=void 0,e.humidity_noise=void 0,e.weirdness_noise=void 0,e.biomes.forEach(l=>{l.parameters={temperature:l.parameters.temperature,humidity:l.parameters.humidity,continentalness:l.parameters.altitude,erosion:0,weirdness:l.parameters.weirdness,depth:0,offset:l.parameters.offset}}),[...new Set(e.biomes.map(l=>l.biome))]);case"vanilla_layered":return r.warn('Removed biome source "vanilla_layered", replaced with the multi noise overworld preset.'),e.type="multi_noise",e.preset="minecraft:overworld",[]}return[]}function Zt(e,r,t=[]){if(typeof e=="string"){const l=r.read("worldgen/noise_settings",e);l&&Zt(l.data,r,t);return}if(typeof e!="object"||e.surface_rule!==void 0)return;e.legacy_random_source=!1,e.noise.top_slide.target/=128,e.noise.bottom_slide.target/=128,e.min_surface_level=void 0,e.noise.simplex_surface_noise=void 0,e.noise.random_density_offset=void 0,e.noise.terrain_shaper={offset:0,factor:0,jaggedness:0},e.noise.density_offset=void 0,e.noise.density_factor=void 0;const u=[];e.bedrock_floor_position>-10&&u.push(Gt("vertical_gradient",{random_name:"minecraft:bedrock_floor",true_at_and_below:{above_bottom:e.bedrock_floor_position+5},false_at_and_above:{above_bottom:e.bedrock_floor_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.bedrock_roof_position>-10&&u.push(Eo("vertical_gradient",{random_name:"minecraft:bedrock_roof",true_at_and_below:{below_top:e.bedrock_roof_position+5},false_at_and_above:{below_top:e.bedrock_roof_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.deepslate_enabled&&u.push(Gt("vertical_gradient",{random_name:"minecraft:deepslate",true_at_and_below:{absolute:0},false_at_and_above:{absolute:8}}).thenRun("block",{result_state:{Name:"minecraft:deepslate",Properties:{axis:"y"}}})),e.surface_rule={type:"minecraft:sequence",sequence:u}}function Gt(e,r){return{thenRun:(t,u)=>({type:"minecraft:condition",if_true:{type:`minecraft:${e}`,...r},then_run:{type:`minecraft:${t}`,...u}})}}function Eo(e,r){return Gt("not",{invert:{type:`minecraft:${e}`,...r}})}const Co=D.all(D.onFile("worldgen/configured_feature",({data:e},r)=>Oe(e,r)));function Oe(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":Ht(e.config.decorator,r),Oe(e.config.feature,r);break;case"random_boolean_selector":Oe(e.config.feature_false,r),Oe(e.config.feature_true,r);break;case"random_selector":e.config.features.forEach(d=>Oe(d.feature,r)),Oe(e.config.default,r);break;case"simple_random_selector":e.config.features.forEach(d=>Oe(d,r));break;case"flower":case"no_bonemeal_flower":case"random_patch":e.config.xspread!==e.config.zspread&&r.warn("Random patch xspread and zspread can no longer be different. Using xspread.");const u=[];e.config.can_replace!==!0&&u.push({type:"minecraft:matching_blocks",blocks:["minecraft:air"]}),Je(e.config.whitelist)&&u.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Ve(e.config.whitelist)}),Je(e.config.blacklist)&&u.push({type:"minecraft:not",predicate:{type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Ve(e.config.blacklist)}});const n=e.config.block_placer.type.replace(/^minecraft:/,"")==="column_placer"?{type:"minecraft:block_column",config:{direction:"up",allowed_placement:e.config.can_replace!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!1,layers:[{height:e.config.block_placer.size,provider:e.config.state_provider}]}}:{type:"minecraft:simple_block",config:{to_place:e.config.state_provider}};e.config={tries:e.config.tries,xz_spread:e.config.xspread,y_spread:e.config.yspread,feature:_t(n,[{type:"minecraft:block_filter",config:{predicate:{type:"minecraft:all_of",predicates:u}}}])},e.config.project===!0&&(e.config={decorator:{type:"heightmap",config:{heightmap:"OCEAN_FLOOR"}},feature:{type:e.type,config:e.config}},e.type="minecraft:decorated");break;case"growing_plant":e.type="minecraft:block_column",e.config={direction:e.config.direction,allowed_placement:e.config.allow_water!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!0,layers:[{height:{type:"minecraft:weighted_list",distribution:e.config.height_distribution.map(d=>({weight:d.weight,data:un(d.data,-1,0,1/0)}))},provider:e.config.body_provider},{height:1,provider:e.config.head_provider}]};break;case"root_system":Oe(e.config.feature,r);break;case"simple_block":const f=[];Je(e.config.place_on)&&f.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Ve(e.config.place_on)}),Je(e.config.place_in)&&f.push({type:"minecraft:matching_blocks",blocks:Ve(e.config.place_in)}),Je(e.config.place_under)&&f.push({type:"minecraft:matching_blocks",offset:[0,1,0],blocks:Ve(e.config.place_under)}),e.config.place_on=void 0,e.config.place_in=void 0,e.config.place_under=void 0,f.length>0&&(e.type="minecraft:decorated",e.config={decorator:{type:"minecraft:block_filter",config:{predicate:f.length==1?f[0]:{type:"minecraft:all_of",predicates:f}}},feature:{type:"minecraft:simple_block",config:e.config}});break;case"small_dripstone":const a=d=>_t({type:"minecraft:pointed_dripstone",config:{chance_of_taller_dripstone:e.config.chance_of_taller_dripstone,chance_of_directional_spread:.7,chance_of_spread_radius2:.5,chance_of_spread_radius3:.5}},[{type:"minecraft:cave_surface",config:{surface:d,floor_to_ceiling_search_range:12,allow_water:!0}}]);e.type="minecraft:decorated",e.config=_t({type:"minecraft:simple_random_selector",config:{features:[a("floor"),a("ceiling")]}},[{type:"count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:1,max_inclusive:e.config.max_placements}}}},{type:"minecraft:scatter",config:{xz_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:3,min_inclusive:-10,max_inclusive:10}},y_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:.6,min_inclusive:-2,max_inclusive:2}}}}]).config;break;case"vegetation_patch":case"waterlogged_vegetation_patch":Oe(e.config.vegetation_feature,r)}}function un(e,r,t,u){if(typeof e=="number")return e+r;const l=e.type.replace(/^minecraft:/,"");switch(l){case"constant":return{type:e.type,value:Math.max(t,Math.min(u,e.value+r))};case"uniform":case"biased_to_bottom":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(u,e.value.min_inclusive+r)),max_inclusive:Math.max(t,Math.min(u,e.value.max_inclusive+r))}};case"clamped":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(u,e.value.min_inclusive+r)),max_inclusive:Math.max(t,Math.min(u,e.value.max_inclusive+r)),source:un(e.value.source,r,t,u)}}}throw new Error(`Unknown int provider "${l}"`)}function Ht(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":Ht(e.config.outer,r),Ht(e.config.inner,r);break;case"cave_surface":e.config.allow_water=!1;break;case"heightmap_spread_double":r.warn('Removed decorator "heightmap_spread_double" was replaced with "heightmap". You likely need to make this feature rarer.'),e.type="minecraft:heightmap";break;case"spread_32_above":r.warn('Removed decorator "spread_32_above". You likely need to make this feature rarer.'),e.type="minecraft:nope";break}}function _t(e,r=[]){return r.length==0?e:{type:"minecraft:decorated",config:{decorator:r[0],feature:_t(e,r.slice(1))}}}function Je(e){return Array.isArray(e)&&e.length>0}function Ve(e){return[...new Set(e.map(r=>r.Name))]}const So=D.version("1.17.1","21w44a",D.groupProblems(D.packFormat(8),D.when("predicates",vo),D.when("worldgen",ko,Co,bo))),Ao=async(e,r)=>{qt.forEach(t=>{e.data[t].filter(u=>u.error).forEach(u=>{r.warn(`!${u.error}`)})})},zo=D.all(Ao,Vn,So,si,Si,Ji,ro,fo,mo),qt=["advancements","dimension","dimension_type","loot_tables","predicates","tags/blocks","tags/entity_types","tags/fluids","tags/game_events","tags/items","tags/worldgen/biome","tags/worldgen/configured_structure_feature","tags/worldgen/flat_level_generator_preset","tags/worldgen/structure","tags/worldgen/world_preset","worldgen/biome","worldgen/configured_carver","worldgen/configured_feature","worldgen/configured_structure_feature","worldgen/configured_surface_builder","worldgen/density_function","worldgen/noise_settings","worldgen/noise","worldgen/placed_feature","worldgen/processor_list","worldgen/structure","worldgen/structure_set","worldgen/template_pool"];var st;(e=>{async function r(o){const h=await o.arrayBuffer(),i=await In.loadAsync(h),p=i.filter(m=>m.endsWith("pack.mcmeta")&&!m.startsWith("__MACOSX/"));if(p.length===0)throw new Error('Cannot find any "pack.mcmeta" files.');return Promise.all(p.map(m=>{const v=m.name.replace(/\/?pack.mcmeta$/,""),k=v.length===0?o.name.replace(/\.zip$/,""):v.split("/").pop();return t(k,i.folder(v))}))}e.fromZip=r;async function t(o,h){const i={id:fn(),name:o,root:h,status:"loaded",data:{},meta:{name:"pack",...await l(h.file("pack.mcmeta"))}};return await Promise.all(qt.map(async p=>{i.data[p]=await u(h.folder("data"),p)})),i.data.functions=await n(h.folder("data")),console.log(i),i}async function u(o,h){const i=new RegExp(`^([^/]+)/${h}/(.*).json$`),p=[];return o.forEach((m,v)=>{const k=m.match(i);k&&k[1]&&k[2]&&p.push({name:`${k[1]}:${k[2]}`,file:v})}),Promise.all(p.map(async({name:m,file:v})=>{try{const k=await l(v);return{name:m,...k}}catch(k){return{name:m,data:void 0,error:k.message}}}))}async function l(o){let h=await f(o);const i=Fn(h).indent;try{return h=h.replaceAll("","").replaceAll("","").replaceAll("","").replaceAll("\uFEFF",""),h=h.split(`
`).map(p=>p.replace(/^([^"\/]+)\/\/.*/,"$1")).join(`
`),{data:JSON.parse(Ln(h)),indent:i}}catch(p){throw new Error(`Cannot parse file "${o.name}": ${p.message}.`)}}async function n(o){const h=/([^\/]+)\/functions\/(.*)\.mcfunction$/;return Promise.all(o.filter(i=>i.match(h)!==null).map(async i=>{const p=i.name.match(h);return{name:`${p[1]}:${p[2]}`,data:(await f(i)).split(`
`)}}))}async function f(o){return await o.async("text")}async function a(o){if(o.status!=="upgraded")throw new Error(`Cannot download pack with status ${o.status}.`);qt.forEach(p=>{d(o.root.folder("data"),p,o.data[p]??[])}),y(o.root.folder("data"),o.data.functions??[]),s(o.root,"pack.mcmeta",o.meta.data,o.meta.indent);const h=await o.root.generateAsync({type:"blob",compression:"DEFLATE"}),i=URL.createObjectURL(h);return o.status="done",i}e.toZip=a;function d(o,h,i){i.forEach(({name:p,data:m,indent:v,error:k,deleted:E})=>{const[w,S]=p.split(":"),z=`${w}/${h}/${S}.json`;E?o.remove(z):k||s(o,z,m,v)})}function y(o,h){h.forEach(({name:i,data:p,error:m,deleted:v})=>{const[k,E]=i.split(":"),w=`${k}/functions/${E}.mcfunction`;v?o.remove(w):m||g(o,w,p.join(`
`))})}function s(o,h,i,p){const m=JSON.stringify(i,null,p)+`
`;g(o,h,m)}function g(o,h,i){o.file(h,i)}async function b(o,h){if(o.status!=="loaded")throw new Error(`Cannot upgrade pack with status '${o.status}'.`);let i;const p=o.meta.data.pack.pack_format;if(h.source==="auto"){const k=de.autoDetect(p);k===void 0?(i=de.autoDetectOrFallback(p),h.onWarning(`No matching version found for pack format ${p}, using fallback ${i}`)):i=k}else{if(p!==de.packFormat(h.source))throw new Error(`Found pack format ${p}, which does not match version ${h.source}`);i=h.source}const m=h.target;if(de.order(m,i))throw new Error(`Invalid version range: ${i} > ${m}`);const v={warn:h.onWarning,prompt:h.onPrompt,source:()=>i,target:()=>m,config:k=>h.features[k],read:(k,E)=>o.data[k].find(w=>w.error===void 0&&w.name.replace(/^minecraft:/,"")===E.replace(/^minecraft:/,"")),create:(k,E,w)=>{o.data[k].push({name:E,indent:o.meta.indent,data:w})}};await zo(o,v),o.status="upgraded"}e.upgrade=b})(st||(st={}));const Oo=e=>("0"+e.toString(16)).substr(-2);function fn(e=12){var r=new Uint8Array(e/2);return window.crypto.getRandomValues(r),Array.from(r,Oo).join("")}function Fo({pack:e,config:r,source:t,target:u,onError:l,onRemove:n,onDone:f,doDownload:a}){var A;const[d,y]=we("Loading..."),[s,g]=we(null),[b,o]=we([]),[h,i]=we(null),[p,m]=we(!1),[v,k]=we(null),E=Pt(null),w=Pt(()=>{}),S=`${e.name}_${u}.zip`,z=Bt(()=>t!=="auto"?t:de.autoDetect(e.meta.data.pack.pack_format)??"???",[]),O=Bt(()=>u,[]),T=(I,_,L,V)=>(k({title:I,message:_,actions:L??["Confirm"],info:V}),new Promise(N=>{w.current=re=>{k(null),N(re)}})),$=(I,_,L)=>{setTimeout(()=>o(V=>[...V,{message:I,files:_,info:L}]))};fr(()=>{(async()=>{try{y("Upgrading..."),await st.upgrade(e,{features:r,source:t,target:u,onPrompt:T,onWarning:$}),y("Zipping...");const I=await st.toZip(e);g(I),f()}catch(I){l(I),i("Error during upgrading")}})()},[e]);const K=()=>{m(!p)};return fr(()=>{a&&E.current.click()},[a]),Y("div",{class:"pack",children:[Y("div",{class:"pack-head",children:[s&&Y("a",{class:"pack-status download",ref:E,href:s,download:S,"data-hover":`Download data pack for ${u}`,children:je.download}),!s&&!h&&!v&&Y("div",{class:"pack-status loading","data-hover":d,children:je.sync}),!s&&!h&&v&&Y("div",{class:"pack-status prompt","data-hover":"Manual action required",children:je.report}),(b.length>0||h)&&Y("div",{class:`pack-status alert${h?" error":""}`,onClick:K,"data-hover":h??"There were issues upgrading",children:je.alert}),Y("span",{class:"pack-name",children:e.name.replace(/\.zip$/,"")}),Y("span",{class:"pack-version",children:[de.displayName(z),"  ",de.displayName(O)]}),Y("div",{class:"pack-status remove",onClick:n,children:je.x})]}),(v||b.length>0&&!p)&&Y("div",{class:"pack-body",children:[v&&Y("div",{class:"pack-prompt",children:[Y("p",{class:"prompt-title",children:v.title}),v.message&&Y("p",{class:"prompt-message",children:v.message}),Y("p",{children:v.actions.map(I=>Y("button",{onClick:()=>w.current(I),children:I}))}),(A=v.info)==null?void 0:A.map(I=>Y("p",{class:"prompt-info",children:I}))]}),b.length>0&&!p&&b.map(({message:I,files:_,info:L})=>Y("div",{class:"pack-alert",children:[Y("div",{class:`alert-message ${I.startsWith("!")?"alert-error":""}`,children:I.replace(/\!/,"")}),_&&_.length>0&&Y(qe,{children:[Y("p",{children:"Affected files:"}),Y("div",{class:"alert-files",children:_.map(V=>Y("p",{children:V}))})]}),L==null?void 0:L.map(V=>Y("p",{class:"alert-info",children:V}))]}))]})]})}function Tr({value:e,onChange:r,allowAuto:t}){const u=Pt(null);return Y("select",{class:"version-picker",ref:u,value:e,onChange:()=>{r(u.current.value)},children:[t&&Y("option",{value:"auto",children:"Auto-detect"}),Ee.filter(n=>n!=="21w44a").map(n=>Y("option",{value:n,children:de.displayName(n)}))]})}var Ge;(e=>{const r="misode_upgrader_config";function t(){return JSON.parse(localStorage.getItem(r)??"{}")}function u(d){const y={...t(),...d};localStorage.setItem(r,JSON.stringify(y))}function l(){const d=new URLSearchParams(location.search).get("from");if(d&&(d==="auto"||Ee.includes(d)))return d;const y=t().source;return y&&(y==="auto"||Ee.includes(y))?y:de.DEFAULT_SOURCE}e.getSource=l;function n(d){u({source:d})}e.setSource=n;function f(){const d=new URLSearchParams(location.search).get("to");if(d&&Ee.includes(d))return d;const y=t().target;return y&&Ee.includes(y)?y:de.DEFAULT_TARGET}e.getTarget=f;function a(d){u({target:d})}e.setTarget=a})(Ge||(Ge={}));function To(){const[e,r]=we([]),[t,u]=we([]),[l,n]=we(Ge.getSource()),[f,a]=we(Ge.getTarget()),[d,y]=we({functions:!0,ids:!0,predicates:!0,worldgen:!0,packFormat:!0,featureCycles:!0}),s=v=>{Ge.setSource(v),n(v)},g=v=>{v==="auto"&&(v=de.DEFAULT_TARGET),Ge.setTarget(v),a(v)},b=(v,k)=>{const E=fn(),w=k.stack.split(`
`).map(S=>S.replace(/^(\s+)at (?:async )?(https?:.*)/,"$1at ($2)"));En.mapStackTrace(w.join(`
`),S=>{const z=w[0]+`
`+S.map(O=>O.replace(/..\/..\/src\//,"src/")).join(`
`);u(O=>O.map(T=>T.id===E?{...T,stacktrace:z}:T))}),u([...t,{id:E,process:v,error:k}])},o=async v=>{if(v.preventDefault(),!v.dataTransfer)return;const k=[];for(let E=0;E<v.dataTransfer.files.length;E++){const w=v.dataTransfer.files[E];w.type.match(/^application\/(x-)?zip(-compressed)?$/)&&k.push(st.fromZip(w))}if(k.length===0)b("loading",new Error("The dropped files contain no zip files. Please zip the data pack first."));else{const E=await Promise.all(k.map(async w=>{try{return await w}catch(S){b("loading",S),console.error(S);return}}));r([...e,...E.flat().filter(w=>w!==void 0)])}},h=v=>{console.error(v),b("upgrading",v)},i=v=>{r(k=>k.filter(E=>E.id!==v))},[p,m]=we(0);return Y("main",{onDrop:o,onDragOver:v=>v.preventDefault(),children:[e.length>0&&Y(qe,{children:Y("div",{class:"packs",children:[e.map(v=>Y(Fo,{pack:v,config:d,source:l,target:f,doDownload:p,onError:h,onRemove:()=>i(v.id),onDone:()=>r([...e])},v.id)),e.filter(v=>v.status==="done").length>1&&Y("button",{class:"download-all",onClick:()=>m(p+1),children:[je.download,Y("span",{children:"Download all"})]})]})}),Y("div",{class:"drop",children:[Y("h1",{children:"Drop data pack here"}),Y("p",{children:["Convert from ",Y(Tr,{value:l,onChange:s,allowAuto:!0})," to ",Y(Tr,{value:f,onChange:g})]}),l!=="auto"&&de.order(f,l)?Y("p",{class:"error-message",children:"Invalid version range"}):de.isWorkInProgress(l==="auto"?f:l,f)?Y("p",{class:"warning-message",children:"This tool is no longer maintained past 1.20"}):null]}),Y("div",{class:"configs",children:[Y(Ze,{name:"Upgrade functions",value:d.functions,onChange:v=>y({...d,functions:v})}),Y(Ze,{name:"Upgrade IDs",value:d.ids,onChange:v=>y({...d,ids:v})}),Y(Ze,{name:"Upgrade JSON files",value:d.predicates,onChange:v=>y({...d,predicates:v})}),Y(Ze,{name:"Upgrade worldgen",value:d.worldgen,onChange:v=>y({...d,worldgen:v})}),Y(Ze,{name:"Upgrade pack_format",value:d.packFormat,onChange:v=>y({...d,packFormat:v})}),Y(Ze,{name:"Detect feature cycles",value:d.featureCycles,onChange:v=>y({...d,featureCycles:v})})]}),Y("div",{class:"footer",children:[Y("p",{children:"Developed by Misode"}),Y("p",{children:["Source code on ",Y("a",{href:"https://github.com/misode/upgrader",target:"_blank",children:"GitHub"})]}),Y("p",{class:"donate",children:[je.heart,Y("a",{href:"https://ko-fi.com/misode",target:"_blank",children:"Donate"})]})]}),Y("div",{class:"main-errors",children:t.map(v=>{const k=`${v.error.name}: ${v.error.message}`,E=`An error occurred while ${v.process} a data pack.
Data Pack: <!-- ATTACH YOUR DATAPACK HERE -->

\`\`\`
${v.stacktrace??v.error.stack}
\`\`\`
`,w=`https://github.com/misode/upgrader/issues/new?title=${encodeURIComponent(k)}&body=${encodeURIComponent(E)}
`;return Y("div",{class:"main-error",children:[Y("p",{children:["Something went wrong ",v.process," the data pack:"]}),Y("p",{class:"error-message",children:v.error.message}),Y("p",{children:["You can report this as a bug ",Y("a",{href:w,target:"_blank",children:"on GitHub"})," and upload the data pack"]}),Y("div",{class:"error-close",onClick:()=>u(t.filter(S=>S.id!==v.id)),children:je.x})]})})})]})}bn(Y(To,{}),document.body);
//# sourceMappingURL=index-98263b84.js.map
