var _i=Object.defineProperty,di=Object.defineProperties;var gi=Object.getOwnPropertyDescriptors;var Se=Object.getOwnPropertySymbols;var hi=Object.prototype.hasOwnProperty,yi=Object.prototype.propertyIsEnumerable;var Ce=(e,i,t)=>i in e?_i(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,b=(e,i)=>{for(var t in i||(i={}))hi.call(i,t)&&Ce(e,t,i[t]);if(Se)for(var t of Se(i))yi.call(i,t)&&Ce(e,t,i[t]);return e},C=(e,i)=>di(e,gi(i));import{a as f,J as bi,d as wi,s as ki,l as T,b as ye,y as Te,c as Ze,e as xi,N as $i}from"./vendor.65c42646.js";const Fi=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}};Fi();function Y({name:e,value:i,onChange:t}){return f("label",{class:"config"},f("input",{type:"checkbox",checked:i,onChange:o=>t(o.target.checked)}),e)}const I={alert:f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},f("path",{"fill-rule":"evenodd",d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})),download:f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},f("path",{"fill-rule":"evenodd",d:"M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z"})),heart:f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},f("path",{"fill-rule":"evenodd",d:"M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"})),report:f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},f("path",{"fill-rule":"evenodd",d:"M1.75 1.5a.25.25 0 00-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h6.5a.25.25 0 00.25-.25v-9.5a.25.25 0 00-.25-.25H1.75zM0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0114.25 13H8.06l-2.573 2.573A1.457 1.457 0 013 14.543V13H1.75A1.75 1.75 0 010 11.25v-9.5zM9 9a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})),sync:f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},f("path",{"fill-rule":"evenodd",d:"M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"})),x:f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},f("path",{"fill-rule":"evenodd",d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"}))},Z=["1.16.5","1.17.1","21w44a","1.18.1","1.18.2","1.19"];var U;(e=>{e.DEFAULT_SOURCE="1.17.1",e.DEFAULT_TARGET="1.18.1";function i(a){return Z.indexOf(a)}e.ord=i;function t(a,g){return i(a)<i(g)}e.order=t;function o(a,g,p,h){return i(a)<i(h)&&i(g)>i(p)}e.includes=o;function n(a,g,p,h){return i(a)<=i(h)&&i(g)>=i(p)}e.includesInclusive=n;function s(a,g){return e.includes(a,g,"1.18.2","1.19")}e.isWorkInProgress=s})(U||(U={}));var r;(e=>{function i(...m){return async(d,u)=>{for(const c of m)await c(d,u)}}e.all=i;function t(m,d){return async(u,c)=>{for(const v of u.data[m]){if(v.error||v.deleted)continue;const _=C(b({},c),{warn:y=>c.warn(y,[v.name])});try{await d(v,_)}catch(y){throw y.message=`Error fixing ${m.replace(/^worldgen\//,"").replaceAll("_"," ")} ${v.name}: ${y.message}`,y}}}}e.onFile=t;function o(...m){return async(d,u)=>{const c={},v=C(b({},u),{warn:(_,y)=>{y===void 0?c[_]=[]:y.forEach(l=>{var k;((k=c[_])!=null?k:c[_]=[]).push(l)})}});await e.all(...m)(d,v),Object.entries(c).forEach(([_,y])=>u.warn(_,[...new Set(y)]))}}e.groupProblems=o;function n(m,...d){return async(u,c)=>{c.config(m)&&await e.all(...d)(u,c)}}e.when=n;function s(m,d){return async(u,c)=>{if(!m(u,c))throw new Error(d)}}e.assert=s;function a(m,d,...u){return async(c,v)=>{U.includes(v.source(),v.target(),m,d)&&await e.all(...u)(c,v)}}e.version=a;function g(m,d,...u){return async(c,v)=>{U.includesInclusive(v.source(),v.target(),m,d)&&await e.all(...u)(c,v)}}e.versionInclusive=g;function p(m){return async()=>{console.debug(m)}}e.debug=p;function h(m){return e.all(e.assert(d=>d.meta.data.pack.pack_format<m,`This pack already has pack_format ${m} or higher and cannot be upgraded.`),e.when("packFormat",async d=>d.meta.data.pack.pack_format=m))}e.packFormat=h;function w(m,d){return async u=>{u.data[d]=u.data[m].map(c=>b({},c)),u.data[m].forEach(c=>c.deleted=!0)}}e.rename=w})(r||(r={}));const Ei=r.all(r.onFile("worldgen/configured_carver",({data:e})=>ge(e)),r.onFile("worldgen/biome",({data:e})=>{var i,t;typeof e.carvers=="object"&&((i=e.carvers.air)==null||i.forEach(ge),(t=e.carvers.liquid)==null||t.forEach(ge))}));function ge(e){if(typeof e!="object")return;const i=e.type.replace(/^minecraft:/,"");e.config.lava_level={above_bottom:10},e.config.aquifers_enabled=!1,i==="cave"||i==="underwater_cave"||i==="nether_cave"?(i==="nether_cave"?e.config.y={type:"minecraft:uniform",min_inclusive:{absolute:0},max_inclusive:{below_top:1}}:e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:127},inner:8},e.config.yScale=.5,e.config.horizontal_radius_multiplier=1,e.config.vertical_radius_multiplier=1,e.config.floor_level=-.7):(e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:20},max_inclusive:{absolute:67},inner:8},e.config.yScale=3,e.config.vertical_rotation={type:"minecraft:uniform",value:{min_inclusive:-.125,max_exclusive:.125}},e.config.shape={distance_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},thickness:{type:"minecraft:trapezoid",value:{min:0,max:6,plateau:2}},width_smoothness:3,horizontal_radius_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},vertical_radius_default_factor:1,vertical_radius_center_factor:0})}const ji=r.all(r.onFile("dimension_type",({data:e})=>Pe(e)),r.onFile("dimension",({data:e})=>{typeof e.type=="object"&&Pe(e.type)}));function Pe(e){e.min_y=0,e.height=256}const zi=r.all(r.onFile("worldgen/configured_feature",({data:e},i)=>N(e,i)),r.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(N)}));function N(e,i){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"basalt_columns":G(e.config,"reach"),G(e.config,"height");break;case"decorated":be(e.config.decorator,i),N(e.config.feature,i);break;case"delta_feature":G(e.config,"size"),G(e.config,"rim_size");break;case"disk":case"ice_patch":G(e.config,"radius");break;case"emerald_ore":e.type="minecraft:replace_single_block",e.config={targets:[{target:{predicate_type:"minecraft:blockstate_match",block_state:e.config.target},state:e.config.state}]};break;case"flower":case"no_bonemeal_flower":case"random_patch":const o=e.config.block_placer;o.type.replace(/^minecraft:/,"")==="column_placer"&&(o.size={type:"minecraft:uniform",value:{min_inclusive:o.min_size,max_inclusive:o.min_size+o.extra_size}},delete o.min_size,delete o.extra_size);break;case"fossil":e.config={max_empty_corners_allowed:4,fossil_processors:"minecraft:fossil_rot",overlay_processors:"minecraft:fossil_coal",fossil_structures:["minecraft:fossil/spine_1","minecraft:fossil/spine_2","minecraft:fossil/spine_3","minecraft:fossil/spine_4","minecraft:fossil/skull_1","minecraft:fossil/skull_2","minecraft:fossil/skull_3","minecraft:fossil/skull_4"],overlay_structures:["minecraft:fossil/spine_1_coal","minecraft:fossil/spine_2_coal","minecraft:fossil/spine_3_coal","minecraft:fossil/spine_4_coal","minecraft:fossil/skull_1_coal","minecraft:fossil/skull_2_coal","minecraft:fossil/skull_3_coal","minecraft:fossil/skull_4_coal"]};break;case"netherrack_replace_blobs":const n=e.config.radius;let s=typeof n=="number"?n:n.base,a=typeof n=="number"?n:n.base+n.spread;if(a>12&&(i.warn('Feature "netherrack_replace_blobs" no longer allows values above 12. Consider increasing the count of this feature.'),s=Math.min(12,s),a=Math.min(12,a)),s===a){e.config.radius=s;break}e.config.radius={type:"minecraft:uniform",value:{min_inclusive:s,max_inclusive:a}};break;case"no_surface_ore":De(e),e.type="minecraft:ore",e.config.discard_chance_on_air_exposure=1;break;case"ore":De(e);break;case"random_boolean_selector":N(e.config.feature_false,i),N(e.config.feature_true,i);break;case"random_selector":e.config.features.forEach(g=>N(g.feature,i)),N(e.config.default,i);break;case"sea_pickle":G(e.config,"count");break;case"simple_block":e.config.to_place={type:"minecraft:simple_state_provider",state:e.config.to_place};break;case"simple_random_selector":e.config.features.forEach(g=>N(g,i));break;case"tree":["radius","offset","crown_height","height","trunk_height"].forEach(g=>G(e.config.foliage_placer,g)),e.config.foliage_provider=e.config.leaves_provider,delete e.config.leaves_provider,e.config.force_dirt=!1,e.config.dirt_provider={type:"minecraft:simple_state_provider",state:{Name:"minecraft:dirt"}},e.config.sapling_provider={type:"minecraft:simple_state_provider",state:{Name:Ai(e.config.foliage_provider),Properties:{stage:"0"}}},e.type="minecraft:decorated",e.config={decorator:{type:"decorated",config:M({type:"minecraft:water_depth_threshold",config:{max_water_depth:e.config.max_water_depth}},{type:"minecraft:heightmap",config:{heightmap:e.config.heightmap}})},feature:{type:"minecraft:tree",config:e.config}},delete e.config.feature.config.max_water_depth,delete e.config.feature.config.heightmap;break}}function G(e,i){typeof(e==null?void 0:e[i])=="object"&&(e[i]={type:"minecraft:uniform",value:{min_inclusive:e[i].base,max_inclusive:e[i].base+e[i].spread}})}function De(e){e.config.discard_chance_on_air_exposure=0,e.config.targets=[{target:e.config.target,state:e.config.state}],delete e.config.target,delete e.config.state}function Ai(e){if(e.type.replace(/^minecraft:/,"")==="simple_state_provider"){const i=e.state.Name.match(/^(?:minecraft:)?([a-z_]+)_leaves/);if(i)return`minecraft:${i[1]}_sapling`}return"minecraft:oak_sapling"}function be(e,i){if(typeof e!="object")return;const t=e.type.replace(/^minecraft:/,"");switch(t){case"carving_mask":if(e.config.probability===0){e.type="minecraft:nope",e.config={};break}const o=1/e.config.probability;e.type="minecraft:decorated",e.config=M({type:"minecraft:carving_mask",config:{step:e.config.step}},...Number.isInteger(o)?[{type:"minecraft:chance",config:{chance:o}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:e.config.probability}}]),delete e.config.probability;break;case"count":case"count_multilayer":const n=e.config.count;let s=typeof n=="number"?n:n.base,a=typeof n=="number"?n:n.base+n.spread;if(s<0&&(i.warn(`Decorator "${t}" no longer allows negative values.`),s=Math.max(0,s),a=Math.max(0,a)),s===a){e.config.count=s;break}e.config.count={type:"minecraft:uniform",value:{min_inclusive:s,max_inclusive:a}};break;case"decorated":be(e.config.outer,i),be(e.config.inner,i);break;case"heightmap_world_surface":e.type="minecraft:heightmap",e.config={heightmap:"WORLD_SURFACE_WG"};break;case"top_solid_heightmap":e.type="minecraft:heightmap",e.config={heightmap:"OCEAN_FLOOR_WG"};break;case"heightmap":case"heightmap_spread_double":e.config={heightmap:"MOTION_BLOCKING"};break;case"water_lake":e.type="minecraft:decorated",e.config=M({type:"minecraft:chance",config:{chance:e.config.chance}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}});break;case"lava_lake":const g=e.config.chance/10;e.type="minecraft:decorated",e.config=M(...Number.isInteger(g)?[{type:"minecraft:chance",config:{chance:g}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:1/g}}],{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}},{type:"minecraft:lava_lake",config:{chance:10}});break;case"fire":const p=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=M({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(p/2)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"glowstone":const h=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=M({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(h-1)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"range":const w=e.config.bottom_offset,m=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;if(w===m){e.config={height:{absolute:w}};break}e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:w},max_inclusive:{absolute:m}}};break;case"range_biased":const d=e.config.bottom_offset,u=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:d},max_inclusive:{absolute:u},cutoff:d}};break;case"range_very_biased":const c=e.config.bottom_offset,v=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:very_biased_to_bottom",min_inclusive:{absolute:c},max_inclusive:{absolute:v},cutoff:c}};break;case"depth_average":e.type="minecraft:range",e.config={height:{type:"minecraft:trapezoid",min_inclusive:{absolute:e.config.baseline},max_inclusive:{absolute:e.config.baseline+e.config.spread}}};break;case"emerald_ore":e.type="minecraft:decorated",e.config=M({type:"minecraft:count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:8}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:31}}}});break;case"end_island":e.type="minecraft:decorated",e.config=M({type:"minecraft:chance",config:{chance:14}},{type:"minecraft:count_extra",config:{count:1,extra_count:1,extra_chance:.25}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:55},max_inclusive:{absolute:70}}}});break;case"magma":i.warn('Removed decorator "magma" previously used the sea level. Assumed sea level is 32 and replaced with a range decorator between 27 and 36.'),e.type="minecraft:range",e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:27},max_inclusive:{absolute:36}}};break}}function M(...e){return{outer:e[0],inner:e.length===2?e[1]:{type:"minecraft:decorated",config:M(...e.slice(1))}}}const Si=/replaceitem ((?:entity @[parse](\[.*\]*)?|block( [^ ]+){3}) [a-z0-9.]+) /,Ci=/scoreboard objectives add ([^ ]+) (minecraft.)?custom:(minecraft.)?play_one_minute/,Ti=r.onFile("functions",({data:e})=>{e.forEach((i,t)=>{(i.startsWith("replaceitem ")||i.startsWith("execute "))&&(e[t]=e[t].replace(Si,"item replace $1 with ")),(i.startsWith("scoreboard")||i.startsWith("execute"))&&(e[t]=e[t].replace(Ci,"scoreboard objectives add $1 $2custom:$3play_time"))})}),Pi=r.all(r.onFile("tags/blocks",({data:e})=>Re(e)),r.onFile("tags/items",({data:e})=>Re(e)));function Re(e){var i;(i=e.values)==null||i.forEach((t,o)=>Di(e.values,o))}function Di(e,i){e[i].replace(/^minecraft:/,"")==="grass_path"&&(e[i]="minecraft:dirt_path")}const Ri=r.all(r.onFile("worldgen/noise_settings",({data:e})=>Me(e)),r.onFile("dimension",({data:e})=>{var i,t;((t=(i=e.generator)==null?void 0:i.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&Me(e.generator.settings)}));function Me(e){typeof e=="object"&&(e.bedrock_roof_position<=-10&&(e.bedrock_roof_position=-2147483648),e.bedrock_floor_position<=-10&&(e.bedrock_floor_position=-2147483648),e.min_surface_level=0,e.noise_caves_enabled=!1,e.noodle_caves_enabled=!1,e.aquifers_enabled=!1,e.deepslate_enabled=!1,e.ore_veins_enabled=!1,e.noise.min_y=0)}const Mi=r.all(r.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(ae):ae(e)}),r.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Li)}),r.onFile("loot_tables",({data:e})=>{var i;(i=e.pools)==null||i.forEach(Oi)}));function Li(e){var i,t;typeof e.conditions=="object"&&(j(e.conditions.entity),j(e.conditions.player),j(e.conditions.parent),j(e.conditions.partner),j(e.conditions.child),j(e.conditions.villager),j(e.conditions.zombie),j(e.conditions.projectile),j(e.conditions.shooter),(i=e.conditions.victims)==null||i.forEach(j),ve(e.conditions.item),(t=e.conditions.items)==null||t.forEach(ve),fe(e.conditions.damage),fe(e.conditions.killing_blow),te(e.conditions.location),te(e.conditions.entered),te(e.conditions.exited))}function Oi(e){var i,t;(i=e.entries)==null||i.forEach(Ke),(t=e.conditions)==null||t.forEach(ae)}function Ke(e){var i,t;(i=e.children)==null||i.forEach(Ke),(t=e.conditions)==null||t.forEach(ae)}function ae(e){switch(e.condition.replace(/^minecraft:/,"")){case"match_tool":ve(e.predicate);break;case"entity_properties":j(e.predicate);break;case"damage_source_properties":fe(e.predicate);break;case"location_check":te(e.predicate);break}}function fe(e){typeof e=="object"&&(j(e.source_entity),j(e.direct_entity),fe(e.type))}function j(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(ae);return}e.equipment&&Object.values(e.equipment).forEach(ve),j(e.vehicle),j(e.targeted_entity),te(e.location)}}function te(e){typeof e=="object"&&qi(e.block)}function ve(e){typeof e=="object"&&e.item&&(e.items=[e.item],delete e.item)}function qi(e){typeof e=="object"&&e.block&&(e.blocks=[e.block],delete e.block)}const Ni=r.all(r.onFile("worldgen/configured_structure_feature",({data:e})=>Le(e)),r.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(Le)}));function Le(e){if(typeof e!="object")return;e.type.replace(/^minecraft:/,"")==="nether_fossil"&&(e.config||(e.config={}),e.config.height={type:"minecraft:uniform",min_inclusive:{absolute:32},max_inclusive:{below_top:2}})}const Ii=r.version("1.16.5","1.17.1",r.groupProblems(r.debug("1.17 fixes"),r.when("ids",Pi),r.when("predicates",Mi),r.when("functions",Ti),r.when("worldgen",ji,Ri,Ni,Ei,zi),r.packFormat(7))),Ui=r.all(r.onFile("worldgen/configured_feature",Bi),r.onFile("worldgen/biome",({data:e},i)=>{e.player_spawn_friendly=void 0,["air","liquid"].forEach(t=>{Array.isArray(e.carvers[t])&&(e.carvers[t]=e.carvers[t].filter(o=>!Hi.has(o.replace(/^minecraft:/,""))))}),!!Array.isArray(e.features)&&(e.features=e.features.map(t=>Array.isArray(t)?t.flatMap(o=>{if(typeof o!="string")return o;const n=Wi(o,i);return n.forEach(s=>{const a=i.read("worldgen/placed_feature",s);!a||a.data.placement.find(g=>g.type==="minecraft:biome")||a.data.placement.push({type:"minecraft:biome"})}),n}):t))}));function Wi(e,i){var o;const t=e.replace(/^minecraft:/,"");return Oe.has(t)?Oe.get(t).map(n=>`minecraft:${n}`):W.has(t)||X.has(t)?[`minecraft:${(o=W.get(t))!=null?o:X.get(t)}`]:ei.has(t)&&i.read("worldgen/placed_feature",t)===void 0?[]:Ve.has(t)?[]:[e]}function Bi(e,i){if(typeof e.data!="object")return;const t=ze(e.data,i);typeof t.feature=="string"?e.data=pe(Xe(t.feature,i)):(e.data={type:t==null?void 0:t.feature.type,config:t==null?void 0:t.feature.config},t.feature=e.name),i.create("worldgen/placed_feature",e.name,{feature:t.feature,placement:t==null?void 0:t.placement})}function pe(e){return{type:"minecraft:random_selector",config:{features:[],default:e}}}function ze(e,i){var n;if(typeof e=="string"){const s=e.replace(/^minecraft:/,"");if(Ve.has(s))e={type:"minecraft:no_op",config:{}};else if(ii.has(s))e=pe(e);else if(W.has(s)||me.has(s)){const a=(n=me.get(s))!=null?n:W.get(s);console.log(`Rename ${s} -> configured: ${a}`),e=`minecraft:${a}`}else if(X.has(s)){const a=X.get(s);console.log(`Redirect ${s} -> placed: ${a}`),e=pe(a)}return{feature:e,placement:[]}}if(typeof e!="object")throw new Error("Feature is not an object nor a string");const t=e.type.replace(/^minecraft:/,""),o=[];switch(t){case"decorated":const s=Qe(e,o,i);e=Ji(s,i);break;case"glow_lichen":e.config.can_be_placed_on=[...new Set(e.config.can_be_placed_on.map(a=>a.Name))];break;case"lake":e.config={fluid:{type:"minecraft:simple_state_provider",state:e.config.state},barrier:{type:"minecraft:simple_state_provider",state:{Name:"minecraft:stone"}}};break;case"nether_forest_vegetation":e.config.spread_width=8,e.config.spread_height=4;break;case"random_boolean_selector":e.config.feature_false=H(e.config.feature_false,i),e.config.feature_true=H(e.config.feature_true,i);break;case"root_system":e.config.allowed_tree_position={type:"minecraft:true"};case"random_patch":case"flower":case"no_bonemeal_flower":e.config.feature=H(e.config.feature,i);break;case"random_selector":e.config.features.forEach(a=>{a.feature=H(a.feature,i)}),e.config.default=H(e.config.default,i);break;case"simple_random_selector":e.config.features=e.config.features.map(a=>H(a,i));break;case"twisting_vines":e.config={spread_width:8,spread_height:4,max_height:8};break;case"vegetation_patch":case"waterlogged_vegetation_patch":e.config.vegetation_feature=H(e.config.vegetation_feature,i)}return{feature:e,placement:o}}function H(e,i){const t=ze(e,i);return typeof t.feature=="string"&&t.placement.length===0?Xe(t.feature,i):t}function Xe(e,i){var o;const t=e.replace(/^minecraft:/,"");if(W.has(t)||X.has(t)){const n=(o=X.get(t))!=null?o:W.get(t);return console.log(`Rename placement: ${t} -> ${n}`),`minecraft:${n}`}return!ei.has(t)&&i.read("worldgen/configured_feature",t)===void 0?(console.log(`No placement: ${t}`),e):{feature:e,placement:[]}}function Ji(e,i){var o;const t=ze(e,i);if(typeof t.feature=="string"&&t.placement.length===0){const n=t.feature.replace(/^minecraft:/,"");if(W.has(n)||me.has(n)){const s=(o=me.get(n))!=null?o:W.get(n);return console.log(`Rename config: ${n} -> ${s}`),`minecraft:${s}`}if(ii.has(n))return pe(t.feature)}return t.feature}function we(e,i){if(typeof e!="object")return[];const t=e.type.replace(/^minecraft:/,"");switch(t){case"block_filter":return[b({type:"minecraft:block_predicate_filter"},e.config)];case"cave_surface":const o=e.config.floor_to_ceiling_search_range;o>32&&i.warn('Converting cave_surface decorator into environment_scan: "max_steps" is limited to 32.');const n={direction_of_search:e.config.surface==="ceiling"?"up":"down",target_condition:{type:"minecraft:solid"},allowed_search_condition:{type:"minecraft:matching_blocks",blocks:["minecraft:air",...e.config.allow_water?["minecraft:water"]:[]]},max_steps:Math.min(32,o)};return[b({type:"minecraft:environment_scan"},n)];case"count_multilayer":return[b({type:"minecraft:count_on_every_layer"},e.config)];case"chance":return[b({type:"minecraft:rarity_filter"},e.config)];case"count_extra":let s=e.config.count+e.config.extra_count;if(s>256){let w=[s];for(s-=1;w.some(m=>m>256);)s+=1,w=Gi(s);for(let m=2;m<=5;m+=1){const d=Array(m).fill(1),u=[...w];e:for(;u.length>0;){const c=u.pop();for(let v=0;v<m;v+=1)if(d[v]*c<=256){d[v]*=c;continue e}break}if(u.length===0&&d.every(c=>c<=256))return d.map(c=>({type:"minecraft:count",count:c}))}throw new Error(`Extremely high count: ${e.config.count+e.config.extra_count}`)}const a={type:"minecraft:weighted_list",distribution:[{weight:Math.round(100*(1-e.config.extra_chance)),data:Math.min(256,e.config.count)},{weight:Math.round(100*e.config.extra_chance),data:Math.min(256,s)}]};return[{type:"minecraft:count",count:a}];case"count_noise":return[b({type:"minecraft:noise_threshold_count"},e.config)];case"count_noise_biased":return[b({type:"minecraft:noise_based_count"},e.config)];case"dark_oak_tree":return[{type:"minecraft:count",count:16},{type:"minecraft:in_square"}];case"decorated":const g=we(e.config.outer,i),p=we(e.config.inner,i);return[...g,...p];case"end_gateway":return[{type:"minecraft:random_offset",xz_spread:0,y_spread:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:9}}}];case"iceberg":return[{type:"minecraft:in_square"}];case"lava_lake":return[{type:"minecraft:rarity_filter",chance:10}];case"nope":return[];case"range":return[b({type:"minecraft:height_range"},e.config)];case"scatter":return[b({type:"minecraft:random_offset"},e.config)];case"square":return[b({type:"minecraft:in_square"},e.config)];case"surface_relative_threshold":return[b({type:"minecraft:surface_relative_threshold_filter"},e.config)];case"water_depth_threshold":return[b({type:"minecraft:surface_water_depth_filter"},e.config)];default:return[b({type:t},e.config)]}}function Qe(e,i,t){return typeof e!="object"?e:e.type.replace(/^minecraft:/,"")==="decorated"?(i.push(...we(e.config.decorator,t)),Qe(e.config.feature,i,t)):e}function Gi(e){const i=[];let t=2;for(;e>=2;)e%t==0?(i.push(t),e=e/t):t+=1;return i}const Oe=new Map(Object.entries({birch_other:["forest_flowers","trees_birch_and_oak"],fossil:["fossil_upper","fossil_lower"],lake_lava:["lake_lava_surface","lake_lava_underground"],monster_room:["monster_room","monster_room_deep"],ore_granite:["ore_granite_upper","ore_granite_lower"],ore_diorite:["ore_diorite_upper","ore_diorite_lower"],ore_andesite:["ore_andesite_upper","ore_andesite_lower"],ore_coal:["ore_coal_upper","ore_coal_lower"],ore_iron:["ore_iron_upper","ore_iron_middle","ore_iron_small"],ore_gold:["ore_gold","ore_gold_lower"],ore_redstone:["ore_redstone","ore_redstone_lower"],ore_diamond:["ore_diamond","ore_diamond_large","ore_diamond_buried"],ore_lapis:["ore_lapis","ore_lapis_buried"]})),Ve=new Set(["lake_water","rare_dripstone_cluster","rare_small_dripstone","ore_deepslate"]),ei=new Set(["azalea_tree","birch_bees_005","bonus_chest","cave_vine_in_moss","clay_pool_with_dripleaves","clay_with_dripleaves","dripleaf","end_gateway_delayed","huge_brown_mushroom","huge_red_mushroom","jungle_tree_no_vine","moss_patch","moss_patch_bonemeal","moss_patch_ceiling","moss_vegetation","oak_bees_005","patch_brown_mushroom","patch_red_mushroom","spring_lava_double","swamp_oak"]),ii=new Set(["patch_dead_bush_2"]),W=new Map(Object.entries({birch_other:"trees_birch_and_oak",end_gateway:"end_gateway_return",fancy_oak_bees_005:"fancy_oak_bees",flower_forest:"flower_flower_forest",forest_flower_trees:"trees_flower_forest",forest_flower_vegetation:"forest_flowers",forest_flower_vegetation_common:"flower_forest_flowers",grove_vegetation:"trees_grove",mushroom_field_vegetation:"mushroom_island_vegetation",ore_debris_large:"ore_ancient_debris_large",patch_waterlilly:"patch_waterlily",pine:"pine_checked",plain_vegetation:"trees_plains",rooted_azalea_trees:"rooted_azalea_tree",taiga_vegetation:"trees_taiga",trees_giant:"trees_old_growth_pine_taiga",trees_giant_spruce:"trees_old_growth_spruce_taiga",trees_jungle_edge:"trees_sparse_jungle",trees_mountain:"trees_windswept_hills"})),X=new Map(Object.entries({acacia:"acacia_checked",birch:"birch_checked",brown_mushroom_giant:"brown_mushroom_old_growth",cave_vine:"cave_vines",dark_oak:"dark_oak_checked",end_island:"end_island_decorated",fancy_oak:"fancy_oak_checked",flower_plain_decorated:"flower_plains",meadow_trees:"trees_meadow",mega_jungle_tree:"mega_jungle_tree_checked",mega_pine:"mega_pine_checked",red_mushroom_giant:"red_mushroom_old_growth",patch_cactus:"patch_cactus_decorated",mega_spruce:"mega_spruce_checked",spruce:"spruce_checked",trees_mountain_edge:"trees_windswept_forest",trees_shattered_savanna:"trees_windswept_savanna"})),me=new Map(Object.entries({mega_spruce:"mega_spruce",cave_vine:"cave_vine",crimson_fungi_planted:"crimson_fungus_planted",warped_fungi_planted:"warped_fungus_planted"})),Hi=new Set(["ocean_cave","prototype_canyon","prototype_cave","prototype_crevice","underwater_canyon","underwater_cave"]),qe=["raw_generation","lakes","local_modifications","underground_structures","surface_structures","strongholds","underground_ores","underground_decoration","fluid_springs","vegetal_decoration","top_layer_modification"];async function Yi(e,i){var n;const t=e.data["worldgen/biome"].filter(s=>!s.error),o=new Set;for(let s=0;s<qe.length;s+=1){const a=[];for(const h of t){const w=(n=h.data.features[s])!=null?n:[];for(let m=0;m<w.length;m+=1){const d=w[m];if(a.some(c=>c.biome===h.name&&c.id===d)){o.add(h.name);continue}const u=new Set(w.slice(0,m));a.push({id:d,biome:h.name,depends:u})}}const g=[],p=a.filter(h=>a.filter(w=>h.id===w.id).every(w=>w.depends.size===0));for(;p.length>0;){const h=p.pop();if(!g.some(w=>w.id===h.id)){g.push(h);for(const w of a.filter(m=>m.depends.has(h.id)))w.depends.delete(h.id),a.filter(m=>w.id===m.id).every(m=>m.depends.size===0)&&p.push(w)}}if(a.some(h=>h.depends.size>0)){let h=function(c,v,_){if(_<=0)return!1;w.add(c.biome),m.add(c.id);for(const y of c.depends){if(y===v.id)return[v];if(!m.has(y))for(const l of a.filter(k=>k.id===y&&!w.has(k.biome))){const k=h(l,v,_-1);if(k)return[l,...k]}}return w.delete(c.biome),!1};const w=new Set,m=new Set;let d=!1;const u=a.filter(c=>c.depends.size>0);e:for(let c=2;c<10;c+=1)for(const v of u)if(w.clear(),m.clear(),d=h(v,v,c),d)break e;if(d){const c=[`Cycle in step ${s} (${qe[s]}):`];for(let v=d.length-1;v>=0;v-=1){const _=d[v],y=d[(v+1+d.length)%d.length];c.push(`\u2022 Biome ${_.biome}: '${y.id}' -> '${_.id}'`)}i.warn("!Feature order cycle found. Needs manual fixing.",[],c)}}}o.size>0&&i.warn("!Detected duplicate features. They are no longer allowed.",[...o])}const Zi=r.all(r.onFile("worldgen/noise_settings",({data:e})=>Ne(e)),r.onFile("dimension",({data:e})=>{var i,t;((t=(i=e.generator)==null?void 0:i.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&Ne(e.generator.settings)}));function Ne(e){ke(e.surface_rule)}function ke(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>ke(t));break;case"condition":ti(e.if_true),ke(e.then_run)}}function ti(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"not":ti(e.invert);break;case"stone_depth":e.offset=0,e.add_surface_depth=e.add_run_depth,e.add_surface_secondary_depth=!1,delete e.add_run_depth;break;case"water":case"y_above":e.surface_depth_multiplier=e.run_depth_multiplier,delete e.run_depth_multiplier}}const Ki=r.all(r.version("21w44a","1.18.1",r.groupProblems(r.debug("1.18 fixes"),r.when("worldgen",Ui,Zi))),r.versionInclusive("1.18.1","1.18.1",r.when("featureCycles",r.debug("Checking feature order cycle"),Yi))),Xi=r.all(r.onFile("dimension",({data:e})=>Qi(e.generator)));function Qi(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"flat":if(typeof e.settings!="object")return;e.settings.structure_overrides=[],delete e.settings.structures}}const Vi=r.all(r.onFile("dimension_type",({data:e})=>Ie(e)),r.onFile("dimension",({data:e})=>{typeof e.type=="object"&&Ie(e.type)}));function Ie(e){e.infiniburn="#"+e.infiniburn}const et=r.all(r.onFile("worldgen/configured_feature",({data:e})=>ni(e)),r.onFile("worldgen/placed_feature",({data:e})=>O(e)));function O(e){typeof e=="object"&&ni(e.feature)}function ni(e){var t;if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"random_boolean_selector":O(e.config.feature_false),O(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":O(e.config.feature);break;case"random_selector":e.config.features.forEach(o=>{O(o.feature)}),O(e.config.default);break;case"simple_random_selector":e.config.features.forEach(o=>{O(o)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":O(e.config.vegetation_feature),typeof e.config=="object"&&(e.config.replaceable="#"+e.config.replaceable);break;case"geode":typeof((t=e.config)==null?void 0:t.blocks)=="object"&&(e.config.blocks.cannot_replace="#"+e.config.blocks.cannot_replace,e.config.blocks.invalid_blocks="#"+e.config.blocks.invalid_blocks);break;case"root_system":typeof e.config=="object"&&(e.config.root_replaceable="#"+e.config.root_replaceable)}}const it=/locate (minecraft:)?(mineshaft|ocean_ruin|ruined_portal|shipwreck|village)/,tt=r.onFile("functions",({data:e})=>{e.forEach((i,t)=>{(i.startsWith("locate ")||i.startsWith("execute "))&&(e[t]=e[t].replace(it,"locate #$1$2"))})}),nt=r.all(r.onFile("worldgen/noise_settings",({data:e})=>Ue(e)),r.onFile("dimension",({data:e})=>{var i,t;((t=(i=e.generator)==null?void 0:i.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&Ue(e.generator.settings)}));function Ue(e){typeof e=="object"&&(xe(e.surface_rule),e.noise_router=rt(e.aquifers_enabled,e.ore_veins_enabled,e.noise_caves_enabled,e.noodle_caves_enabled,e.noise.island_noise_override,e.noise.large_biomes),delete e.noise_caves_enabled,delete e.noodle_caves_enabled,delete e.noise.island_noise_override,delete e.noise.amplified,delete e.noise.large_biomes,delete e.structures)}function xe(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>xe(t));break;case"condition":ot(e.if_true),xe(e.then_run)}}function ot(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"stone_depth":e.secondary_depth_range=e.add_surface_secondary_depth?6:0,delete e.add_surface_secondary_depth}}function rt(e,i,t,o,n,s){const a=n?"end":s?"overworld_large_biomes":"overworld",g=t?{max_exclusive:1.5625,when_in_range:{argument1:`minecraft:${a}/sloped_cheese`,argument2:{argument1:5,argument2:"minecraft:overworld/caves/entrances",type:"minecraft:mul"},type:"minecraft:min"},when_out_of_range:{argument1:{argument1:{argument1:{argument1:{argument1:4,argument2:{argument:{noise:"minecraft:cave_layer",xz_scale:1,y_scale:8,type:"minecraft:noise"},type:"minecraft:square"},type:"minecraft:mul"},argument2:{argument1:{input:{argument1:.27,argument2:{noise:"minecraft:cave_cheese",xz_scale:1,y_scale:.6666666666666666,type:"minecraft:noise"},type:"minecraft:add"},min:-1,max:1,type:"minecraft:clamp"},argument2:{input:{argument1:1.5,argument2:{argument1:-.64,argument2:`minecraft:${a}/sloped_cheese`,type:"minecraft:mul"},type:"minecraft:add"},min:0,max:.5,type:"minecraft:clamp"},type:"minecraft:add"},type:"minecraft:add"},argument2:"minecraft:overworld/caves/entrances",type:"minecraft:min"},argument2:{argument1:"minecraft:overworld/caves/spaghetti_2d",argument2:"minecraft:overworld/caves/spaghetti_roughness_function",type:"minecraft:add"},type:"minecraft:min"},argument2:{max_exclusive:.03,when_in_range:-1e6,when_out_of_range:"minecraft:overworld/caves/pillars",input:"minecraft:overworld/caves/pillars",min_inclusive:-1e6,type:"minecraft:range_choice"},type:"minecraft:max"},input:`minecraft:${a}/sloped_cheese`,min_inclusive:-1e6,type:"minecraft:range_choice"}:`minecraft:${a}/sloped_cheese`,p={argument:{argument1:.64,argument2:{argument:{argument:{argument:g,type:"minecraft:slide"},type:"minecraft:blend_density"},type:"minecraft:interpolated"},type:"minecraft:mul"},type:"minecraft:squeeze"};return{final_density:o?{argument1:p,argument2:"minecraft:overworld/caves/noodle",type:"minecraft:min"}:p,vein_toggle:!i||n?0:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_veininess",xz_scale:1.5,y_scale:1.5,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},vein_ridged:!i||n?0:{argument1:-.07999999821186066,argument2:{argument1:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_a",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},argument2:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_b",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},type:"minecraft:max"},type:"minecraft:add"},vein_gap:!i||n?0:{noise:"minecraft:ore_gap",xz_scale:1,y_scale:1,type:"minecraft:noise"},erosion:n?0:`minecraft:${a}/erosion`,depth:n?0:`minecraft:${a}/depth`,ridges:n?0:"minecraft:overworld/ridges",initial_density_without_jaggedness:n?{argument:{type:"minecraft:end_islands"},type:"minecraft:cache_2d"}:{argument1:4,argument2:{argument:{argument1:`minecraft:${a}/depth`,argument2:{argument:`minecraft:${a}/factor`,type:"minecraft:cache_2d"},type:"minecraft:mul"},type:"minecraft:quarter_negative"},type:"minecraft:mul"},lava:!e||n?0:{noise:"minecraft:aquifer_lava",xz_scale:1,y_scale:1,type:"minecraft:noise"},temperature:n?0:{xz_scale:.25,y_scale:0,noise:s?"minecraft:temperature_large":"minecraft:temperature",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},vegetation:n?0:{xz_scale:.25,y_scale:0,noise:s?"minecraft:vegetation_large":"minecraft:vegetation",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},continents:n?0:`minecraft:${a}/continents`,barrier:!e||n?0:{noise:"minecraft:aquifer_barrier",xz_scale:1,y_scale:.5,type:"minecraft:noise"},fluid_level_floodedness:!e||n?0:{noise:"minecraft:aquifer_fluid_level_floodedness",xz_scale:1,y_scale:.67,type:"minecraft:noise"},fluid_level_spread:!e||n?0:{noise:"minecraft:aquifer_fluid_level_spread",xz_scale:1,y_scale:.7142857142857143,type:"minecraft:noise"}}}const at=r.all(r.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(ce):ce(e)}),r.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(ct)}),r.onFile("loot_tables",({data:e})=>{var i;(i=e.pools)==null||i.forEach(st)}));function ct(e){var i;typeof e.conditions=="object"&&(z(e.conditions.entity),z(e.conditions.player),z(e.conditions.parent),z(e.conditions.partner),z(e.conditions.child),z(e.conditions.villager),z(e.conditions.zombie),z(e.conditions.projectile),z(e.conditions.shooter),(i=e.conditions.victims)==null||i.forEach(z),_e(e.conditions.damage),_e(e.conditions.killing_blow),ne(e.conditions.location),ne(e.conditions.entered),ne(e.conditions.exited))}function st(e){var i,t;(i=e.entries)==null||i.forEach(oi),(t=e.conditions)==null||t.forEach(ce)}function oi(e){var i,t;(i=e.children)==null||i.forEach(oi),(t=e.conditions)==null||t.forEach(ce)}function ce(e){switch(e.condition.replace(/^minecraft:/,"")){case"entity_properties":z(e.predicate);break;case"damage_source_properties":_e(e.predicate);break;case"location_check":ne(e.predicate);break}}function _e(e){typeof e=="object"&&(z(e.source_entity),z(e.direct_entity),_e(e.type))}function z(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(ce);return}z(e.vehicle),z(e.targeted_entity),ne(e.location)}}function ne(e){if(typeof e=="object"&&typeof e.feature=="string")switch(e.feature){case"endcity":e.feature="minecraft:end_city";break;default:e.feature="minecraft:"+e.feature}}const lt=r.all(r.onFile("worldgen/processor_list",({data:e})=>ri(e)),r.onFile("worldgen/template_pool",({data:e})=>ft(e)));function ri(e){typeof e=="object"&&(!Array.isArray(e.processors)||e.processors.forEach(ut))}function ut(e){if(typeof e!="object")return;switch(e.processor_type.replace(/^minecraft:/,"")){case"protected_blocks":e.value="#"+e.value}}function ft(e){typeof e=="object"&&(!Array.isArray(e.elements)||e.elements.forEach(i=>{typeof i=="object"&&vt(i.element)}))}function vt(e){typeof e=="object"&&typeof e.processors=="object"&&ri(e.processors)}const pt=r.all(r.onFile("worldgen/configured_structure_feature",({data:e},i)=>mt(e,i)));function mt(e,i){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"pillager_outpost":case"village":e.adapt_noise=!0}i.warn("Cannot upgrade configured structure features, set biomes to empty list."),e.biomes=[],e.spawn_overrides={}}const _t=r.version("1.18.1","1.18.2",r.groupProblems(r.debug("1.18.2 fixes"),r.when("worldgen",Vi,nt,Xi,pt,lt,et),r.when("predicates",at),r.when("functions",tt),r.packFormat(9))),dt=r.all(r.onFile("worldgen/biome",gt));function gt({data:e}){delete e.category}const ht=r.all(r.onFile("worldgen/configured_carver",({data:e})=>he(e)),r.onFile("worldgen/biome",({data:e})=>{typeof e.carvers=="object"&&Object.values(e.carvers).forEach(i=>{Array.isArray(i)?i.forEach(he):he(i)})}));function he(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"canyon":case"cave":e.config.replaceable="#minecraft:overworld_carver_replaceables";break;case"nether_cave":e.config.replaceable="#minecraft:nether_carver_replaceables";break}}const yt=r.all(r.onFile("dimension_type",({data:e})=>ai(e)),r.onFile("dimension",({data:e,name:i},t)=>bt(e,i,t)));function bt(e,i,t){typeof e=="object"&&(typeof e.type=="object"&&(ai(e.type),t.create("dimension_type",i,e.type),e.type=i),wt(e.generator))}function ai(e){e.monster_spawn_block_light_limit=0,e.monster_spawn_light_level={type:"minecraft:uniform",value:{min_inclusive:0,max_inclusive:7}}}function wt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"noise":delete e.seed,kt(e.biome_source)}}function kt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"end":delete e.seed}}const xt=r.all(r.onFile("worldgen/configured_feature",({data:e})=>ci(e)),r.onFile("worldgen/placed_feature",({data:e})=>q(e)));function q(e){typeof e=="object"&&ci(e.feature)}function ci(e){var t,o,n,s;if(typeof e!="object")return;const i=e.type.replace(/^minecraft:/,"");switch(i){case"random_boolean_selector":q(e.config.feature_false),q(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":q(e.config.feature);break;case"random_selector":e.config.features.forEach(a=>{q(a.feature)}),q(e.config.default);break;case"simple_random_selector":e.config.features.forEach(a=>{q(a)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":q(e.config.vegetation_feature);break;case"disk":case"ice_patch":case"surface_disk":e.type="minecraft:random_selector",e.config={features:[],default:{feature:{type:"minecraft:disk",config:{half_height:e.config.half_height,radius:e.config.radius,state_provider:{fallback:{type:"minecraft:simple_state_provider",state:e.config.state},rules:[]},target:{type:"minecraft:matching_blocks",blocks:$t(e.config.targets)}}},placement:[...i==="disk"?[]:[{type:"minecraft:random_offset",xz_spread:0,y_spread:-1}],{type:"minecraft:block_predicate_filter",predicate:i==="disk"?{type:"minecraft:matching_fluids",fluids:"minecraft:water"}:i==="ice_patch"?{type:"minecraft:matching_blocks",blocks:"minecraft:snow"}:{type:"minecraft:matching_blocks",blocks:(n=(o=(t=e.config)==null?void 0:t.can_origin_replace)==null?void 0:o.filter(a=>(a==null?void 0:a.replace(/^minecraft:/,""))!=="water"))!=null?n:[]}}]}};break;case"glow_lichen":e.type="minecraft:multiface_growth";break;case"tree":(s=e.config.decorators)==null||s.forEach(a=>{var g;((g=a==null?void 0:a.type)==null?void 0:g.replace(/^minecraft:/,""))==="leave_vine"&&(a.probability=.25)});break}}function $t(e){return[...new Set(e.map(i=>i.Name))]}const Ft=r.onFile("functions",({data:e})=>{e.forEach((i,t)=>{(i.startsWith("locatebiome ")||i.startsWith("execute "))&&(e[t]=e[t].replace("locatebiome ","locate biome ")),(i.startsWith("placefeature ")||i.startsWith("execute "))&&(e[t]=e[t].replace("placefeature ","place feature "))})}),Et=JSON.parse('{"min_y":-64,"height":384,"size_horizontal":1,"size_vertical":2,"sampling":{"xz_scale":1,"y_scale":1,"xz_factor":80,"y_factor":160},"bottom_slide":{"target":0.1171875,"size":3,"offset":0},"top_slide":{"target":-0.078125,"size":2,"offset":8},"terrain_shaper":{"offset":{"coordinate":"continents","points":[{"location":-1.1,"derivative":0,"value":0.044},{"location":-1.02,"derivative":0,"value":-0.2222},{"location":-0.51,"derivative":0,"value":-0.2222},{"location":-0.44,"derivative":0,"value":-0.12},{"location":-0.18,"derivative":0,"value":-0.12},{"location":-0.16,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.01,"value":0.001},{"location":0,"derivative":0.01,"value":0.003},{"location":0.4,"derivative":0.094000004,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":0.25,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.20235021},{"location":0,"derivative":0.5138249,"value":0.7161751},{"location":1,"derivative":0.5138249,"value":1.23}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.43317974,"value":0.44682026},{"location":1,"derivative":0.43317974,"value":0.88}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.3917051,"value":0.30829495},{"location":1,"derivative":0.3917051,"value":0.70000005}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.35},{"location":0,"derivative":0,"value":0.35},{"location":0.4,"derivative":0,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.07,"value":0.0069999998},{"location":0,"derivative":0.07,"value":0.021},{"location":0.4,"derivative":0.658,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.34792626},{"location":0,"derivative":0.5760369,"value":0.9239631},{"location":1,"derivative":0.5760369,"value":1.5}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.2},{"location":-0.4,"derivative":0,"value":0.5},{"location":0,"derivative":0,"value":0.5},{"location":0.4,"derivative":0,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0.099999994,"value":0.01},{"location":0,"derivative":0.099999994,"value":0.03},{"location":0.4,"derivative":0.94,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.015,"value":-0.02},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}}]},"factor":{"coordinate":"continents","points":[{"location":-0.19,"derivative":0,"value":3.95},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":0.35,"derivative":0,"value":6.25},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":0.35,"derivative":0,"value":5.47},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.47}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":0.35,"derivative":0,"value":5.08},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.08}]}},{"location":0.06,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.05,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.58,"derivative":0,"value":4.69}]}}]},"jaggedness":{"coordinate":"continents","points":[{"location":-0.11,"derivative":0,"value":0},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}},{"location":0.65,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}}]}}}'),oe=new Set,jt=r.all(async()=>{oe.clear()},r.onFile("worldgen/noise_settings",({data:e},i)=>We(e,i)),r.onFile("dimension",({data:e},i)=>{var t,o;((o=(t=e.generator)==null?void 0:t.type)==null?void 0:o.replace(/^minecraft:/,""))==="noise"&&We(e.generator.settings,i)}),r.onFile("worldgen/density_function",({name:e,data:i},t)=>{const o=e.includes(":")?e:"minecraft:"+e;oe.has(o)||(console.debug(`Visiting ${o} with default noise`),oe.add(o),F(i,t,Et))}));function We(e,i){typeof e=="object"&&(Object.values(e.noise_router).forEach(t=>F(t,i,e.noise)),delete e.noise.terrain_shaper,delete e.noise.sampling,delete e.noise.top_slide,delete e.noise.bottom_slide,e.spawn_target=St)}function F(e,i,t){if(typeof e=="string"){const n=e.includes(":")?e:"minecraft:"+e;if(oe.has(n))console.debug(`Already visited ${n}`);else{console.debug(`Visiting ${n}`),oe.add(n);const s=i.read("worldgen/density_function",n);if(s&&!s.error&&!s.deleted)F(s.data,i,t);else if(He.has(n)){const a=JSON.parse(He.get(n));F(a,i,t),i.create("worldgen/density_function",n,a)}}return}if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"abs":case"blend_density":case"cache_2d":case"cache_all_in_cell":case"cache_once":case"cube":case"flat_cache":case"half_negative":case"interpolated":case"quarter_negative":case"square":case"squeeze":F(e.argument,i,t);break;case"add":case"max":case"min":case"mul":F(e.argument1,i,t),F(e.argument2,i,t);break;case"clamp":case"range_choice":case"weird_scaled_sampler":F(e.input,i,t);break;case"shifted_noise":F(e.shift_x,i,t),F(e.shift_y,i,t),F(e.shift_z,i,t);break;case"old_blended_noise":e.xz_scale=t.sampling.xz_scale,e.y_scale=t.sampling.y_scale,e.xz_factor=t.sampling.xz_factor,e.y_factor=t.sampling.y_factor,e.smear_scale_multiplier=8;break;case"slide":F(e.argument,i,t);const n=zt(e.argument,t);delete e.argument,Object.assign(e,n);break;case"spline":si(e.spline,i,t),delete e.min_value,delete e.max_value;break;case"terrain_shaper_spline":e.type="minecraft:spline",F(e.continentalness,i,t),F(e.erosion,i,t),F(e.weirdness,i,t);const s={continents:e.continentalness,erosion:e.erosion,weirdness:e.weirdness,ridges:"minecraft:overworld/ridges_folded"},a=e.spline;let g=li(t.terrain_shaper[a],i,s);a==="offset"&&(g={type:"minecraft:add",argument1:-.5037500262260437,argument2:{type:"minecraft:spline",spline:e.spline}}),e.type="minecraft:clamp",e.min=e.min_value,e.max=e.max_value,e.input=g,delete e.spline,delete e.min_value,delete e.max_value,delete e.continentalness,delete e.erosion,delete e.weirdness;break}}function si(e,i,t){if(typeof e=="object"){F(e.coordinate,i,t);for(const o of e.points)si(o.value,i,t)}}function li(e,i,t){if(typeof e!="object")return e;let o=t[e.coordinate];return o===void 0&&(i.warn(`Unknown coordinate ${e.coordinate}`),o=0),{coordinate:o,points:e.points.map(n=>({location:n.location,value:li(n.value,i,t),derivative:n.derivative}))}}function zt(e,i){const t=i.top_slide;if(t.size>0){const n=i.min_y+i.height-(t.offset+t.size)*4*i.size_vertical,s=i.min_y+i.height-t.offset*4*i.size_vertical,a=Ge(n,s,1,0);e=Be(a,e,t.target)}const o=i.bottom_slide;if(o.size>0){const n=i.min_y+o.offset*4*i.size_vertical,s=i.min_y+(o.offset+o.size)*4*i.size_vertical,a=Ge(n,s,0,1);e=Be(a,e,o.target)}return e}function Be(e,i,t){return Je(At(e,Je(i,-t)),t)}function Je(e,i){return{type:"minecraft:add",argument1:e,argument2:i}}function At(e,i){return{type:"minecraft:mul",argument1:e,argument2:i}}function Ge(e,i,t,o){return{type:"minecraft:y_clamped_gradient",from_y:e,to_y:i,from_value:t,to_value:o}}const St=JSON.parse('[{"erosion":[-1,1],"depth":0,"weirdness":[-1,-0.16],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]},{"erosion":[-1,1],"depth":0,"weirdness":[0.16,1],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]}]'),He=new Map(Object.entries({"minecraft:overworld/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}',"minecraft:overworld/depth":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}',"minecraft:overworld/base_3d_noise":'{"type":"minecraft:old_blended_noise"}',"minecraft:overworld_large_biomes/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld_large_biomes/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld_large_biomes/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld_large_biomes/depth":'{"argument1":{"from_y":-64,"to_y":320,"from_value":1.5,"to_value":-1.5,"type":"minecraft:y_clamped_gradient"},"argument2":{"argument":{"argument":{"argument1":{"argument1":{"type":"minecraft:blend_offset"},"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"offset","min_value":-0.81,"max_value":2.5,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"type":"minecraft:add"}',"minecraft:overworld_large_biomes/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}'})),Ct=r.all(r.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(se):se(e)}),r.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Tt)}),r.onFile("loot_tables",({data:e})=>{var i;(i=e.pools)==null||i.forEach(Pt)}));function Tt(e){var t;if(typeof e.conditions!="object")return;switch(A(e.conditions.entity),A(e.conditions.player),A(e.conditions.parent),A(e.conditions.partner),A(e.conditions.child),A(e.conditions.villager),A(e.conditions.zombie),A(e.conditions.projectile),A(e.conditions.shooter),(t=e.conditions.victims)==null||t.forEach(A),de(e.conditions.damage),de(e.conditions.killing_blow),re(e.conditions.location),re(e.conditions.entered),re(e.conditions.exited),e.trigger.replace(/^minecraft:/,"")){case"location":case"slept_in_bed":case"hero_of_the_village":case"voluntary_exile":if(typeof e.conditions!="object")break;const o=e.conditions.location?e.conditions.location:e.conditions.player?void 0:e.conditions,n=e.conditions.player;e.conditions={player:Dt(n,o)},delete e.conditions.location;break}}function Pt(e){var i,t;(i=e.entries)==null||i.forEach(ui),(t=e.conditions)==null||t.forEach(se)}function ui(e){var i,t;(i=e.children)==null||i.forEach(ui),(t=e.conditions)==null||t.forEach(se)}function se(e){switch(e.condition.replace(/^minecraft:/,"")){case"entity_properties":A(e.predicate);break;case"damage_source_properties":de(e.predicate);break;case"location_check":re(e.predicate);break}}function de(e){typeof e=="object"&&(A(e.source_entity),A(e.direct_entity),de(e.type))}function A(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(se);return}if(A(e.vehicle),A(e.targeted_entity),re(e.location),e.player)e.type_specific=b({type:"player"},e.player),delete e.player;else if(e.fishing_hook)e.type_specific=b({type:"fishing_hook"},e.fishing_hook),delete e.fishing_hook;else if(e.lightning_bolt)e.type_specific=b({type:"lightning"},e.lightning_bolt),delete e.lightning_bolt;else if(e.catType){const i=e.catType.replace(/^textures\/entity\/cat\/([a-z_]+).png/,"$1");e.type_specific={type:"cat",variant:i},delete e.catType}}}function re(e){typeof e=="object"&&typeof e.feature=="string"&&(e.structure=e.feature,delete e.feature)}function Dt(e,i){return e===void 0?{location:i}:i===void 0?e:Array.isArray(e)&&e.length>=1?[...e,{condition:"minecraft:entity_properties",entity:"this",predicate:{location:i}}]:C(b({},e),{location:b(b({},e.location),i)})}const Rt=r.all(r.rename("worldgen/configured_structure_feature","worldgen/structure"),r.rename("tags/worldgen/configured_structure_feature","tags/worldgen/structure"),r.onFile("worldgen/structure_set",({data:e,name:i},t)=>Lt(e,i,t)),r.onFile("worldgen/structure",({data:e})=>Mt(e)));function Mt(e){var t,o;if(typeof e!="object")return;const i=(t=e.type)==null?void 0:t.replace(/^minecraft:/,"");switch(i==="mineshaft"&&(e.mineshaft_type=e.config.type),Object.assign(e,e.config),delete e.config,e.step="surface_structures",delete e.probability,e.adapt_noise&&(e.terrain_adaptation=i==="stronghold"?"bury":"beard_thin",delete e.adapt_noise),i){case"bastion_remnant":e.type="minecraft:jigsaw",e.start_height={absolute:33},e.max_distance_from_center=80,e.use_expansion_hack=!1;break;case"pillager_outpost":case"village":e.type="minecraft:jigsaw",e.start_height={absolute:0},e.project_start_to_heightmap="WORLD_SURFACE_WG",e.max_distance_from_center=80,e.use_expansion_hack=!0;break;case"endcity":e.type="minecraft:end_city";break;case"jungle_pyramid":e.type="minecraft:jungle_temple";break;case"mansion":e.type="minecraft:woodland_mansion";break;case"monument":e.type="minecraft:ocean_monument";break;case"ruined_portal":const n={standard:[D({weight:.5,can_be_cold:!0,air_pocket_probability:1,mossiness:.2}),D({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],desert:[D({placement:"partly_buried"})],jungle:[D({vines:!0,overgrown:!0,air_pocket_probability:.5,mossiness:.8,placement:"on_land_surface"})],mountain:[D({weight:.5,can_be_cold:!0,air_pocket_probability:.1,mossiness:.2,placement:"in_mountain"}),D({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],nether:[D({replace_with_blackstone:!0,air_pocket_probability:.5,placement:"in_nether"})],ocean:[D({can_be_cold:!0,mossiness:.8,placement:"on_ocean_floor"})],swamp:[D({vines:!0,mossiness:.5,placement:"on_ocean_floor"})]};e.setups=(o=n[e.portal_type])!=null?o:[],delete e.portal_type}}function D(e={}){return b({weight:1,vines:!1,can_be_cold:!1,replace_with_blackstone:!1,placement:"underground",air_pocket_probability:0,mossiness:0,overgrown:!1},e)}function Lt(e,i,t){var a,g,p;if(typeof e!="object")return;const o=(a=t.read("worldgen/structure",e.structures[0].structure))==null?void 0:a.data;if(!o)return;switch((g=o.type)==null?void 0:g.replace(/^minecraft:/,"")){case"mineshaft":e.placement.frequency_reduction_method="legacy_type_3",e.placement.frequency=o.config.probability;break}switch(i==="minecraft:pillager_outposts"&&(e.placement.exclusion_zone={other_set:"minecraft:villages",chunk_count:10},e.placement.frequency_reduction_method="legacy_type_1",e.placement.frequency=.2),(p=e.placement.type)==null?void 0:p.replace(/^minecraft:/,"")){case"concentric_rings":e.placement.salt=0,e.placement.preferred_biomes="#minecraft:stronghold_biased_to";break}}const Ot=r.version("1.18.2","1.19",r.groupProblems(r.debug("1.19 fixes"),r.when("worldgen",dt,ht,yt,jt,Rt,xt),r.when("predicates",Ct),r.when("functions",Ft),r.packFormat(10))),qt=r.all(r.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Nt)}));function Nt(e){switch(e.trigger.replace(/^minecraft:/,"")){case"nether_travel":if(typeof e.conditions!="object")break;const{distance:t,entered:o,exited:n,player:s}=e.conditions;e.conditions={player:It(s,n),start_position:o,distance:t};break}}function It(e,i){return e===void 0?{location:i}:Array.isArray(e)&&e.length>=1?[e,{type:"minecraft:entity_properties",predicate:{location:i}}]:C(b({},e),{location:b(b({},e.location),i)})}const Ut=r.all(r.onFile("worldgen/biome",Wt));function Wt({data:e},i){var o,n;i.warn('Biome "depth" and "scale" were removed and replaced with a more powerful terrain shaper option in noise settings. No automatic upgrade possible.'),e.depth=void 0,e.scale=void 0,i.warn('Biome "surface_builder" was removed and replaced with a more powerful surface_rule option in noise settings. No automatic upgrade possible.'),e.surface_builder=void 0,Array.isArray(e.starts)&&e.starts.length>0&&i.warn('Biome "starts" was removed, custom structures are not supported in 1.18.'),e.starts=void 0,Array.isArray(e.features)&&e.features.length>=9&&e.features.splice(8,0,[]);const t=(o=e.effects.particle)==null?void 0:o.options;((n=t==null?void 0:t.type)==null?void 0:n.replace(/minecraft:/,""))==="dust"&&t.r&&(e.effects.particle.options={type:"minecraft:dust",color:[t.r,t.g,t.b],scale:t.scale})}const Bt=r.all(r.onFile("dimension",({data:e},i)=>{var t,o;if(((o=(t=e.generator)==null?void 0:t.type)==null?void 0:o.replace(/^minecraft:/,""))==="noise"){const n=Jt(e.generator.biome_source,i);$e(e.generator.settings,i,n)}}),r.onFile("worldgen/noise_settings",({data:e},i)=>{$e(e,i)}));function Jt(e,i){var o;if(typeof e!="object")return[];switch(e.type.replace(/^minecraft:/,"")){case"fixed":return[e.biome];case"checkerboard":return[...new Set(e.biomes)];case"multi_noise":return e.seed=void 0,((o=e.preset)==null?void 0:o.replace(/^minecraft:/,""))==="nether"?["nether_wastes","soul_sand_valley","crimson_forest","warped_forest","basalt_deltas"]:(e.altitude_noise=void 0,e.temperature_noise=void 0,e.humidity_noise=void 0,e.weirdness_noise=void 0,e.biomes.forEach(n=>{n.parameters={temperature:n.parameters.temperature,humidity:n.parameters.humidity,continentalness:n.parameters.altitude,erosion:0,weirdness:n.parameters.weirdness,depth:0,offset:n.parameters.offset}}),[...new Set(e.biomes.map(n=>n.biome))]);case"vanilla_layered":return i.warn('Removed biome source "vanilla_layered", replaced with the multi noise overworld preset.'),e.type="multi_noise",e.preset="minecraft:overworld",[]}return[]}function $e(e,i,t=[]){if(typeof e=="string"){const n=i.read("worldgen/noise_settings",e);n&&$e(n.data,i,t);return}if(typeof e!="object"||e.surface_rule!==void 0)return;e.legacy_random_source=!1,e.noise.top_slide.target/=128,e.noise.bottom_slide.target/=128,e.min_surface_level=void 0,e.noise.simplex_surface_noise=void 0,e.noise.random_density_offset=void 0,e.noise.terrain_shaper={offset:0,factor:0,jaggedness:0},e.noise.density_offset=void 0,e.noise.density_factor=void 0;const o=[];e.bedrock_floor_position>-10&&o.push(Fe("vertical_gradient",{random_name:"minecraft:bedrock_floor",true_at_and_below:{above_bottom:e.bedrock_floor_position+5},false_at_and_above:{above_bottom:e.bedrock_floor_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.bedrock_roof_position>-10&&o.push(Gt("vertical_gradient",{random_name:"minecraft:bedrock_roof",true_at_and_below:{below_top:e.bedrock_roof_position+5},false_at_and_above:{below_top:e.bedrock_roof_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.deepslate_enabled&&o.push(Fe("vertical_gradient",{random_name:"minecraft:deepslate",true_at_and_below:{absolute:0},false_at_and_above:{absolute:8}}).thenRun("block",{result_state:{Name:"minecraft:deepslate",Properties:{axis:"y"}}})),e.surface_rule={type:"minecraft:sequence",sequence:o}}function Fe(e,i){return{thenRun:(t,o)=>({type:"minecraft:condition",if_true:b({type:`minecraft:${e}`},i),then_run:b({type:`minecraft:${t}`},o)})}}function Gt(e,i){return Fe("not",{invert:b({type:`minecraft:${e}`},i)})}const Ht=r.all(r.onFile("worldgen/configured_feature",({data:e},i)=>R(e,i)));function R(e,i){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":Ee(e.config.decorator,i),R(e.config.feature,i);break;case"random_boolean_selector":R(e.config.feature_false,i),R(e.config.feature_true,i);break;case"random_selector":e.config.features.forEach(p=>R(p.feature,i)),R(e.config.default,i);break;case"simple_random_selector":e.config.features.forEach(p=>R(p,i));break;case"flower":case"no_bonemeal_flower":case"random_patch":e.config.xspread!==e.config.zspread&&i.warn("Random patch xspread and zspread can no longer be different. Using xspread.");const o=[];e.config.can_replace!==!0&&o.push({type:"minecraft:matching_blocks",blocks:["minecraft:air"]}),ee(e.config.whitelist)&&o.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:ie(e.config.whitelist)}),ee(e.config.blacklist)&&o.push({type:"minecraft:not",predicate:{type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:ie(e.config.blacklist)}});const s=e.config.block_placer.type.replace(/^minecraft:/,"")==="column_placer"?{type:"minecraft:block_column",config:{direction:"up",allowed_placement:e.config.can_replace!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!1,layers:[{height:e.config.block_placer.size,provider:e.config.state_provider}]}}:{type:"minecraft:simple_block",config:{to_place:e.config.state_provider}};e.config={tries:e.config.tries,xz_spread:e.config.xspread,y_spread:e.config.yspread,feature:ue(s,[{type:"minecraft:block_filter",config:{predicate:{type:"minecraft:all_of",predicates:o}}}])},e.config.project===!0&&(e.config={decorator:{type:"heightmap",config:{heightmap:"OCEAN_FLOOR"}},feature:{type:e.type,config:e.config}},e.type="minecraft:decorated");break;case"growing_plant":e.type="minecraft:block_column",e.config={direction:e.config.direction,allowed_placement:e.config.allow_water!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!0,layers:[{height:{type:"minecraft:weighted_list",distribution:e.config.height_distribution.map(p=>({weight:p.weight,data:fi(p.data,-1,0,1/0)}))},provider:e.config.body_provider},{height:1,provider:e.config.head_provider}]};break;case"root_system":R(e.config.feature,i);break;case"simple_block":const a=[];ee(e.config.place_on)&&a.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:ie(e.config.place_on)}),ee(e.config.place_in)&&a.push({type:"minecraft:matching_blocks",blocks:ie(e.config.place_in)}),ee(e.config.place_under)&&a.push({type:"minecraft:matching_blocks",offset:[0,1,0],blocks:ie(e.config.place_under)}),e.config.place_on=void 0,e.config.place_in=void 0,e.config.place_under=void 0,a.length>0&&(e.type="minecraft:decorated",e.config={decorator:{type:"minecraft:block_filter",config:{predicate:a.length==1?a[0]:{type:"minecraft:all_of",predicates:a}}},feature:{type:"minecraft:simple_block",config:e.config}});break;case"small_dripstone":const g=p=>ue({type:"minecraft:pointed_dripstone",config:{chance_of_taller_dripstone:e.config.chance_of_taller_dripstone,chance_of_directional_spread:.7,chance_of_spread_radius2:.5,chance_of_spread_radius3:.5}},[{type:"minecraft:cave_surface",config:{surface:p,floor_to_ceiling_search_range:12,allow_water:!0}}]);e.type="minecraft:decorated",e.config=ue({type:"minecraft:simple_random_selector",config:{features:[g("floor"),g("ceiling")]}},[{type:"count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:1,max_inclusive:e.config.max_placements}}}},{type:"minecraft:scatter",config:{xz_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:3,min_inclusive:-10,max_inclusive:10}},y_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:.6,min_inclusive:-2,max_inclusive:2}}}}]).config;break;case"vegetation_patch":case"waterlogged_vegetation_patch":R(e.config.vegetation_feature,i)}}function fi(e,i,t,o){if(typeof e=="number")return e+i;const n=e.type.replace(/^minecraft:/,"");switch(n){case"constant":return{type:e.type,value:Math.max(t,Math.min(o,e.value+i))};case"uniform":case"biased_to_bottom":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(o,e.value.min_inclusive+i)),max_inclusive:Math.max(t,Math.min(o,e.value.max_inclusive+i))}};case"clamped":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(o,e.value.min_inclusive+i)),max_inclusive:Math.max(t,Math.min(o,e.value.max_inclusive+i)),source:fi(e.value.source,i,t,o)}}}throw new Error(`Unknown int provider "${n}"`)}function Ee(e,i){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":Ee(e.config.outer,i),Ee(e.config.inner,i);break;case"cave_surface":e.config.allow_water=!1;break;case"heightmap_spread_double":i.warn('Removed decorator "heightmap_spread_double" was replaced with "heightmap". You likely need to make this feature rarer.'),e.type="minecraft:heightmap";break;case"spread_32_above":i.warn('Removed decorator "spread_32_above". You likely need to make this feature rarer.'),e.type="minecraft:nope";break}}function ue(e,i=[]){return i.length==0?e:{type:"minecraft:decorated",config:{decorator:i[0],feature:ue(e,i.slice(1))}}}function ee(e){return Array.isArray(e)&&e.length>0}function ie(e){return[...new Set(e.map(i=>i.Name))]}const Yt=r.version("1.17.1","21w44a",r.groupProblems(r.debug("21w44a fixes"),r.when("predicates",qt),r.when("worldgen",Bt,Ht,Ut),r.packFormat(8))),Zt=async(e,i)=>{je.forEach(t=>{e.data[t].filter(o=>o.error).forEach(o=>{i.warn(`!${o.error}`)})})},Kt=r.all(Zt,Ii,Yt,Ki,_t,Ot),je=["advancements","dimension","dimension_type","loot_tables","predicates","tags/blocks","tags/entity_types","tags/fluids","tags/game_events","tags/items","tags/worldgen/biome","tags/worldgen/configured_structure_feature","tags/worldgen/flat_level_generator_preset","tags/worldgen/structure","tags/worldgen/world_preset","worldgen/biome","worldgen/configured_carver","worldgen/configured_feature","worldgen/configured_structure_feature","worldgen/configured_surface_builder","worldgen/density_function","worldgen/noise_settings","worldgen/noise","worldgen/placed_feature","worldgen/processor_list","worldgen/structure","worldgen/structure_set","worldgen/template_pool"];var le;(e=>{async function i(u){const c=await u.arrayBuffer(),v=await bi.loadAsync(c),_=v.filter(y=>y.endsWith("pack.mcmeta")&&!y.startsWith("__MACOSX/"));if(_.length===0)throw new Error('Cannot find any "pack.mcmeta" files.');return Promise.all(_.map(y=>{const l=y.name.replace(/\/?pack.mcmeta$/,""),k=l.length===0?u.name.replace(/\.zip$/,""):l.split("/").pop();return t(k,v.folder(l))}))}e.fromZip=i;async function t(u,c){const v={id:vi(),name:u,root:c,status:"loaded",data:{},meta:b({name:"pack"},await n(c.file("pack.mcmeta")))};return await Promise.all(je.map(async _=>{v.data[_]=await o(c.folder("data"),_)})),v.data.functions=await s(c.folder("data")),console.log(v),v}async function o(u,c){const v=new RegExp(`^([^/]+)/${c}/(.*).json$`),_=[];return u.forEach((y,l)=>{const k=y.match(v);k&&k[1]&&k[2]&&_.push({name:`${k[1]}:${k[2]}`,file:l})}),Promise.all(_.map(async({name:y,file:l})=>{try{const k=await n(l);return b({name:y},k)}catch(k){return{name:y,data:void 0,error:k.message}}}))}async function n(u){let c=await a(u);const v=wi(c).indent;try{return c=c.replaceAll("\u200B","").replaceAll("\u200C","").replaceAll("\u200D","").replaceAll("\uFEFF",""),c=c.split(`
`).map(_=>_.replace(/^([^"\/]+)\/\/.*/,"$1")).join(`
`),{data:JSON.parse(ki(c)),indent:v}}catch(_){throw new Error(`Cannot parse file "${u.name}": ${_.message}.`)}}async function s(u){const c=/([^\/]+)\/functions\/(.*)\.mcfunction$/;return Promise.all(u.filter(v=>v.match(c)!==null).map(async v=>{const _=v.name.match(c);return{name:`${_[1]}:${_[2]}`,data:(await a(v)).split(`
`)}}))}async function a(u){return await u.async("text")}async function g(u){var _;if(u.status!=="upgraded")throw new Error(`Cannot download pack with status ${u.status}.`);je.forEach(y=>{var l;p(u.root.folder("data"),y,(l=u.data[y])!=null?l:[])}),h(u.root.folder("data"),(_=u.data.functions)!=null?_:[]),w(u.root,"pack.mcmeta",u.meta.data,u.meta.indent);const c=await u.root.generateAsync({type:"blob",compression:"DEFLATE"}),v=URL.createObjectURL(c);return u.status="done",v}e.toZip=g;function p(u,c,v){v.forEach(({name:_,data:y,indent:l,error:k,deleted:x})=>{const[$,S]=_.split(":"),L=`${$}/${c}/${S}.json`;x?u.remove(L):k||w(u,L,y,l)})}function h(u,c){c.forEach(({name:v,data:_,error:y,deleted:l})=>{const[k,x]=v.split(":"),$=`${k}/functions/${x}.mcfunction`;l?u.remove($):y||m(u,$,_.join(`
`))})}function w(u,c,v,_){const y=JSON.stringify(v,null,_)+`
`;m(u,c,y)}function m(u,c,v){u.file(c,v)}async function d(u,c){if(u.status!=="loaded")throw new Error(`Cannot upgrade pack with status '${u.status}'.`);const v={warn:c.onWarning,prompt:c.onPrompt,source:()=>c.source,target:()=>c.target,config:_=>c.features[_],read:(_,y)=>u.data[_].find(l=>l.error===void 0&&l.name.replace(/^minecraft:/,"")===y.replace(/^minecraft:/,"")),create:(_,y,l)=>{u.data[_].push({name:y,indent:u.meta.indent,data:l})}};await Kt(u,v),u.status="upgraded"}e.upgrade=d})(le||(le={}));const Xt=e=>("0"+e.toString(16)).substr(-2);function vi(e=12){var i=new Uint8Array(e/2);return window.crypto.getRandomValues(i),Array.from(i,Xt).join("")}function Qt({pack:e,config:i,source:t,target:o,onError:n,onRemove:s,onDone:a,doDownload:g}){var Ae;const[p,h]=T("Loading..."),[w,m]=T(null),[d,u]=T([]),[c,v]=T(null),[_,y]=T(!1),[l,k]=T(null),x=ye(null),$=ye(()=>{}),S=`${e.name}_${o}.zip`,L=(E,B,P,J)=>(k({title:E,message:B,actions:P!=null?P:["Confirm"],info:J}),new Promise(pi=>{$.current=mi=>{k(null),pi(mi)}})),Q=(E,B,P)=>{setTimeout(()=>u(J=>[...J,{message:E,files:B,info:P}]))};Te(()=>{(async()=>{try{h("Upgrading..."),await le.upgrade(e,{features:i,source:t,target:o,onPrompt:L,onWarning:Q}),h("Zipping...");const E=await le.toZip(e);m(E),a()}catch(E){n(E),v("Error during upgrading")}})()},[e]);const V=()=>{y(!_)};return Te(()=>{g&&x.current.click()},[g]),f("div",{class:"pack"},f("div",{class:"pack-head"},w&&f("a",{class:"pack-status download",ref:x,href:w,download:S,"data-hover":`Download data pack for ${o}`},I.download),!w&&!c&&!l&&f("div",{class:"pack-status loading","data-hover":p},I.sync),!w&&!c&&l&&f("div",{class:"pack-status prompt","data-hover":"Manual action required"},I.report),(d.length>0||c)&&f("div",{class:`pack-status alert${c?" error":""}`,onClick:V,"data-hover":c!=null?c:"There were issues upgrading"},I.alert),f("span",{class:"pack-name"},e.name.replace(/\.zip$/,"")),f("div",{class:"pack-status remove",onClick:s},I.x)),(l||d.length>0&&!_)&&f("div",{class:"pack-body"},l&&f("div",{class:"pack-prompt"},f("p",{class:"prompt-title"},l.title),l.message&&f("p",{class:"prompt-message"},l.message),f("p",null,l.actions.map(E=>f("button",{onClick:()=>$.current(E)},E))),(Ae=l.info)==null?void 0:Ae.map(E=>f("p",{class:"prompt-info"},E))),d.length>0&&!_&&d.map(({message:E,files:B,info:P})=>f("div",{class:"pack-alert"},f("div",{class:`alert-message ${E.startsWith("!")?"alert-error":""}`},E.replace(/\!/,"")),B&&B.length>0&&f(Ze,null,f("p",null,"Affected files:"),f("div",{class:"alert-files"},B.map(J=>f("p",null,J)))),P==null?void 0:P.map(J=>f("p",{class:"alert-info"},J))))))}function Ye({value:e,onChange:i}){const t=ye(null);return f("select",{class:"version-picker",ref:t,value:e,onChange:()=>{i(t.current.value)}},Z.map(n=>f("option",{value:n},n)))}var K;(e=>{const i="misode_upgrader_config";function t(){var p;return JSON.parse((p=localStorage.getItem(i))!=null?p:"{}")}function o(p){const h=b(b({},t()),p);localStorage.setItem(i,JSON.stringify(h))}function n(){const p=new URLSearchParams(location.search).get("from");if(p&&Z.includes(p))return p;const h=t().source;return h&&Z.includes(h)?h:U.DEFAULT_SOURCE}e.getSource=n;function s(p){o({source:p})}e.setSource=s;function a(){const p=new URLSearchParams(location.search).get("to");if(p&&Z.includes(p))return p;const h=t().target;return h&&Z.includes(h)?h:U.DEFAULT_TARGET}e.getTarget=a;function g(p){o({target:p})}e.setTarget=g})(K||(K={}));function Vt(){const[e,i]=T([]),[t,o]=T([]),[n,s]=T(K.getSource()),[a,g]=T(K.getTarget()),[p,h]=T({functions:!0,ids:!0,predicates:!0,worldgen:!0,packFormat:!0,featureCycles:!0}),w=l=>{K.setSource(l),s(l)},m=l=>{K.setTarget(l),g(l)},d=(l,k)=>{const x=vi(),$=k.stack.split(`
`).map(S=>S.replace(/^(\s+)at (?:async )?(https?:.*)/,"$1at ($2)"));xi.exports.mapStackTrace($.join(`
`),S=>{const L=$[0]+`
`+S.map(Q=>Q.replace(/..\/..\/src\//,"src/")).join(`
`);o(Q=>Q.map(V=>V.id===x?C(b({},V),{stacktrace:L}):V))}),o([...t,{id:x,process:l,error:k}])},u=async l=>{if(l.preventDefault(),!l.dataTransfer)return;const k=[];for(let x=0;x<l.dataTransfer.files.length;x++){const $=l.dataTransfer.files[x];$.type.match(/^application\/(x-)?zip(-compressed)?$/)&&k.push(le.fromZip($))}if(k.length===0)d("loading",new Error("The dropped files contain no zip files. Please zip the data pack first."));else{const x=await Promise.all(k.map(async $=>{try{return await $}catch(S){d("loading",S),console.error(S);return}}));i([...e,...x.flat().filter($=>$!==void 0)])}},c=l=>{console.error(l),d("upgrading",l)},v=l=>{i(k=>k.filter(x=>x.id!==l))},[_,y]=T(0);return f("main",{onDrop:u,onDragOver:l=>l.preventDefault()},e.length>0&&f(Ze,null,f("div",{class:"packs"},e.map(l=>f(Qt,{key:l.id,pack:l,config:p,source:n,target:a,doDownload:_,onError:c,onRemove:()=>v(l.id),onDone:()=>i([...e])})),e.filter(l=>l.status==="done").length>1&&f("button",{class:"download-all",onClick:()=>y(_+1)},I.download,f("span",null,"Download all")))),f("div",{class:"drop"},f("h1",null,"Drop data pack here"),f("p",null,"Convert from ",f(Ye,{value:n,onChange:w})," to ",f(Ye,{value:a,onChange:m})),U.order(a,n)?f("p",{class:"error-message"},"Invalid version range"):U.isWorkInProgress(n,a)?f("p",{class:"warning-message"},"This upgrade is still being worked on"):null),f("div",{class:"configs"},f(Y,{name:"Upgrade functions",value:p.functions,onChange:l=>h(C(b({},p),{functions:l}))}),f(Y,{name:"Upgrade IDs",value:p.ids,onChange:l=>h(C(b({},p),{ids:l}))}),f(Y,{name:"Upgrade JSON files",value:p.predicates,onChange:l=>h(C(b({},p),{predicates:l}))}),f(Y,{name:"Upgrade worldgen",value:p.worldgen,onChange:l=>h(C(b({},p),{worldgen:l}))}),f(Y,{name:"Upgrade pack_format",value:p.packFormat,onChange:l=>h(C(b({},p),{packFormat:l}))}),f(Y,{name:"Detect feature cycles",value:p.featureCycles,onChange:l=>h(C(b({},p),{featureCycles:l}))})),f("div",{class:"footer"},f("p",null,"Developed by Misode"),f("p",null,"Source code on ",f("a",{href:"https://github.com/misode/upgrader",target:"_blank"},"GitHub")),f("p",{class:"donate"},I.heart,f("a",{href:"https://ko-fi.com/misode",target:"_blank"},"Donate"))),f("div",{class:"main-errors"},t.map(l=>{var S;const k=`${l.error.name}: ${l.error.message}`,x=`An error occurred while ${l.process} a data pack.
Data Pack: <!-- ATTACH YOUR DATAPACK HERE -->

\`\`\`
${(S=l.stacktrace)!=null?S:l.error.stack}
\`\`\`
`,$=`https://github.com/misode/upgrader/issues/new?title=${encodeURIComponent(k)}&body=${encodeURIComponent(x)}
`;return f("div",{class:"main-error"},f("p",null,"Something went wrong ",l.process," the data pack:"),f("p",{class:"error-message"},l.error.message),f("p",null,"You can report this as a bug ",f("a",{href:$,target:"_blank"},"on GitHub")," and upload the data pack"),f("div",{class:"error-close",onClick:()=>o(t.filter(L=>L.id!==l.id))},I.x))})))}$i(f(Vt,null),document.body);
//# sourceMappingURL=index.8d698c43.js.map
