var on=Object.defineProperty,an=Object.defineProperties;var sn=Object.getOwnPropertyDescriptors;var Gt=Object.getOwnPropertySymbols;var cn=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable;var Ht=(e,r,t)=>r in e?on(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ie=(e,r)=>{for(var t in r||(r={}))cn.call(r,t)&&Ht(e,t,r[t]);if(Gt)for(var t of Gt(r))ln.call(r,t)&&Ht(e,t,r[t]);return e},ye=(e,r)=>an(e,sn(r));const un=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))d(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function t(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerpolicy&&(n.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?n.credentials="include":c.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function d(c){if(c.ep)return;c.ep=!0;const n=t(c);fetch(c.href,n)}};un();var ne,Je,Cr,qt,dt={},Mt=[],fn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ie(e,r){for(var t in r)e[t]=r[t];return e}function Er(e){var r=e.parentNode;r&&r.removeChild(e)}function K(e,r,t){var d,c,n,l=arguments,i={};for(n in r)n=="key"?d=r[n]:n=="ref"?c=r[n]:i[n]=r[n];if(arguments.length>3)for(t=[t],n=3;n<arguments.length;n++)t.push(l[n]);if(t!=null&&(i.children=t),typeof e=="function"&&e.defaultProps!=null)for(n in e.defaultProps)i[n]===void 0&&(i[n]=e.defaultProps[n]);return ct(e,i,d,c,null)}function ct(e,r,t,d,c){var n={type:e,props:r,key:t,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:c==null?++ne.__v:c};return ne.vnode!=null&&ne.vnode(n),n}function Ge(e){return e.children}function lt(e,r){this.props=e,this.context=r}function rt(e,r){if(r==null)return e.__?rt(e.__,e.__.__k.indexOf(e)+1):null;for(var t;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?rt(e):null}function Sr(e){var r,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((t=e.__k[r])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return Sr(e)}}function Yt(e){(!e.__d&&(e.__d=!0)&&Je.push(e)&&!pt.__r++||qt!==ne.debounceRendering)&&((qt=ne.debounceRendering)||Cr)(pt)}function pt(){for(var e;pt.__r=Je.length;)e=Je.sort(function(r,t){return r.__v.__b-t.__v.__b}),Je=[],e.some(function(r){var t,d,c,n,l,i;r.__d&&(l=(n=(t=r).__v).__e,(i=t.__P)&&(d=[],(c=Ie({},n)).__v=n.__v+1,Nt(i,n,c,t.__n,i.ownerSVGElement!==void 0,n.__h!=null?[l]:null,d,l==null?rt(n):l,n.__h),Fr(d,n),n.__e!=l&&Sr(n)))})}function Ar(e,r,t,d,c,n,l,i,m,g){var p,y,b,o,f,u,a,v=d&&d.__k||Mt,h=v.length;for(t.__k=[],p=0;p<r.length;p++)if((o=t.__k[p]=(o=r[p])==null||typeof o=="boolean"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"?ct(null,o,null,null,o):Array.isArray(o)?ct(Ge,{children:o},null,null,null):o.__b>0?ct(o.type,o.props,o.key,null,o.__v):o)!=null){if(o.__=t,o.__b=t.__b+1,(b=v[p])===null||b&&o.key==b.key&&o.type===b.type)v[p]=void 0;else for(y=0;y<h;y++){if((b=v[y])&&o.key==b.key&&o.type===b.type){v[y]=void 0;break}b=null}Nt(e,o,b=b||dt,c,n,l,i,m,g),f=o.__e,(y=o.ref)&&b.ref!=y&&(a||(a=[]),b.ref&&a.push(b.ref,null,o),a.push(y,o.__c||f,o)),f!=null?(u==null&&(u=f),typeof o.type=="function"&&o.__k!=null&&o.__k===b.__k?o.__d=m=zr(o,m,e):m=Or(e,o,b,v,f,m),g||t.type!=="option"?typeof t.type=="function"&&(t.__d=m):e.value=""):m&&b.__e==m&&m.parentNode!=e&&(m=rt(b))}for(t.__e=u,p=h;p--;)v[p]!=null&&(typeof t.type=="function"&&v[p].__e!=null&&v[p].__e==t.__d&&(t.__d=rt(d,p+1)),Rr(v[p],v[p]));if(a)for(p=0;p<a.length;p++)Tr(a[p],a[++p],a[++p])}function zr(e,r,t){var d,c;for(d=0;d<e.__k.length;d++)(c=e.__k[d])&&(c.__=e,r=typeof c.type=="function"?zr(c,r,t):Or(t,c,c,e.__k,c.__e,r));return r}function Or(e,r,t,d,c,n){var l,i,m;if(r.__d!==void 0)l=r.__d,r.__d=void 0;else if(t==null||c!=n||c.parentNode==null)e:if(n==null||n.parentNode!==e)e.appendChild(c),l=null;else{for(i=n,m=0;(i=i.nextSibling)&&m<d.length;m+=2)if(i==c)break e;e.insertBefore(c,n),l=n}return l!==void 0?l:c.nextSibling}function dn(e,r,t,d,c){var n;for(n in t)n==="children"||n==="key"||n in r||ht(e,n,null,t[n],d);for(n in r)c&&typeof r[n]!="function"||n==="children"||n==="key"||n==="value"||n==="checked"||t[n]===r[n]||ht(e,n,r[n],t[n],d)}function Kt(e,r,t){r[0]==="-"?e.setProperty(r,t):e[r]=t==null?"":typeof t!="number"||fn.test(r)?t:t+"px"}function ht(e,r,t,d,c){var n;e:if(r==="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof d=="string"&&(e.style.cssText=d=""),d)for(r in d)t&&r in t||Kt(e.style,r,"");if(t)for(r in t)d&&t[r]===d[r]||Kt(e.style,r,t[r])}else if(r[0]==="o"&&r[1]==="n")n=r!==(r=r.replace(/Capture$/,"")),r=r.toLowerCase()in e?r.toLowerCase().slice(2):r.slice(2),e.l||(e.l={}),e.l[r+n]=t,t?d||e.addEventListener(r,n?Jt:Xt,n):e.removeEventListener(r,n?Jt:Xt,n);else if(r!=="dangerouslySetInnerHTML"){if(c)r=r.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(r!=="href"&&r!=="list"&&r!=="form"&&r!=="tabIndex"&&r!=="download"&&r in e)try{e[r]=t==null?"":t;break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||r[0]==="a"&&r[1]==="r")?e.setAttribute(r,t):e.removeAttribute(r))}}function Xt(e){this.l[e.type+!1](ne.event?ne.event(e):e)}function Jt(e){this.l[e.type+!0](ne.event?ne.event(e):e)}function Nt(e,r,t,d,c,n,l,i,m){var g,p,y,b,o,f,u,a,v,h,k,z=r.type;if(r.constructor!==void 0)return null;t.__h!=null&&(m=t.__h,i=r.__e=t.__e,r.__h=null,n=[i]),(g=ne.__b)&&g(r);try{e:if(typeof z=="function"){if(a=r.props,v=(g=z.contextType)&&d[g.__c],h=g?v?v.props.value:g.__:d,t.__c?u=(p=r.__c=t.__c).__=p.__E:("prototype"in z&&z.prototype.render?r.__c=p=new z(a,h):(r.__c=p=new lt(a,h),p.constructor=z,p.render=hn),v&&v.sub(p),p.props=a,p.state||(p.state={}),p.context=h,p.__n=d,y=p.__d=!0,p.__h=[]),p.__s==null&&(p.__s=p.state),z.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Ie({},p.__s)),Ie(p.__s,z.getDerivedStateFromProps(a,p.__s))),b=p.props,o=p.state,y)z.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(z.getDerivedStateFromProps==null&&a!==b&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(a,h),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(a,p.__s,h)===!1||r.__v===t.__v){p.props=a,p.state=p.__s,r.__v!==t.__v&&(p.__d=!1),p.__v=r,r.__e=t.__e,r.__k=t.__k,r.__k.forEach(function(w){w&&(w.__=r)}),p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(a,p.__s,h),p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(b,o,f)})}p.context=h,p.props=a,p.state=p.__s,(g=ne.__r)&&g(r),p.__d=!1,p.__v=r,p.__P=e,g=p.render(p.props,p.state,p.context),p.state=p.__s,p.getChildContext!=null&&(d=Ie(Ie({},d),p.getChildContext())),y||p.getSnapshotBeforeUpdate==null||(f=p.getSnapshotBeforeUpdate(b,o)),k=g!=null&&g.type===Ge&&g.key==null?g.props.children:g,Ar(e,Array.isArray(k)?k:[k],r,t,d,c,n,l,i,m),p.base=r.__e,r.__h=null,p.__h.length&&l.push(p),u&&(p.__E=p.__=null),p.__e=!1}else n==null&&r.__v===t.__v?(r.__k=t.__k,r.__e=t.__e):r.__e=pn(t.__e,r,t,d,c,n,l,m);(g=ne.diffed)&&g(r)}catch(w){r.__v=null,(m||n!=null)&&(r.__e=i,r.__h=!!m,n[n.indexOf(i)]=null),ne.__e(w,r,t)}}function Fr(e,r){ne.__c&&ne.__c(r,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(d){d.call(t)})}catch(d){ne.__e(d,t.__v)}})}function pn(e,r,t,d,c,n,l,i){var m,g,p,y,b=t.props,o=r.props,f=r.type,u=0;if(f==="svg"&&(c=!0),n!=null){for(;u<n.length;u++)if((m=n[u])&&(m===e||(f?m.localName==f:m.nodeType==3))){e=m,n[u]=null;break}}if(e==null){if(f===null)return document.createTextNode(o);e=c?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,o.is&&o),n=null,i=!1}if(f===null)b===o||i&&e.data===o||(e.data=o);else{if(n=n&&Mt.slice.call(e.childNodes),g=(b=t.props||dt).dangerouslySetInnerHTML,p=o.dangerouslySetInnerHTML,!i){if(n!=null)for(b={},y=0;y<e.attributes.length;y++)b[e.attributes[y].name]=e.attributes[y].value;(p||g)&&(p&&(g&&p.__html==g.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(dn(e,o,b,c,i),p)r.__k=[];else if(u=r.props.children,Ar(e,Array.isArray(u)?u:[u],r,t,d,c&&f!=="foreignObject",n,l,e.firstChild,i),n!=null)for(u=n.length;u--;)n[u]!=null&&Er(n[u]);i||("value"in o&&(u=o.value)!==void 0&&(u!==e.value||f==="progress"&&!u)&&ht(e,"value",u,b.value,!1),"checked"in o&&(u=o.checked)!==void 0&&u!==e.checked&&ht(e,"checked",u,b.checked,!1))}return e}function Tr(e,r,t){try{typeof e=="function"?e(r):e.current=r}catch(d){ne.__e(d,t)}}function Rr(e,r,t){var d,c,n;if(ne.unmount&&ne.unmount(e),(d=e.ref)&&(d.current&&d.current!==e.__e||Tr(d,null,r)),t||typeof e.type=="function"||(t=(c=e.__e)!=null),e.__e=e.__d=void 0,(d=e.__c)!=null){if(d.componentWillUnmount)try{d.componentWillUnmount()}catch(l){ne.__e(l,r)}d.base=d.__P=null}if(d=e.__k)for(n=0;n<d.length;n++)d[n]&&Rr(d[n],r,t);c!=null&&Er(c)}function hn(e,r,t){return this.constructor(e,t)}function _n(e,r,t){var d,c,n;ne.__&&ne.__(e,r),c=(d=typeof t=="function")?null:t&&t.__k||r.__k,n=[],Nt(r,e=(!d&&t||r).__k=K(Ge,null,[e]),c||dt,dt,r.ownerSVGElement!==void 0,!d&&t?[t]:c?null:r.firstChild?Mt.slice.call(r.childNodes):null,n,!d&&t?t:c?c.__e:r.firstChild,d),Fr(n,e)}ne={__e:function(e,r){for(var t,d,c;r=r.__;)if((t=r.__c)&&!t.__)try{if((d=t.constructor)&&d.getDerivedStateFromError!=null&&(t.setState(d.getDerivedStateFromError(e)),c=t.__d),t.componentDidCatch!=null&&(t.componentDidCatch(e),c=t.__d),c)return t.__E=t}catch(n){e=n}throw e},__v:0},lt.prototype.setState=function(e,r){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ie({},this.state),typeof e=="function"&&(e=e(Ie({},t),this.props)),e&&Ie(t,e),e!=null&&this.__v&&(r&&this.__h.push(r),Yt(this))},lt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Yt(this))},lt.prototype.render=Ge,Je=[],Cr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,pt.__r=0;var kt,we,Vt,_t=0,At=[],Qt=ne.__b,er=ne.__r,tr=ne.diffed,rr=ne.__c,nr=ne.unmount;function Ut(e,r){ne.__h&&ne.__h(we,e,_t||r),_t=0;var t=we.__H||(we.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function be(e){return _t=1,mn(Lr,e)}function mn(e,r,t){var d=Ut(kt++,2);return d.t=e,d.__c||(d.__=[t?t(r):Lr(void 0,r),function(c){var n=d.t(d.__[0],c);d.__[0]!==n&&(d.__=[n,d.__[1]],d.__c.setState({}))}],d.__c=we),d.__}function ir(e,r){var t=Ut(kt++,3);!ne.__s&&Ir(t.__H,r)&&(t.__=e,t.__H=r,we.__H.__h.push(t))}function zt(e){return _t=5,vn(function(){return{current:e}},[])}function vn(e,r){var t=Ut(kt++,7);return Ir(t.__H,r)&&(t.__=e(),t.__H=r,t.__h=e),t.__}function gn(){At.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(ut),e.__H.__h.forEach(Ot),e.__H.__h=[]}catch(r){e.__H.__h=[],ne.__e(r,e.__v)}}),At=[]}ne.__b=function(e){we=null,Qt&&Qt(e)},ne.__r=function(e){er&&er(e),kt=0;var r=(we=e.__c).__H;r&&(r.__h.forEach(ut),r.__h.forEach(Ot),r.__h=[])},ne.diffed=function(e){tr&&tr(e);var r=e.__c;r&&r.__H&&r.__H.__h.length&&(At.push(r)!==1&&Vt===ne.requestAnimationFrame||((Vt=ne.requestAnimationFrame)||function(t){var d,c=function(){clearTimeout(n),or&&cancelAnimationFrame(d),setTimeout(t)},n=setTimeout(c,100);or&&(d=requestAnimationFrame(c))})(gn)),we=void 0},ne.__c=function(e,r){r.some(function(t){try{t.__h.forEach(ut),t.__h=t.__h.filter(function(d){return!d.__||Ot(d)})}catch(d){r.some(function(c){c.__h&&(c.__h=[])}),r=[],ne.__e(d,t.__v)}}),rr&&rr(e,r)},ne.unmount=function(e){nr&&nr(e);var r=e.__c;if(r&&r.__H)try{r.__H.__.forEach(ut)}catch(t){ne.__e(t,r.__v)}};var or=typeof requestAnimationFrame=="function";function ut(e){var r=we;typeof e.__c=="function"&&e.__c(),we=r}function Ot(e){var r=we;e.__c=e.__(),we=r}function Ir(e,r){return!e||e.length!==r.length||r.some(function(t,d){return t!==e[d]})}function Lr(e,r){return typeof r=="function"?r(e):r}var Ft=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function st(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dr={exports:{}};(function(e,r){(function(d,c){e.exports=c()})(Ft,function(){return function(t){var d={};function c(n){if(d[n])return d[n].exports;var l=d[n]={exports:{},id:n,loaded:!1};return t[n].call(l.exports,l,l.exports,c),l.loaded=!0,l.exports}return c.m=t,c.c=d,c.p="",c(0)}([function(t,d,c){var n,l;n=[c(1)],l=function(i){var m={},g=function(A,O,F){var M,G,E={},R,_,j,V,$,re=new u(F),W=F&&F.traceFormat;if(W!=="chrome"&&W!=="firefox"){if(W)throw new Error('unknown traceFormat "'+W+'" :(');if(p()||o())W="chrome";else if(y()||b())W="firefox";else throw new Error("unknown browser :(")}W==="chrome"?(V=/^ +at.+\((.*):([0-9]+):([0-9]+)/,j=4,$=1):(V=/@(.*):([0-9]+):([0-9]+)/,j=4,$=0),M=A.split(`
`).slice($);for(var ee=0;ee<M.length;ee++)G=M[ee],!(F&&F.filter&&!F.filter(G))&&(R=G.match(V),R&&R.length===j&&(E[ee]=R,_=R[1],_.match(/<anonymous>/)||re.fetchScript(_)));re.sem.whenReady(function(){var D=v(M,E,re.mapForUri,W);O(D)})},p=function(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1},y=function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1},b=function(){return navigator.userAgent.toLowerCase().indexOf("safari")>-1},o=function(){return document.documentMode&&document.documentMode>=11},f=function(){this.count=0,this.pending=[]};f.prototype.incr=function(){this.count++},f.prototype.decr=function(){this.count--,this.flush()},f.prototype.whenReady=function(A){this.pending.push(A),this.flush()},f.prototype.flush=function(){this.count===0&&(this.pending.forEach(function(A){A()}),this.pending=[])};var u=function(A){this.sem=new f,this.sync=A&&A.sync,this.mapForUri=A&&A.cacheGlobally?m:{}};u.prototype.ajax=function(A,O){var F=S(),M=this;F.onreadystatechange=function(){F.readyState==4&&O.call(M,F,A)},F.open("GET",A,!this.sync),F.send()},u.prototype.fetchScript=function(A){if(!(A in this.mapForUri))this.sem.incr(),this.mapForUri[A]=null;else return;this.ajax(A,this.onScriptLoad)};var a=new RegExp("^(?:[a-z]+:)?//","i");u.prototype.onScriptLoad=function(A,O){if(A.status===200||O.slice(0,7)==="file://"&&A.status===0){var F=A.responseText.match("//# [s]ourceMappingURL=(.*)[\\s]*$","m");if(F&&F.length===2){var M=F[1],G=M.match("data:application/json;(charset=[^;]+;)?base64,(.*)");if(G&&G[2])this.mapForUri[O]=new i.SourceMapConsumer(atob(G[2])),this.sem.decr();else{if(!a.test(M)){var E,R=O.lastIndexOf("/");R!==-1&&(E=O.slice(0,R+1),M=E+M)}this.ajax(M,function(_){(_.status===200||M.slice(0,7)==="file://"&&_.status===0)&&(this.mapForUri[O]=new i.SourceMapConsumer(_.responseText)),this.sem.decr()})}}else this.sem.decr()}else this.sem.decr()};var v=function(A,O,F,M){for(var G=[],E,R=M==="chrome"?h:k,_=0;_<A.length;_++){var j=O[_];if(j){var V=j[1],$=parseInt(j[2],10),re=parseInt(j[3],10);if(E=F[V],E){var W=E.originalPositionFor({line:$,column:re});G.push(z(W.source,W.line,W.column,W.name||R(A[_])))}else G.push(z(V,$,re,R(A[_])))}else G.push(A[_])}return G};function h(A){var O=/ +at +([^ ]*).*/.exec(A);return O&&O[1]}function k(A){var O=/([^@]*)@.*/.exec(A);return O&&O[1]}var z=function(A,O,F,M){return"    at "+(M||"(unknown)")+" ("+A+":"+O+":"+F+")"},w=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];function S(){for(var A=!1,O=0;O<w.length;O++){try{A=w[O]()}catch{continue}break}return A}return{mapStackTrace:g}}.apply(d,n),l!==void 0&&(t.exports=l)},function(t,d,c){var n=c(2),l=c(3),i=c(4).ArraySet,m=c(5),g=c(7).quickSort;function p(f){var u=f;return typeof f=="string"&&(u=JSON.parse(f.replace(/^\)\]\}'/,""))),u.sections!=null?new o(u):new y(u)}p.fromSourceMap=function(f){return y.fromSourceMap(f)},p.prototype._version=3,p.prototype.__generatedMappings=null,Object.defineProperty(p.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),p.prototype.__originalMappings=null,Object.defineProperty(p.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),p.prototype._charIsMappingSeparator=function(u,a){var v=u.charAt(a);return v===";"||v===","},p.prototype._parseMappings=function(u,a){throw new Error("Subclasses must implement _parseMappings")},p.GENERATED_ORDER=1,p.ORIGINAL_ORDER=2,p.GREATEST_LOWER_BOUND=1,p.LEAST_UPPER_BOUND=2,p.prototype.eachMapping=function(u,a,v){var h=a||null,k=v||p.GENERATED_ORDER,z;switch(k){case p.GENERATED_ORDER:z=this._generatedMappings;break;case p.ORIGINAL_ORDER:z=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var w=this.sourceRoot;z.map(function(S){var A=S.source===null?null:this._sources.at(S.source);return A!=null&&w!=null&&(A=n.join(w,A)),{source:A,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(u,h)},p.prototype.allGeneratedPositionsFor=function(u){var a=n.getArg(u,"line"),v={source:n.getArg(u,"source"),originalLine:a,originalColumn:n.getArg(u,"column",0)};if(this.sourceRoot!=null&&(v.source=n.relative(this.sourceRoot,v.source)),!this._sources.has(v.source))return[];v.source=this._sources.indexOf(v.source);var h=[],k=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,l.LEAST_UPPER_BOUND);if(k>=0){var z=this._originalMappings[k];if(u.column===void 0)for(var w=z.originalLine;z&&z.originalLine===w;)h.push({line:n.getArg(z,"generatedLine",null),column:n.getArg(z,"generatedColumn",null),lastColumn:n.getArg(z,"lastGeneratedColumn",null)}),z=this._originalMappings[++k];else for(var S=z.originalColumn;z&&z.originalLine===a&&z.originalColumn==S;)h.push({line:n.getArg(z,"generatedLine",null),column:n.getArg(z,"generatedColumn",null),lastColumn:n.getArg(z,"lastGeneratedColumn",null)}),z=this._originalMappings[++k]}return h},d.SourceMapConsumer=p;function y(f){var u=f;typeof f=="string"&&(u=JSON.parse(f.replace(/^\)\]\}'/,"")));var a=n.getArg(u,"version"),v=n.getArg(u,"sources"),h=n.getArg(u,"names",[]),k=n.getArg(u,"sourceRoot",null),z=n.getArg(u,"sourcesContent",null),w=n.getArg(u,"mappings"),S=n.getArg(u,"file",null);if(a!=this._version)throw new Error("Unsupported version: "+a);v=v.map(String).map(n.normalize).map(function(A){return k&&n.isAbsolute(k)&&n.isAbsolute(A)?n.relative(k,A):A}),this._names=i.fromArray(h.map(String),!0),this._sources=i.fromArray(v,!0),this.sourceRoot=k,this.sourcesContent=z,this._mappings=w,this.file=S}y.prototype=Object.create(p.prototype),y.prototype.consumer=p,y.fromSourceMap=function(u){var a=Object.create(y.prototype),v=a._names=i.fromArray(u._names.toArray(),!0),h=a._sources=i.fromArray(u._sources.toArray(),!0);a.sourceRoot=u._sourceRoot,a.sourcesContent=u._generateSourcesContent(a._sources.toArray(),a.sourceRoot),a.file=u._file;for(var k=u._mappings.toArray().slice(),z=a.__generatedMappings=[],w=a.__originalMappings=[],S=0,A=k.length;S<A;S++){var O=k[S],F=new b;F.generatedLine=O.generatedLine,F.generatedColumn=O.generatedColumn,O.source&&(F.source=h.indexOf(O.source),F.originalLine=O.originalLine,F.originalColumn=O.originalColumn,O.name&&(F.name=v.indexOf(O.name)),w.push(F)),z.push(F)}return g(a.__originalMappings,n.compareByOriginalPositions),a},y.prototype._version=3,Object.defineProperty(y.prototype,"sources",{get:function(){return this._sources.toArray().map(function(f){return this.sourceRoot!=null?n.join(this.sourceRoot,f):f},this)}});function b(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}y.prototype._parseMappings=function(u,a){for(var v=1,h=0,k=0,z=0,w=0,S=0,A=u.length,O=0,F={},M={},G=[],E=[],R,_,j,V,$;O<A;)if(u.charAt(O)===";")v++,O++,h=0;else if(u.charAt(O)===",")O++;else{for(R=new b,R.generatedLine=v,V=O;V<A&&!this._charIsMappingSeparator(u,V);V++);if(_=u.slice(O,V),j=F[_],j)O+=_.length;else{for(j=[];O<V;)m.decode(u,O,M),$=M.value,O=M.rest,j.push($);if(j.length===2)throw new Error("Found a source, but no line and column");if(j.length===3)throw new Error("Found a source and line, but no column");F[_]=j}R.generatedColumn=h+j[0],h=R.generatedColumn,j.length>1&&(R.source=w+j[1],w+=j[1],R.originalLine=k+j[2],k=R.originalLine,R.originalLine+=1,R.originalColumn=z+j[3],z=R.originalColumn,j.length>4&&(R.name=S+j[4],S+=j[4])),E.push(R),typeof R.originalLine=="number"&&G.push(R)}g(E,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,g(G,n.compareByOriginalPositions),this.__originalMappings=G},y.prototype._findMapping=function(u,a,v,h,k,z){if(u[v]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+u[v]);if(u[h]<0)throw new TypeError("Column must be greater than or equal to 0, got "+u[h]);return l.search(u,a,k,z)},y.prototype.computeColumnSpans=function(){for(var u=0;u<this._generatedMappings.length;++u){var a=this._generatedMappings[u];if(u+1<this._generatedMappings.length){var v=this._generatedMappings[u+1];if(a.generatedLine===v.generatedLine){a.lastGeneratedColumn=v.generatedColumn-1;continue}}a.lastGeneratedColumn=1/0}},y.prototype.originalPositionFor=function(u){var a={generatedLine:n.getArg(u,"line"),generatedColumn:n.getArg(u,"column")},v=this._findMapping(a,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(u,"bias",p.GREATEST_LOWER_BOUND));if(v>=0){var h=this._generatedMappings[v];if(h.generatedLine===a.generatedLine){var k=n.getArg(h,"source",null);k!==null&&(k=this._sources.at(k),this.sourceRoot!=null&&(k=n.join(this.sourceRoot,k)));var z=n.getArg(h,"name",null);return z!==null&&(z=this._names.at(z)),{source:k,line:n.getArg(h,"originalLine",null),column:n.getArg(h,"originalColumn",null),name:z}}}return{source:null,line:null,column:null,name:null}},y.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(u){return u==null}):!1},y.prototype.sourceContentFor=function(u,a){if(!this.sourcesContent)return null;if(this.sourceRoot!=null&&(u=n.relative(this.sourceRoot,u)),this._sources.has(u))return this.sourcesContent[this._sources.indexOf(u)];var v;if(this.sourceRoot!=null&&(v=n.urlParse(this.sourceRoot))){var h=u.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(h))return this.sourcesContent[this._sources.indexOf(h)];if((!v.path||v.path=="/")&&this._sources.has("/"+u))return this.sourcesContent[this._sources.indexOf("/"+u)]}if(a)return null;throw new Error('"'+u+'" is not in the SourceMap.')},y.prototype.generatedPositionFor=function(u){var a=n.getArg(u,"source");if(this.sourceRoot!=null&&(a=n.relative(this.sourceRoot,a)),!this._sources.has(a))return{line:null,column:null,lastColumn:null};a=this._sources.indexOf(a);var v={source:a,originalLine:n.getArg(u,"line"),originalColumn:n.getArg(u,"column")},h=this._findMapping(v,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(u,"bias",p.GREATEST_LOWER_BOUND));if(h>=0){var k=this._originalMappings[h];if(k.source===v.source)return{line:n.getArg(k,"generatedLine",null),column:n.getArg(k,"generatedColumn",null),lastColumn:n.getArg(k,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},d.BasicSourceMapConsumer=y;function o(f){var u=f;typeof f=="string"&&(u=JSON.parse(f.replace(/^\)\]\}'/,"")));var a=n.getArg(u,"version"),v=n.getArg(u,"sections");if(a!=this._version)throw new Error("Unsupported version: "+a);this._sources=new i,this._names=new i;var h={line:-1,column:0};this._sections=v.map(function(k){if(k.url)throw new Error("Support for url field in sections not implemented.");var z=n.getArg(k,"offset"),w=n.getArg(z,"line"),S=n.getArg(z,"column");if(w<h.line||w===h.line&&S<h.column)throw new Error("Section offsets must be ordered and non-overlapping.");return h=z,{generatedOffset:{generatedLine:w+1,generatedColumn:S+1},consumer:new p(n.getArg(k,"map"))}})}o.prototype=Object.create(p.prototype),o.prototype.constructor=p,o.prototype._version=3,Object.defineProperty(o.prototype,"sources",{get:function(){for(var f=[],u=0;u<this._sections.length;u++)for(var a=0;a<this._sections[u].consumer.sources.length;a++)f.push(this._sections[u].consumer.sources[a]);return f}}),o.prototype.originalPositionFor=function(u){var a={generatedLine:n.getArg(u,"line"),generatedColumn:n.getArg(u,"column")},v=l.search(a,this._sections,function(k,z){var w=k.generatedLine-z.generatedOffset.generatedLine;return w||k.generatedColumn-z.generatedOffset.generatedColumn}),h=this._sections[v];return h?h.consumer.originalPositionFor({line:a.generatedLine-(h.generatedOffset.generatedLine-1),column:a.generatedColumn-(h.generatedOffset.generatedLine===a.generatedLine?h.generatedOffset.generatedColumn-1:0),bias:u.bias}):{source:null,line:null,column:null,name:null}},o.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(u){return u.consumer.hasContentsOfAllSources()})},o.prototype.sourceContentFor=function(u,a){for(var v=0;v<this._sections.length;v++){var h=this._sections[v],k=h.consumer.sourceContentFor(u,!0);if(k)return k}if(a)return null;throw new Error('"'+u+'" is not in the SourceMap.')},o.prototype.generatedPositionFor=function(u){for(var a=0;a<this._sections.length;a++){var v=this._sections[a];if(v.consumer.sources.indexOf(n.getArg(u,"source"))!==-1){var h=v.consumer.generatedPositionFor(u);if(h){var k={line:h.line+(v.generatedOffset.generatedLine-1),column:h.column+(v.generatedOffset.generatedLine===h.line?v.generatedOffset.generatedColumn-1:0)};return k}}}return{line:null,column:null}},o.prototype._parseMappings=function(u,a){this.__generatedMappings=[],this.__originalMappings=[];for(var v=0;v<this._sections.length;v++)for(var h=this._sections[v],k=h.consumer._generatedMappings,z=0;z<k.length;z++){var w=k[z],S=h.consumer._sources.at(w.source);h.consumer.sourceRoot!==null&&(S=n.join(h.consumer.sourceRoot,S)),this._sources.add(S),S=this._sources.indexOf(S);var A=h.consumer._names.at(w.name);this._names.add(A),A=this._names.indexOf(A);var O={source:S,generatedLine:w.generatedLine+(h.generatedOffset.generatedLine-1),generatedColumn:w.generatedColumn+(h.generatedOffset.generatedLine===w.generatedLine?h.generatedOffset.generatedColumn-1:0),originalLine:w.originalLine,originalColumn:w.originalColumn,name:A};this.__generatedMappings.push(O),typeof O.originalLine=="number"&&this.__originalMappings.push(O)}g(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),g(this.__originalMappings,n.compareByOriginalPositions)},d.IndexedSourceMapConsumer=o},function(t,d){function c(w,S,A){if(S in w)return w[S];if(arguments.length===3)return A;throw new Error('"'+S+'" is a required argument.')}d.getArg=c;var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,l=/^data:.+\,.+$/;function i(w){var S=w.match(n);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}d.urlParse=i;function m(w){var S="";return w.scheme&&(S+=w.scheme+":"),S+="//",w.auth&&(S+=w.auth+"@"),w.host&&(S+=w.host),w.port&&(S+=":"+w.port),w.path&&(S+=w.path),S}d.urlGenerate=m;function g(w){var S=w,A=i(w);if(A){if(!A.path)return w;S=A.path}for(var O=d.isAbsolute(S),F=S.split(/\/+/),M,G=0,E=F.length-1;E>=0;E--)M=F[E],M==="."?F.splice(E,1):M===".."?G++:G>0&&(M===""?(F.splice(E+1,G),G=0):(F.splice(E,2),G--));return S=F.join("/"),S===""&&(S=O?"/":"."),A?(A.path=S,m(A)):S}d.normalize=g;function p(w,S){w===""&&(w="."),S===""&&(S=".");var A=i(S),O=i(w);if(O&&(w=O.path||"/"),A&&!A.scheme)return O&&(A.scheme=O.scheme),m(A);if(A||S.match(l))return S;if(O&&!O.host&&!O.path)return O.host=S,m(O);var F=S.charAt(0)==="/"?S:g(w.replace(/\/+$/,"")+"/"+S);return O?(O.path=F,m(O)):F}d.join=p,d.isAbsolute=function(w){return w.charAt(0)==="/"||!!w.match(n)};function y(w,S){w===""&&(w="."),w=w.replace(/\/$/,"");for(var A=0;S.indexOf(w+"/")!==0;){var O=w.lastIndexOf("/");if(O<0||(w=w.slice(0,O),w.match(/^([^\/]+:\/)?\/*$/)))return S;++A}return Array(A+1).join("../")+S.substr(w.length+1)}d.relative=y;var b=function(){var w=Object.create(null);return!("__proto__"in w)}();function o(w){return w}function f(w){return a(w)?"$"+w:w}d.toSetString=b?o:f;function u(w){return a(w)?w.slice(1):w}d.fromSetString=b?o:u;function a(w){if(!w)return!1;var S=w.length;if(S<9||w.charCodeAt(S-1)!==95||w.charCodeAt(S-2)!==95||w.charCodeAt(S-3)!==111||w.charCodeAt(S-4)!==116||w.charCodeAt(S-5)!==111||w.charCodeAt(S-6)!==114||w.charCodeAt(S-7)!==112||w.charCodeAt(S-8)!==95||w.charCodeAt(S-9)!==95)return!1;for(var A=S-10;A>=0;A--)if(w.charCodeAt(A)!==36)return!1;return!0}function v(w,S,A){var O=w.source-S.source;return O!==0||(O=w.originalLine-S.originalLine,O!==0)||(O=w.originalColumn-S.originalColumn,O!==0||A)||(O=w.generatedColumn-S.generatedColumn,O!==0)||(O=w.generatedLine-S.generatedLine,O!==0)?O:w.name-S.name}d.compareByOriginalPositions=v;function h(w,S,A){var O=w.generatedLine-S.generatedLine;return O!==0||(O=w.generatedColumn-S.generatedColumn,O!==0||A)||(O=w.source-S.source,O!==0)||(O=w.originalLine-S.originalLine,O!==0)||(O=w.originalColumn-S.originalColumn,O!==0)?O:w.name-S.name}d.compareByGeneratedPositionsDeflated=h;function k(w,S){return w===S?0:w>S?1:-1}function z(w,S){var A=w.generatedLine-S.generatedLine;return A!==0||(A=w.generatedColumn-S.generatedColumn,A!==0)||(A=k(w.source,S.source),A!==0)||(A=w.originalLine-S.originalLine,A!==0)||(A=w.originalColumn-S.originalColumn,A!==0)?A:k(w.name,S.name)}d.compareByGeneratedPositionsInflated=z},function(t,d){d.GREATEST_LOWER_BOUND=1,d.LEAST_UPPER_BOUND=2;function c(n,l,i,m,g,p){var y=Math.floor((l-n)/2)+n,b=g(i,m[y],!0);return b===0?y:b>0?l-y>1?c(y,l,i,m,g,p):p==d.LEAST_UPPER_BOUND?l<m.length?l:-1:y:y-n>1?c(n,y,i,m,g,p):p==d.LEAST_UPPER_BOUND?y:n<0?-1:n}d.search=function(l,i,m,g){if(i.length===0)return-1;var p=c(-1,i.length,l,i,m,g||d.GREATEST_LOWER_BOUND);if(p<0)return-1;for(;p-1>=0&&m(i[p],i[p-1],!0)===0;)--p;return p}},function(t,d,c){var n=c(2),l=Object.prototype.hasOwnProperty;function i(){this._array=[],this._set=Object.create(null)}i.fromArray=function(g,p){for(var y=new i,b=0,o=g.length;b<o;b++)y.add(g[b],p);return y},i.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(g,p){var y=n.toSetString(g),b=l.call(this._set,y),o=this._array.length;(!b||p)&&this._array.push(g),b||(this._set[y]=o)},i.prototype.has=function(g){var p=n.toSetString(g);return l.call(this._set,p)},i.prototype.indexOf=function(g){var p=n.toSetString(g);if(l.call(this._set,p))return this._set[p];throw new Error('"'+g+'" is not in the set.')},i.prototype.at=function(g){if(g>=0&&g<this._array.length)return this._array[g];throw new Error("No element indexed by "+g)},i.prototype.toArray=function(){return this._array.slice()},d.ArraySet=i},function(t,d,c){var n=c(6),l=5,i=1<<l,m=i-1,g=i;function p(b){return b<0?(-b<<1)+1:(b<<1)+0}function y(b){var o=(b&1)===1,f=b>>1;return o?-f:f}d.encode=function(o){var f="",u,a=p(o);do u=a&m,a>>>=l,a>0&&(u|=g),f+=n.encode(u);while(a>0);return f},d.decode=function(o,f,u){var a=o.length,v=0,h=0,k,z;do{if(f>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(z=n.decode(o.charCodeAt(f++)),z===-1)throw new Error("Invalid base64 digit: "+o.charAt(f-1));k=!!(z&g),z&=m,v=v+(z<<h),h+=l}while(k);u.value=y(v),u.rest=f}},function(t,d){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");d.encode=function(n){if(0<=n&&n<c.length)return c[n];throw new TypeError("Must be between 0 and 63: "+n)},d.decode=function(n){var l=65,i=90,m=97,g=122,p=48,y=57,b=43,o=47,f=26,u=52;return l<=n&&n<=i?n-l:m<=n&&n<=g?n-m+f:p<=n&&n<=y?n-p+u:n==b?62:n==o?63:-1}},function(t,d){function c(i,m,g){var p=i[m];i[m]=i[g],i[g]=p}function n(i,m){return Math.round(i+Math.random()*(m-i))}function l(i,m,g,p){if(g<p){var y=n(g,p),b=g-1;c(i,y,p);for(var o=i[p],f=g;f<p;f++)m(i[f],o)<=0&&(b+=1,c(i,b,f));c(i,b+1,f);var u=b+1;l(i,m,g,u-1),l(i,m,u+1,p)}}d.quickSort=function(i,m){l(i,m,0,i.length-1)}}])})})(Dr);function Ue({name:e,value:r,onChange:t}){return K("label",{class:"config"},K("input",{type:"checkbox",checked:r,onChange:d=>t(d.target.checked)}),e)}const Re={alert:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})),download:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M7.47 10.78a.75.75 0 001.06 0l3.75-3.75a.75.75 0 00-1.06-1.06L8.75 8.44V1.75a.75.75 0 00-1.5 0v6.69L4.78 5.97a.75.75 0 00-1.06 1.06l3.75 3.75zM3.75 13a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5z"})),heart:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"})),report:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M1.75 1.5a.25.25 0 00-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h6.5a.25.25 0 00.25-.25v-9.5a.25.25 0 00-.25-.25H1.75zM0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0114.25 13H8.06l-2.573 2.573A1.457 1.457 0 013 14.543V13H1.75A1.75 1.75 0 010 11.25v-9.5zM9 9a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"})),sync:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M8 2.5a5.487 5.487 0 00-4.131 1.869l1.204 1.204A.25.25 0 014.896 6H1.25A.25.25 0 011 5.75V2.104a.25.25 0 01.427-.177l1.38 1.38A7.001 7.001 0 0114.95 7.16a.75.75 0 11-1.49.178A5.501 5.501 0 008 2.5zM1.705 8.005a.75.75 0 01.834.656 5.501 5.501 0 009.592 2.97l-1.204-1.204a.25.25 0 01.177-.427h3.646a.25.25 0 01.25.25v3.646a.25.25 0 01-.427.177l-1.38-1.38A7.001 7.001 0 011.05 8.84a.75.75 0 01.656-.834z"})),x:K("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},K("path",{"fill-rule":"evenodd",d:"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z"}))},yn=/^(?:( )+|\t+)/,nt="space",jr="tab";function ar(e,r){const t=new Map;let d=0,c,n;for(const l of e.split(/\n/g)){if(!l)continue;let i,m,g,p;const y=l.match(yn);if(y===null)d=0,c="";else{if(i=y[0].length,y[1]?m=nt:m=jr,r&&m===nt&&i===1)continue;m!==c&&(d=0),c=m,g=0;const b=i-d;if(d=i,b===0)g++;else{const o=b>0?b:-b;n=bn(m,o)}p=t.get(n),p===void 0?p=[1,0]:p=[++p[0],p[1]+g],t.set(n,p)}}return t}function bn(e,r){return(e===nt?"s":"t")+String(r)}function wn(e){const t=e[0]==="s"?nt:jr,d=Number(e.slice(1));return{type:t,amount:d}}function kn(e){let r,t=0,d=0;for(const[c,[n,l]]of e)(n>t||n===t&&l>d)&&(t=n,d=l,r=c);return r}function xn(e,r){return(e===nt?" ":"	").repeat(r)}var Cn=e=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=ar(e,!0);r.size===0&&(r=ar(e,!1));const t=kn(r);let d,c=0,n="";return t!==void 0&&({type:d,amount:c}=wn(t),n=xn(d,c)),{amount:c,type:d,indent:n}},Pr={exports:{}};/*!

JSZip v3.7.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/master/LICENSE
*/(function(e,r){(function(t){e.exports=t()})(function(){return function t(d,c,n){function l(g,p){if(!c[g]){if(!d[g]){var y=typeof st=="function"&&st;if(!p&&y)return y(g,!0);if(i)return i(g,!0);var b=new Error("Cannot find module '"+g+"'");throw b.code="MODULE_NOT_FOUND",b}var o=c[g]={exports:{}};d[g][0].call(o.exports,function(f){var u=d[g][1][f];return l(u||f)},o,o.exports,t,d,c,n)}return c[g].exports}for(var i=typeof st=="function"&&st,m=0;m<n.length;m++)l(n[m]);return l}({1:[function(t,d,c){var n=t("./utils"),l=t("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(m){for(var g,p,y,b,o,f,u,a=[],v=0,h=m.length,k=h,z=n.getTypeOf(m)!=="string";v<m.length;)k=h-v,y=z?(g=m[v++],p=v<h?m[v++]:0,v<h?m[v++]:0):(g=m.charCodeAt(v++),p=v<h?m.charCodeAt(v++):0,v<h?m.charCodeAt(v++):0),b=g>>2,o=(3&g)<<4|p>>4,f=1<k?(15&p)<<2|y>>6:64,u=2<k?63&y:64,a.push(i.charAt(b)+i.charAt(o)+i.charAt(f)+i.charAt(u));return a.join("")},c.decode=function(m){var g,p,y,b,o,f,u=0,a=0,v="data:";if(m.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var h,k=3*(m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(m.charAt(m.length-1)===i.charAt(64)&&k--,m.charAt(m.length-2)===i.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=l.uint8array?new Uint8Array(0|k):new Array(0|k);u<m.length;)g=i.indexOf(m.charAt(u++))<<2|(b=i.indexOf(m.charAt(u++)))>>4,p=(15&b)<<4|(o=i.indexOf(m.charAt(u++)))>>2,y=(3&o)<<6|(f=i.indexOf(m.charAt(u++))),h[a++]=g,o!==64&&(h[a++]=p),f!==64&&(h[a++]=y);return h}},{"./support":30,"./utils":32}],2:[function(t,d,c){var n=t("./external"),l=t("./stream/DataWorker"),i=t("./stream/Crc32Probe"),m=t("./stream/DataLengthProbe");function g(p,y,b,o,f){this.compressedSize=p,this.uncompressedSize=y,this.crc32=b,this.compression=o,this.compressedContent=f}g.prototype={getContentWorker:function(){var p=new l(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),y=this;return p.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new l(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(p,y,b){return p.pipe(new i).pipe(new m("uncompressedSize")).pipe(y.compressWorker(b)).pipe(new m("compressedSize")).withStreamInfo("compression",y)},d.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,d,c){var n=t("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(l){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},c.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,d,c){var n=t("./utils"),l=function(){for(var i,m=[],g=0;g<256;g++){i=g;for(var p=0;p<8;p++)i=1&i?3988292384^i>>>1:i>>>1;m[g]=i}return m}();d.exports=function(i,m){return i!==void 0&&i.length?n.getTypeOf(i)!=="string"?function(g,p,y,b){var o=l,f=b+y;g^=-1;for(var u=b;u<f;u++)g=g>>>8^o[255&(g^p[u])];return-1^g}(0|m,i,i.length,0):function(g,p,y,b){var o=l,f=b+y;g^=-1;for(var u=b;u<f;u++)g=g>>>8^o[255&(g^p.charCodeAt(u))];return-1^g}(0|m,i,i.length,0):0}},{"./utils":32}],5:[function(t,d,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(t,d,c){var n=null;n=typeof Promise!="undefined"?Promise:t("lie"),d.exports={Promise:n}},{lie:37}],7:[function(t,d,c){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",l=t("pako"),i=t("./utils"),m=t("./stream/GenericWorker"),g=n?"uint8array":"array";function p(y,b){m.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=b,this.meta={}}c.magic="\b\0",i.inherits(p,m),p.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(g,y.data),!1)},p.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(b){y.push({data:b,meta:y.meta})}},c.compressWorker=function(y){return new p("Deflate",y)},c.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,d,c){function n(o,f){var u,a="";for(u=0;u<f;u++)a+=String.fromCharCode(255&o),o>>>=8;return a}function l(o,f,u,a,v,h){var k,z,w=o.file,S=o.compression,A=h!==g.utf8encode,O=i.transformTo("string",h(w.name)),F=i.transformTo("string",g.utf8encode(w.name)),M=w.comment,G=i.transformTo("string",h(M)),E=i.transformTo("string",g.utf8encode(M)),R=F.length!==w.name.length,_=E.length!==M.length,j="",V="",$="",re=w.dir,W=w.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};f&&!u||(ee.crc32=o.crc32,ee.compressedSize=o.compressedSize,ee.uncompressedSize=o.uncompressedSize);var D=0;f&&(D|=8),A||!R&&!_||(D|=2048);var L=0,te=0;re&&(L|=16),v==="UNIX"?(te=798,L|=function(Y,le){var pe=Y;return Y||(pe=le?16893:33204),(65535&pe)<<16}(w.unixPermissions,re)):(te=20,L|=function(Y){return 63&(Y||0)}(w.dosPermissions)),k=W.getUTCHours(),k<<=6,k|=W.getUTCMinutes(),k<<=5,k|=W.getUTCSeconds()/2,z=W.getUTCFullYear()-1980,z<<=4,z|=W.getUTCMonth()+1,z<<=5,z|=W.getUTCDate(),R&&(V=n(1,1)+n(p(O),4)+F,j+="up"+n(V.length,2)+V),_&&($=n(1,1)+n(p(G),4)+E,j+="uc"+n($.length,2)+$);var X="";return X+=`
\0`,X+=n(D,2),X+=S.magic,X+=n(k,2),X+=n(z,2),X+=n(ee.crc32,4),X+=n(ee.compressedSize,4),X+=n(ee.uncompressedSize,4),X+=n(O.length,2),X+=n(j.length,2),{fileRecord:y.LOCAL_FILE_HEADER+X+O+j,dirRecord:y.CENTRAL_FILE_HEADER+n(te,2)+X+n(G.length,2)+"\0\0\0\0"+n(L,4)+n(a,4)+O+j+G}}var i=t("../utils"),m=t("../stream/GenericWorker"),g=t("../utf8"),p=t("../crc32"),y=t("../signature");function b(o,f,u,a){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=f,this.zipPlatform=u,this.encodeFileName=a,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(b,m),b.prototype.push=function(o){var f=o.meta.percent||0,u=this.entriesCount,a=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,m.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:u?(f+100*(u-a-1))/u:100}}))},b.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var f=this.streamFiles&&!o.file.dir;if(f){var u=l(o,f,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(o){this.accumulate=!1;var f=this.streamFiles&&!o.file.dir,u=l(o,f,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),f)this.push({data:function(a){return y.DATA_DESCRIPTOR+n(a.crc32,4)+n(a.compressedSize,4)+n(a.uncompressedSize,4)}(o),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var o=this.bytesWritten,f=0;f<this.dirRecords.length;f++)this.push({data:this.dirRecords[f],meta:{percent:100}});var u=this.bytesWritten-o,a=function(v,h,k,z,w){var S=i.transformTo("string",w(z));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(v,2)+n(v,2)+n(h,4)+n(k,4)+n(S.length,2)+S}(this.dirRecords.length,u,o,this.zipComment,this.encodeFileName);this.push({data:a,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(o){this._sources.push(o);var f=this;return o.on("data",function(u){f.processChunk(u)}),o.on("end",function(){f.closedSource(f.previous.streamInfo),f._sources.length?f.prepareNextSource():f.end()}),o.on("error",function(u){f.error(u)}),this},b.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(o){var f=this._sources;if(!m.prototype.error.call(this,o))return!1;for(var u=0;u<f.length;u++)try{f[u].error(o)}catch{}return!0},b.prototype.lock=function(){m.prototype.lock.call(this);for(var o=this._sources,f=0;f<o.length;f++)o[f].lock()},d.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,d,c){var n=t("../compressions"),l=t("./ZipFileWorker");c.generateWorker=function(i,m,g){var p=new l(m.streamFiles,g,m.platform,m.encodeFileName),y=0;try{i.forEach(function(b,o){y++;var f=function(h,k){var z=h||k,w=n[z];if(!w)throw new Error(z+" is not a valid compression method !");return w}(o.options.compression,m.compression),u=o.options.compressionOptions||m.compressionOptions||{},a=o.dir,v=o.date;o._compressWorker(f,u).withStreamInfo("file",{name:b,dir:a,date:v,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(p)}),p.entriesCount=y}catch(b){p.error(b)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,d,c){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new n;for(var i in this)typeof this[i]!="function"&&(l[i]=this[i]);return l}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.7.1",n.loadAsync=function(l,i){return new n().loadAsync(l,i)},n.external=t("./external"),d.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,d,c){var n=t("./utils"),l=t("./external"),i=t("./utf8"),m=t("./zipEntries"),g=t("./stream/Crc32Probe"),p=t("./nodejsUtils");function y(b){return new l.Promise(function(o,f){var u=b.decompressed.getContentWorker().pipe(new g);u.on("error",function(a){f(a)}).on("end",function(){u.streamInfo.crc32!==b.decompressed.crc32?f(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}d.exports=function(b,o){var f=this;return o=n.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),p.isNode&&p.isStream(b)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",b,!0,o.optimizedBinaryString,o.base64).then(function(u){var a=new m(o);return a.load(u),a}).then(function(u){var a=[l.Promise.resolve(u)],v=u.files;if(o.checkCRC32)for(var h=0;h<v.length;h++)a.push(y(v[h]));return l.Promise.all(a)}).then(function(u){for(var a=u.shift(),v=a.files,h=0;h<v.length;h++){var k=v[h];f.file(k.fileNameStr,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:o.createFolders})}return a.zipComment.length&&(f.comment=a.zipComment),f})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,d,c){var n=t("../utils"),l=t("../stream/GenericWorker");function i(m,g){l.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(g)}n.inherits(i,l),i.prototype._bindStream=function(m){var g=this;(this._stream=m).pause(),m.on("data",function(p){g.push({data:p,meta:{percent:0}})}).on("error",function(p){g.isPaused?this.generatedError=p:g.error(p)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},i.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},d.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,d,c){var n=t("readable-stream").Readable;function l(i,m,g){n.call(this,m),this._helper=i;var p=this;i.on("data",function(y,b){p.push(y)||p._helper.pause(),g&&g(b)}).on("error",function(y){p.emit("error",y)}).on("end",function(){p.push(null)})}t("../utils").inherits(l,n),l.prototype._read=function(){this._helper.resume()},d.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,d,c){d.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(n,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,l);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,l)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var l=new Buffer(n);return l.fill(0),l},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,d,c){function n(w,S,A){var O,F=i.getTypeOf(S),M=i.extend(A||{},p);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(w=v(w)),M.createFolders&&(O=a(w))&&h.call(this,O,!0);var G=F==="string"&&M.binary===!1&&M.base64===!1;A&&A.binary!==void 0||(M.binary=!G),(S instanceof y&&S.uncompressedSize===0||M.dir||!S||S.length===0)&&(M.base64=!1,M.binary=!0,S="",M.compression="STORE",F="string");var E=null;E=S instanceof y||S instanceof m?S:f.isNode&&f.isStream(S)?new u(w,S):i.prepareContent(w,S,M.binary,M.optimizedBinaryString,M.base64);var R=new b(w,E,M);this.files[w]=R}var l=t("./utf8"),i=t("./utils"),m=t("./stream/GenericWorker"),g=t("./stream/StreamHelper"),p=t("./defaults"),y=t("./compressedObject"),b=t("./zipObject"),o=t("./generate"),f=t("./nodejsUtils"),u=t("./nodejs/NodejsStreamInputAdapter"),a=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},v=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},h=function(w,S){return S=S!==void 0?S:p.createFolders,w=v(w),this.files[w]||n.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function k(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,A,O;for(S in this.files)O=this.files[S],(A=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(A,O)},filter:function(w){var S=[];return this.forEach(function(A,O){w(A,O)&&S.push(O)}),S},file:function(w,S,A){if(arguments.length!==1)return w=this.root+w,n.call(this,w,S,A),this;if(k(w)){var O=w;return this.filter(function(M,G){return!G.dir&&O.test(M)})}var F=this.files[this.root+w];return F&&!F.dir?F:null},folder:function(w){if(!w)return this;if(k(w))return this.filter(function(F,M){return M.dir&&w.test(F)});var S=this.root+w,A=h.call(this,S),O=this.clone();return O.root=A.name,O},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var A=this.filter(function(F,M){return M.name.slice(0,w.length)===w}),O=0;O<A.length;O++)delete this.files[A[O].name];return this},generate:function(w){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,A={};try{if((A=i.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");i.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var O=A.comment||this.comment||"";S=o.generateWorker(this,A,O)}catch(F){(S=new m("error")).error(F)}return new g(S,A.type||"string",A.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};d.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,d,c){d.exports=t("stream")},{stream:void 0}],17:[function(t,d,c){var n=t("./DataReader");function l(i){n.call(this,i);for(var m=0;m<this.data.length;m++)i[m]=255&i[m]}t("../utils").inherits(l,n),l.prototype.byteAt=function(i){return this.data[this.zero+i]},l.prototype.lastIndexOfSignature=function(i){for(var m=i.charCodeAt(0),g=i.charCodeAt(1),p=i.charCodeAt(2),y=i.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===m&&this.data[b+1]===g&&this.data[b+2]===p&&this.data[b+3]===y)return b-this.zero;return-1},l.prototype.readAndCheckSignature=function(i){var m=i.charCodeAt(0),g=i.charCodeAt(1),p=i.charCodeAt(2),y=i.charCodeAt(3),b=this.readData(4);return m===b[0]&&g===b[1]&&p===b[2]&&y===b[3]},l.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},d.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,d,c){var n=t("../utils");function l(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(i){},readInt:function(i){var m,g=0;for(this.checkOffset(i),m=this.index+i-1;m>=this.index;m--)g=(g<<8)+this.byteAt(m);return this.index+=i,g},readString:function(i){return n.transformTo("string",this.readData(i))},readData:function(i){},lastIndexOfSignature:function(i){},readAndCheckSignature:function(i){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},d.exports=l},{"../utils":32}],19:[function(t,d,c){var n=t("./Uint8ArrayReader");function l(i){n.call(this,i)}t("../utils").inherits(l,n),l.prototype.readData=function(i){this.checkOffset(i);var m=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},d.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,d,c){var n=t("./DataReader");function l(i){n.call(this,i)}t("../utils").inherits(l,n),l.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},l.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},l.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},l.prototype.readData=function(i){this.checkOffset(i);var m=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},d.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,d,c){var n=t("./ArrayReader");function l(i){n.call(this,i)}t("../utils").inherits(l,n),l.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,m},d.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,d,c){var n=t("../utils"),l=t("../support"),i=t("./ArrayReader"),m=t("./StringReader"),g=t("./NodeBufferReader"),p=t("./Uint8ArrayReader");d.exports=function(y){var b=n.getTypeOf(y);return n.checkSupport(b),b!=="string"||l.uint8array?b==="nodebuffer"?new g(y):l.uint8array?new p(n.transformTo("uint8array",y)):new i(n.transformTo("array",y)):new m(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,d,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,d,c){var n=t("./GenericWorker"),l=t("../utils");function i(m){n.call(this,"ConvertWorker to "+m),this.destType=m}l.inherits(i,n),i.prototype.processChunk=function(m){this.push({data:l.transformTo(this.destType,m.data),meta:m.meta})},d.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,d,c){var n=t("./GenericWorker"),l=t("../crc32");function i(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(i,n),i.prototype.processChunk=function(m){this.streamInfo.crc32=l(m.data,this.streamInfo.crc32||0),this.push(m)},d.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,d,c){var n=t("../utils"),l=t("./GenericWorker");function i(m){l.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}n.inherits(i,l),i.prototype.processChunk=function(m){if(m){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+m.data.length}l.prototype.processChunk.call(this,m)},d.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,d,c){var n=t("../utils"),l=t("./GenericWorker");function i(m){l.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(p){g.dataIsReady=!0,g.data=p,g.max=p&&p.length||0,g.type=n.getTypeOf(p),g.isPaused||g._tickAndRepeat()},function(p){g.error(p)})}n.inherits(i,l),i.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,g);break;case"uint8array":m=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":m=this.data.slice(this.index,g)}return this.index=g,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},d.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,d,c){function n(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,i){return this._listeners[l].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,i){if(this._listeners[l])for(var m=0;m<this._listeners[l].length;m++)this._listeners[l][m].call(this,i)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var i=this;return l.on("data",function(m){i.processChunk(m)}),l.on("end",function(){i.end()}),l.on("error",function(m){i.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,i){return this.extraStreamInfo[l]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},d.exports=n},{}],29:[function(t,d,c){var n=t("../utils"),l=t("./ConvertWorker"),i=t("./GenericWorker"),m=t("../base64"),g=t("../support"),p=t("../external"),y=null;if(g.nodestream)try{y=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(f,u){return new p.Promise(function(a,v){var h=[],k=f._internalType,z=f._outputType,w=f._mimeType;f.on("data",function(S,A){h.push(S),u&&u(A)}).on("error",function(S){h=[],v(S)}).on("end",function(){try{var S=function(A,O,F){switch(A){case"blob":return n.newBlob(n.transformTo("arraybuffer",O),F);case"base64":return m.encode(O);default:return n.transformTo(A,O)}}(z,function(A,O){var F,M=0,G=null,E=0;for(F=0;F<O.length;F++)E+=O[F].length;switch(A){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(G=new Uint8Array(E),F=0;F<O.length;F++)G.set(O[F],M),M+=O[F].length;return G;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+A+"'")}}(k,h),w);a(S)}catch(A){v(A)}h=[]}).resume()})}function o(f,u,a){var v=u;switch(u){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=u,this._mimeType=a,n.checkSupport(v),this._worker=f.pipe(new l(v)),f.lock()}catch(h){this._worker=new i("error"),this._worker.error(h)}}o.prototype={accumulate:function(f){return b(this,f)},on:function(f,u){var a=this;return f==="data"?this._worker.on(f,function(v){u.call(a,v.data,v.meta)}):this._worker.on(f,function(){n.delay(u,arguments,a)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(f){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},f)}},d.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,d,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",c.nodebuffer=typeof Buffer!="undefined",c.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")c.blob=!1;else{var n=new ArrayBuffer(0);try{c.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(n),c.blob=l.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!t("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(t,d,c){for(var n=t("./utils"),l=t("./support"),i=t("./nodejsUtils"),m=t("./stream/GenericWorker"),g=new Array(256),p=0;p<256;p++)g[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;g[254]=g[254]=1;function y(){m.call(this,"utf-8 decode"),this.leftOver=null}function b(){m.call(this,"utf-8 encode")}c.utf8encode=function(o){return l.nodebuffer?i.newBufferFrom(o,"utf-8"):function(f){var u,a,v,h,k,z=f.length,w=0;for(h=0;h<z;h++)(64512&(a=f.charCodeAt(h)))==55296&&h+1<z&&(64512&(v=f.charCodeAt(h+1)))==56320&&(a=65536+(a-55296<<10)+(v-56320),h++),w+=a<128?1:a<2048?2:a<65536?3:4;for(u=l.uint8array?new Uint8Array(w):new Array(w),h=k=0;k<w;h++)(64512&(a=f.charCodeAt(h)))==55296&&h+1<z&&(64512&(v=f.charCodeAt(h+1)))==56320&&(a=65536+(a-55296<<10)+(v-56320),h++),a<128?u[k++]=a:(a<2048?u[k++]=192|a>>>6:(a<65536?u[k++]=224|a>>>12:(u[k++]=240|a>>>18,u[k++]=128|a>>>12&63),u[k++]=128|a>>>6&63),u[k++]=128|63&a);return u}(o)},c.utf8decode=function(o){return l.nodebuffer?n.transformTo("nodebuffer",o).toString("utf-8"):function(f){var u,a,v,h,k=f.length,z=new Array(2*k);for(u=a=0;u<k;)if((v=f[u++])<128)z[a++]=v;else if(4<(h=g[v]))z[a++]=65533,u+=h-1;else{for(v&=h===2?31:h===3?15:7;1<h&&u<k;)v=v<<6|63&f[u++],h--;1<h?z[a++]=65533:v<65536?z[a++]=v:(v-=65536,z[a++]=55296|v>>10&1023,z[a++]=56320|1023&v)}return z.length!==a&&(z.subarray?z=z.subarray(0,a):z.length=a),n.applyFromCharCode(z)}(o=n.transformTo(l.uint8array?"uint8array":"array",o))},n.inherits(y,m),y.prototype.processChunk=function(o){var f=n.transformTo(l.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var u=f;(f=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),f.set(u,this.leftOver.length)}else f=this.leftOver.concat(f);this.leftOver=null}var a=function(h,k){var z;for((k=k||h.length)>h.length&&(k=h.length),z=k-1;0<=z&&(192&h[z])==128;)z--;return z<0||z===0?k:z+g[h[z]]>k?z:k}(f),v=f;a!==f.length&&(l.uint8array?(v=f.subarray(0,a),this.leftOver=f.subarray(a,f.length)):(v=f.slice(0,a),this.leftOver=f.slice(a,f.length))),this.push({data:c.utf8decode(v),meta:o.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=y,n.inherits(b,m),b.prototype.processChunk=function(o){this.push({data:c.utf8encode(o.data),meta:o.meta})},c.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,d,c){var n=t("./support"),l=t("./base64"),i=t("./nodejsUtils"),m=t("set-immediate-shim"),g=t("./external");function p(a){return a}function y(a,v){for(var h=0;h<a.length;++h)v[h]=255&a.charCodeAt(h);return v}c.newBlob=function(a,v){c.checkSupport("blob");try{return new Blob([a],{type:v})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(a),h.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var b={stringifyByChunk:function(a,v,h){var k=[],z=0,w=a.length;if(w<=h)return String.fromCharCode.apply(null,a);for(;z<w;)v==="array"||v==="nodebuffer"?k.push(String.fromCharCode.apply(null,a.slice(z,Math.min(z+h,w)))):k.push(String.fromCharCode.apply(null,a.subarray(z,Math.min(z+h,w)))),z+=h;return k.join("")},stringifyByChar:function(a){for(var v="",h=0;h<a.length;h++)v+=String.fromCharCode(a[h]);return v},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch{return!1}}()}};function o(a){var v=65536,h=c.getTypeOf(a),k=!0;if(h==="uint8array"?k=b.applyCanBeUsed.uint8array:h==="nodebuffer"&&(k=b.applyCanBeUsed.nodebuffer),k)for(;1<v;)try{return b.stringifyByChunk(a,h,v)}catch{v=Math.floor(v/2)}return b.stringifyByChar(a)}function f(a,v){for(var h=0;h<a.length;h++)v[h]=a[h];return v}c.applyFromCharCode=o;var u={};u.string={string:p,array:function(a){return y(a,new Array(a.length))},arraybuffer:function(a){return u.string.uint8array(a).buffer},uint8array:function(a){return y(a,new Uint8Array(a.length))},nodebuffer:function(a){return y(a,i.allocBuffer(a.length))}},u.array={string:o,array:p,arraybuffer:function(a){return new Uint8Array(a).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return i.newBufferFrom(a)}},u.arraybuffer={string:function(a){return o(new Uint8Array(a))},array:function(a){return f(new Uint8Array(a),new Array(a.byteLength))},arraybuffer:p,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return i.newBufferFrom(new Uint8Array(a))}},u.uint8array={string:o,array:function(a){return f(a,new Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:p,nodebuffer:function(a){return i.newBufferFrom(a)}},u.nodebuffer={string:o,array:function(a){return f(a,new Array(a.length))},arraybuffer:function(a){return u.nodebuffer.uint8array(a).buffer},uint8array:function(a){return f(a,new Uint8Array(a.length))},nodebuffer:p},c.transformTo=function(a,v){if(v=v||"",!a)return v;c.checkSupport(a);var h=c.getTypeOf(v);return u[h][a](v)},c.getTypeOf=function(a){return typeof a=="string"?"string":Object.prototype.toString.call(a)==="[object Array]"?"array":n.nodebuffer&&i.isBuffer(a)?"nodebuffer":n.uint8array&&a instanceof Uint8Array?"uint8array":n.arraybuffer&&a instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(a){if(!n[a.toLowerCase()])throw new Error(a+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(a){var v,h,k="";for(h=0;h<(a||"").length;h++)k+="\\x"+((v=a.charCodeAt(h))<16?"0":"")+v.toString(16).toUpperCase();return k},c.delay=function(a,v,h){m(function(){a.apply(h||null,v||[])})},c.inherits=function(a,v){function h(){}h.prototype=v.prototype,a.prototype=new h},c.extend=function(){var a,v,h={};for(a=0;a<arguments.length;a++)for(v in arguments[a])arguments[a].hasOwnProperty(v)&&h[v]===void 0&&(h[v]=arguments[a][v]);return h},c.prepareContent=function(a,v,h,k,z){return g.Promise.resolve(v).then(function(w){return n.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader!="undefined"?new g.Promise(function(S,A){var O=new FileReader;O.onload=function(F){S(F.target.result)},O.onerror=function(F){A(F.target.error)},O.readAsArrayBuffer(w)}):w}).then(function(w){var S=c.getTypeOf(w);return S?(S==="arraybuffer"?w=c.transformTo("uint8array",w):S==="string"&&(z?w=l.decode(w):h&&k!==!0&&(w=function(A){return y(A,n.uint8array?new Uint8Array(A.length):new Array(A.length))}(w))),w):g.Promise.reject(new Error("Can't read the data of '"+a+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,d,c){var n=t("./reader/readerFor"),l=t("./utils"),i=t("./signature"),m=t("./zipEntry"),g=(t("./utf8"),t("./support"));function p(y){this.files=[],this.loadOptions=y}p.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(b)+", expected "+l.pretty(y)+")")}},isSignature:function(y,b){var o=this.reader.index;this.reader.setIndex(y);var f=this.reader.readString(4)===b;return this.reader.setIndex(o),f},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),b=g.uint8array?"uint8array":"array",o=l.transformTo(b,y);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,b,o,f=this.zip64EndOfCentralSize-44;0<f;)y=this.reader.readInt(2),b=this.reader.readInt(4),o=this.reader.readData(b),this.zip64ExtensibleData[y]={id:y,length:b,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,b;for(y=0;y<this.files.length;y++)b=this.files[y],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(y=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var b=y;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var f=b-o;if(0<f)this.isSignature(b,i.CENTRAL_FILE_HEADER)||(this.reader.zero=f);else if(f<0)throw new Error("Corrupted zip: missing "+Math.abs(f)+" bytes.")},prepareReader:function(y){this.reader=n(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},d.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,d,c){var n=t("./reader/readerFor"),l=t("./utils"),i=t("./compressedObject"),m=t("./crc32"),g=t("./utf8"),p=t("./compressions"),y=t("./support");function b(o,f){this.options=o,this.loadOptions=f}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var f,u;if(o.skip(22),this.fileNameLength=o.readInt(2),u=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((f=function(a){for(var v in p)if(p.hasOwnProperty(v)&&p[v].magic===a)return p[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,f,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var f=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(f),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(o){if(this.extraFields[1]){var f=n(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(o){var f,u,a,v=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<v;)f=o.readInt(2),u=o.readInt(2),a=o.readData(u),this.extraFields[f]={id:f,length:u,value:a};o.setIndex(v)},handleUTF8:function(){var o=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var f=this.findExtraFieldUnicodePath();if(f!==null)this.fileNameStr=f;else{var u=l.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var a=this.findExtraFieldUnicodeComment();if(a!==null)this.fileCommentStr=a;else{var v=l.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var f=n(o.value);return f.readInt(1)!==1||m(this.fileName)!==f.readInt(4)?null:g.utf8decode(f.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var f=n(o.value);return f.readInt(1)!==1||m(this.fileComment)!==f.readInt(4)?null:g.utf8decode(f.readData(o.length-5))}return null}},d.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,d,c){function n(f,u,a){this.name=f,this.dir=a.dir,this.date=a.date,this.comment=a.comment,this.unixPermissions=a.unixPermissions,this.dosPermissions=a.dosPermissions,this._data=u,this._dataBinary=a.binary,this.options={compression:a.compression,compressionOptions:a.compressionOptions}}var l=t("./stream/StreamHelper"),i=t("./stream/DataWorker"),m=t("./utf8"),g=t("./compressedObject"),p=t("./stream/GenericWorker");n.prototype={internalStream:function(f){var u=null,a="string";try{if(!f)throw new Error("No output type specified.");var v=(a=f.toLowerCase())==="string"||a==="text";a!=="binarystring"&&a!=="text"||(a="string"),u=this._decompressWorker();var h=!this._dataBinary;h&&!v&&(u=u.pipe(new m.Utf8EncodeWorker)),!h&&v&&(u=u.pipe(new m.Utf8DecodeWorker))}catch(k){(u=new p("error")).error(k)}return new l(u,a,"")},async:function(f,u){return this.internalStream(f).accumulate(u)},nodeStream:function(f,u){return this.internalStream(f||"nodebuffer").toNodejsStream(u)},_compressWorker:function(f,u){if(this._data instanceof g&&this._data.compression.magic===f.magic)return this._data.getCompressedWorker();var a=this._decompressWorker();return this._dataBinary||(a=a.pipe(new m.Utf8EncodeWorker)),g.createWorkerFrom(a,f,u)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof p?this._data:new i(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<y.length;o++)n.prototype[y[o]]=b;d.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,d,c){(function(n){var l,i,m=n.MutationObserver||n.WebKitMutationObserver;if(m){var g=0,p=new m(f),y=n.document.createTextNode("");p.observe(y,{characterData:!0}),l=function(){y.data=g=++g%2}}else if(n.setImmediate||n.MessageChannel===void 0)l="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var u=n.document.createElement("script");u.onreadystatechange=function(){f(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},n.document.documentElement.appendChild(u)}:function(){setTimeout(f,0)};else{var b=new n.MessageChannel;b.port1.onmessage=f,l=function(){b.port2.postMessage(0)}}var o=[];function f(){var u,a;i=!0;for(var v=o.length;v;){for(a=o,o=[],u=-1;++u<v;)a[u]();v=o.length}i=!1}d.exports=function(u){o.push(u)!==1||i||l()}}).call(this,typeof Ft!="undefined"?Ft:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,d,c){var n=t("immediate");function l(){}var i={},m=["REJECTED"],g=["FULFILLED"],p=["PENDING"];function y(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,v!==l&&u(this,v)}function b(v,h,k){this.promise=v,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function o(v,h,k){n(function(){var z;try{z=h(k)}catch(w){return i.reject(v,w)}z===v?i.reject(v,new TypeError("Cannot resolve promise with itself")):i.resolve(v,z)})}function f(v){var h=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof h=="function")return function(){h.apply(v,arguments)}}function u(v,h){var k=!1;function z(A){k||(k=!0,i.reject(v,A))}function w(A){k||(k=!0,i.resolve(v,A))}var S=a(function(){h(w,z)});S.status==="error"&&z(S.value)}function a(v,h){var k={};try{k.value=v(h),k.status="success"}catch(z){k.status="error",k.value=z}return k}(d.exports=y).prototype.finally=function(v){if(typeof v!="function")return this;var h=this.constructor;return this.then(function(k){return h.resolve(v()).then(function(){return k})},function(k){return h.resolve(v()).then(function(){throw k})})},y.prototype.catch=function(v){return this.then(null,v)},y.prototype.then=function(v,h){if(typeof v!="function"&&this.state===g||typeof h!="function"&&this.state===m)return this;var k=new this.constructor(l);return this.state!==p?o(k,this.state===g?v:h,this.outcome):this.queue.push(new b(k,v,h)),k},b.prototype.callFulfilled=function(v){i.resolve(this.promise,v)},b.prototype.otherCallFulfilled=function(v){o(this.promise,this.onFulfilled,v)},b.prototype.callRejected=function(v){i.reject(this.promise,v)},b.prototype.otherCallRejected=function(v){o(this.promise,this.onRejected,v)},i.resolve=function(v,h){var k=a(f,h);if(k.status==="error")return i.reject(v,k.value);var z=k.value;if(z)u(v,z);else{v.state=g,v.outcome=h;for(var w=-1,S=v.queue.length;++w<S;)v.queue[w].callFulfilled(h)}return v},i.reject=function(v,h){v.state=m,v.outcome=h;for(var k=-1,z=v.queue.length;++k<z;)v.queue[k].callRejected(h);return v},y.resolve=function(v){return v instanceof this?v:i.resolve(new this(l),v)},y.reject=function(v){var h=new this(l);return i.reject(h,v)},y.all=function(v){var h=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,z=!1;if(!k)return this.resolve([]);for(var w=new Array(k),S=0,A=-1,O=new this(l);++A<k;)F(v[A],A);return O;function F(M,G){h.resolve(M).then(function(E){w[G]=E,++S!==k||z||(z=!0,i.resolve(O,w))},function(E){z||(z=!0,i.reject(O,E))})}},y.race=function(v){var h=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=v.length,z=!1;if(!k)return this.resolve([]);for(var w=-1,S=new this(l);++w<k;)A=v[w],h.resolve(A).then(function(O){z||(z=!0,i.resolve(S,O))},function(O){z||(z=!0,i.reject(S,O))});var A;return S}},{immediate:36}],38:[function(t,d,c){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),d.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,d,c){var n=t("./zlib/deflate"),l=t("./utils/common"),i=t("./utils/strings"),m=t("./zlib/messages"),g=t("./zlib/zstream"),p=Object.prototype.toString,y=0,b=-1,o=0,f=8;function u(v){if(!(this instanceof u))return new u(v);this.options=l.assign({level:b,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},v||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var k=n.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(k!==y)throw new Error(m[k]);if(h.header&&n.deflateSetHeader(this.strm,h.header),h.dictionary){var z;if(z=typeof h.dictionary=="string"?i.string2buf(h.dictionary):p.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(k=n.deflateSetDictionary(this.strm,z))!==y)throw new Error(m[k]);this._dict_set=!0}}function a(v,h){var k=new u(h);if(k.push(v,!0),k.err)throw k.msg||m[k.err];return k.result}u.prototype.push=function(v,h){var k,z,w=this.strm,S=this.options.chunkSize;if(this.ended)return!1;z=h===~~h?h:h===!0?4:0,typeof v=="string"?w.input=i.string2buf(v):p.call(v)==="[object ArrayBuffer]"?w.input=new Uint8Array(v):w.input=v,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new l.Buf8(S),w.next_out=0,w.avail_out=S),(k=n.deflate(w,z))!==1&&k!==y)return this.onEnd(k),!(this.ended=!0);w.avail_out!==0&&(w.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(l.shrinkBuf(w.output,w.next_out))):this.onData(l.shrinkBuf(w.output,w.next_out)))}while((0<w.avail_in||w.avail_out===0)&&k!==1);return z===4?(k=n.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===y):z!==2||(this.onEnd(y),!(w.avail_out=0))},u.prototype.onData=function(v){this.chunks.push(v)},u.prototype.onEnd=function(v){v===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},c.Deflate=u,c.deflate=a,c.deflateRaw=function(v,h){return(h=h||{}).raw=!0,a(v,h)},c.gzip=function(v,h){return(h=h||{}).gzip=!0,a(v,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,d,c){var n=t("./zlib/inflate"),l=t("./utils/common"),i=t("./utils/strings"),m=t("./zlib/constants"),g=t("./zlib/messages"),p=t("./zlib/zstream"),y=t("./zlib/gzheader"),b=Object.prototype.toString;function o(u){if(!(this instanceof o))return new o(u);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},u||{});var a=this.options;a.raw&&0<=a.windowBits&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),!(0<=a.windowBits&&a.windowBits<16)||u&&u.windowBits||(a.windowBits+=32),15<a.windowBits&&a.windowBits<48&&(15&a.windowBits)==0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var v=n.inflateInit2(this.strm,a.windowBits);if(v!==m.Z_OK)throw new Error(g[v]);this.header=new y,n.inflateGetHeader(this.strm,this.header)}function f(u,a){var v=new o(a);if(v.push(u,!0),v.err)throw v.msg||g[v.err];return v.result}o.prototype.push=function(u,a){var v,h,k,z,w,S,A=this.strm,O=this.options.chunkSize,F=this.options.dictionary,M=!1;if(this.ended)return!1;h=a===~~a?a:a===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof u=="string"?A.input=i.binstring2buf(u):b.call(u)==="[object ArrayBuffer]"?A.input=new Uint8Array(u):A.input=u,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new l.Buf8(O),A.next_out=0,A.avail_out=O),(v=n.inflate(A,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&F&&(S=typeof F=="string"?i.string2buf(F):b.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,v=n.inflateSetDictionary(this.strm,S)),v===m.Z_BUF_ERROR&&M===!0&&(v=m.Z_OK,M=!1),v!==m.Z_STREAM_END&&v!==m.Z_OK)return this.onEnd(v),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&v!==m.Z_STREAM_END&&(A.avail_in!==0||h!==m.Z_FINISH&&h!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=i.utf8border(A.output,A.next_out),z=A.next_out-k,w=i.buf2string(A.output,k),A.next_out=z,A.avail_out=O-z,z&&l.arraySet(A.output,A.output,k,z,0),this.onData(w)):this.onData(l.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(M=!0)}while((0<A.avail_in||A.avail_out===0)&&v!==m.Z_STREAM_END);return v===m.Z_STREAM_END&&(h=m.Z_FINISH),h===m.Z_FINISH?(v=n.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===m.Z_OK):h!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(A.avail_out=0))},o.prototype.onData=function(u){this.chunks.push(u)},o.prototype.onEnd=function(u){u===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},c.Inflate=o,c.inflate=f,c.inflateRaw=function(u,a){return(a=a||{}).raw=!0,f(u,a)},c.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,d,c){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";c.assign=function(m){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var p=g.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var y in p)p.hasOwnProperty(y)&&(m[y]=p[y])}}return m},c.shrinkBuf=function(m,g){return m.length===g?m:m.subarray?m.subarray(0,g):(m.length=g,m)};var l={arraySet:function(m,g,p,y,b){if(g.subarray&&m.subarray)m.set(g.subarray(p,p+y),b);else for(var o=0;o<y;o++)m[b+o]=g[p+o]},flattenChunks:function(m){var g,p,y,b,o,f;for(g=y=0,p=m.length;g<p;g++)y+=m[g].length;for(f=new Uint8Array(y),g=b=0,p=m.length;g<p;g++)o=m[g],f.set(o,b),b+=o.length;return f}},i={arraySet:function(m,g,p,y,b){for(var o=0;o<y;o++)m[b+o]=g[p+o]},flattenChunks:function(m){return[].concat.apply([],m)}};c.setTyped=function(m){m?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,l)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,i))},c.setTyped(n)},{}],42:[function(t,d,c){var n=t("./common"),l=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{i=!1}for(var m=new n.Buf8(256),g=0;g<256;g++)m[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function p(y,b){if(b<65537&&(y.subarray&&i||!y.subarray&&l))return String.fromCharCode.apply(null,n.shrinkBuf(y,b));for(var o="",f=0;f<b;f++)o+=String.fromCharCode(y[f]);return o}m[254]=m[254]=1,c.string2buf=function(y){var b,o,f,u,a,v=y.length,h=0;for(u=0;u<v;u++)(64512&(o=y.charCodeAt(u)))==55296&&u+1<v&&(64512&(f=y.charCodeAt(u+1)))==56320&&(o=65536+(o-55296<<10)+(f-56320),u++),h+=o<128?1:o<2048?2:o<65536?3:4;for(b=new n.Buf8(h),u=a=0;a<h;u++)(64512&(o=y.charCodeAt(u)))==55296&&u+1<v&&(64512&(f=y.charCodeAt(u+1)))==56320&&(o=65536+(o-55296<<10)+(f-56320),u++),o<128?b[a++]=o:(o<2048?b[a++]=192|o>>>6:(o<65536?b[a++]=224|o>>>12:(b[a++]=240|o>>>18,b[a++]=128|o>>>12&63),b[a++]=128|o>>>6&63),b[a++]=128|63&o);return b},c.buf2binstring=function(y){return p(y,y.length)},c.binstring2buf=function(y){for(var b=new n.Buf8(y.length),o=0,f=b.length;o<f;o++)b[o]=y.charCodeAt(o);return b},c.buf2string=function(y,b){var o,f,u,a,v=b||y.length,h=new Array(2*v);for(o=f=0;o<v;)if((u=y[o++])<128)h[f++]=u;else if(4<(a=m[u]))h[f++]=65533,o+=a-1;else{for(u&=a===2?31:a===3?15:7;1<a&&o<v;)u=u<<6|63&y[o++],a--;1<a?h[f++]=65533:u<65536?h[f++]=u:(u-=65536,h[f++]=55296|u>>10&1023,h[f++]=56320|1023&u)}return p(h,f)},c.utf8border=function(y,b){var o;for((b=b||y.length)>y.length&&(b=y.length),o=b-1;0<=o&&(192&y[o])==128;)o--;return o<0||o===0?b:o+m[y[o]]>b?o:b}},{"./common":41}],43:[function(t,d,c){d.exports=function(n,l,i,m){for(var g=65535&n|0,p=n>>>16&65535|0,y=0;i!==0;){for(i-=y=2e3<i?2e3:i;p=p+(g=g+l[m++]|0)|0,--y;);g%=65521,p%=65521}return g|p<<16|0}},{}],44:[function(t,d,c){d.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,d,c){var n=function(){for(var l,i=[],m=0;m<256;m++){l=m;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;i[m]=l}return i}();d.exports=function(l,i,m,g){var p=n,y=g+m;l^=-1;for(var b=g;b<y;b++)l=l>>>8^p[255&(l^i[b])];return-1^l}},{}],46:[function(t,d,c){var n,l=t("../utils/common"),i=t("./trees"),m=t("./adler32"),g=t("./crc32"),p=t("./messages"),y=0,b=4,o=0,f=-2,u=-1,a=4,v=2,h=8,k=9,z=286,w=30,S=19,A=2*z+1,O=15,F=3,M=258,G=M+F+1,E=42,R=113,_=1,j=2,V=3,$=4;function re(s,N){return s.msg=p[N],N}function W(s){return(s<<1)-(4<s?9:0)}function ee(s){for(var N=s.length;0<=--N;)s[N]=0}function D(s){var N=s.state,P=N.pending;P>s.avail_out&&(P=s.avail_out),P!==0&&(l.arraySet(s.output,N.pending_buf,N.pending_out,P,s.next_out),s.next_out+=P,N.pending_out+=P,s.total_out+=P,s.avail_out-=P,N.pending-=P,N.pending===0&&(N.pending_out=0))}function L(s,N){i._tr_flush_block(s,0<=s.block_start?s.block_start:-1,s.strstart-s.block_start,N),s.block_start=s.strstart,D(s.strm)}function te(s,N){s.pending_buf[s.pending++]=N}function X(s,N){s.pending_buf[s.pending++]=N>>>8&255,s.pending_buf[s.pending++]=255&N}function Y(s,N){var P,C,x=s.max_chain_length,T=s.strstart,U=s.prev_length,Z=s.nice_match,I=s.strstart>s.w_size-G?s.strstart-(s.w_size-G):0,H=s.window,J=s.w_mask,q=s.prev,Q=s.strstart+M,ce=H[T+U-1],ae=H[T+U];s.prev_length>=s.good_match&&(x>>=2),Z>s.lookahead&&(Z=s.lookahead);do if(H[(P=N)+U]===ae&&H[P+U-1]===ce&&H[P]===H[T]&&H[++P]===H[T+1]){T+=2,P++;do;while(H[++T]===H[++P]&&H[++T]===H[++P]&&H[++T]===H[++P]&&H[++T]===H[++P]&&H[++T]===H[++P]&&H[++T]===H[++P]&&H[++T]===H[++P]&&H[++T]===H[++P]&&T<Q);if(C=M-(Q-T),T=Q-M,U<C){if(s.match_start=N,Z<=(U=C))break;ce=H[T+U-1],ae=H[T+U]}}while((N=q[N&J])>I&&--x!=0);return U<=s.lookahead?U:s.lookahead}function le(s){var N,P,C,x,T,U,Z,I,H,J,q=s.w_size;do{if(x=s.window_size-s.lookahead-s.strstart,s.strstart>=q+(q-G)){for(l.arraySet(s.window,s.window,q,q,0),s.match_start-=q,s.strstart-=q,s.block_start-=q,N=P=s.hash_size;C=s.head[--N],s.head[N]=q<=C?C-q:0,--P;);for(N=P=q;C=s.prev[--N],s.prev[N]=q<=C?C-q:0,--P;);x+=q}if(s.strm.avail_in===0)break;if(U=s.strm,Z=s.window,I=s.strstart+s.lookahead,H=x,J=void 0,J=U.avail_in,H<J&&(J=H),P=J===0?0:(U.avail_in-=J,l.arraySet(Z,U.input,U.next_in,J,I),U.state.wrap===1?U.adler=m(U.adler,Z,J,I):U.state.wrap===2&&(U.adler=g(U.adler,Z,J,I)),U.next_in+=J,U.total_in+=J,J),s.lookahead+=P,s.lookahead+s.insert>=F)for(T=s.strstart-s.insert,s.ins_h=s.window[T],s.ins_h=(s.ins_h<<s.hash_shift^s.window[T+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[T+F-1])&s.hash_mask,s.prev[T&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=T,T++,s.insert--,!(s.lookahead+s.insert<F)););}while(s.lookahead<G&&s.strm.avail_in!==0)}function pe(s,N){for(var P,C;;){if(s.lookahead<G){if(le(s),s.lookahead<G&&N===y)return _;if(s.lookahead===0)break}if(P=0,s.lookahead>=F&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),P!==0&&s.strstart-P<=s.w_size-G&&(s.match_length=Y(s,P)),s.match_length>=F)if(C=i._tr_tally(s,s.strstart-s.match_start,s.match_length-F),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=F){for(s.match_length--;s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart,--s.match_length!=0;);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else C=i._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(C&&(L(s,!1),s.strm.avail_out===0))return _}return s.insert=s.strstart<F-1?s.strstart:F-1,N===b?(L(s,!0),s.strm.avail_out===0?V:$):s.last_lit&&(L(s,!1),s.strm.avail_out===0)?_:j}function oe(s,N){for(var P,C,x;;){if(s.lookahead<G){if(le(s),s.lookahead<G&&N===y)return _;if(s.lookahead===0)break}if(P=0,s.lookahead>=F&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=F-1,P!==0&&s.prev_length<s.max_lazy_match&&s.strstart-P<=s.w_size-G&&(s.match_length=Y(s,P),s.match_length<=5&&(s.strategy===1||s.match_length===F&&4096<s.strstart-s.match_start)&&(s.match_length=F-1)),s.prev_length>=F&&s.match_length<=s.prev_length){for(x=s.strstart+s.lookahead-F,C=i._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-F),s.lookahead-=s.prev_length-1,s.prev_length-=2;++s.strstart<=x&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+F-1])&s.hash_mask,P=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),--s.prev_length!=0;);if(s.match_available=0,s.match_length=F-1,s.strstart++,C&&(L(s,!1),s.strm.avail_out===0))return _}else if(s.match_available){if((C=i._tr_tally(s,0,s.window[s.strstart-1]))&&L(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return _}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(C=i._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<F-1?s.strstart:F-1,N===b?(L(s,!0),s.strm.avail_out===0?V:$):s.last_lit&&(L(s,!1),s.strm.avail_out===0)?_:j}function se(s,N,P,C,x){this.good_length=s,this.max_lazy=N,this.nice_length=P,this.max_chain=C,this.func=x}function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*A),this.dyn_dtree=new l.Buf16(2*(2*w+1)),this.bl_tree=new l.Buf16(2*(2*S+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(O+1),this.heap=new l.Buf16(2*z+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(s){var N;return s&&s.state?(s.total_in=s.total_out=0,s.data_type=v,(N=s.state).pending=0,N.pending_out=0,N.wrap<0&&(N.wrap=-N.wrap),N.status=N.wrap?E:R,s.adler=N.wrap===2?0:1,N.last_flush=y,i._tr_init(N),o):re(s,f)}function xe(s){var N=ue(s);return N===o&&function(P){P.window_size=2*P.w_size,ee(P.head),P.max_lazy_match=n[P.level].max_lazy,P.good_match=n[P.level].good_length,P.nice_match=n[P.level].nice_length,P.max_chain_length=n[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=F-1,P.match_available=0,P.ins_h=0}(s.state),N}function ke(s,N,P,C,x,T){if(!s)return f;var U=1;if(N===u&&(N=6),C<0?(U=0,C=-C):15<C&&(U=2,C-=16),x<1||k<x||P!==h||C<8||15<C||N<0||9<N||T<0||a<T)return re(s,f);C===8&&(C=9);var Z=new de;return(s.state=Z).strm=s,Z.wrap=U,Z.gzhead=null,Z.w_bits=C,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=x+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+F-1)/F),Z.window=new l.Buf8(2*Z.w_size),Z.head=new l.Buf16(Z.hash_size),Z.prev=new l.Buf16(Z.w_size),Z.lit_bufsize=1<<x+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new l.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=N,Z.strategy=T,Z.method=P,xe(s)}n=[new se(0,0,0,0,function(s,N){var P=65535;for(P>s.pending_buf_size-5&&(P=s.pending_buf_size-5);;){if(s.lookahead<=1){if(le(s),s.lookahead===0&&N===y)return _;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var C=s.block_start+P;if((s.strstart===0||s.strstart>=C)&&(s.lookahead=s.strstart-C,s.strstart=C,L(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-G&&(L(s,!1),s.strm.avail_out===0))return _}return s.insert=0,N===b?(L(s,!0),s.strm.avail_out===0?V:$):(s.strstart>s.block_start&&(L(s,!1),s.strm.avail_out),_)}),new se(4,4,8,4,pe),new se(4,5,16,8,pe),new se(4,6,32,32,pe),new se(4,4,16,16,oe),new se(8,16,32,32,oe),new se(8,16,128,128,oe),new se(8,32,128,256,oe),new se(32,128,258,1024,oe),new se(32,258,258,4096,oe)],c.deflateInit=function(s,N){return ke(s,N,h,15,8,0)},c.deflateInit2=ke,c.deflateReset=xe,c.deflateResetKeep=ue,c.deflateSetHeader=function(s,N){return s&&s.state?s.state.wrap!==2?f:(s.state.gzhead=N,o):f},c.deflate=function(s,N){var P,C,x,T;if(!s||!s.state||5<N||N<0)return s?re(s,f):f;if(C=s.state,!s.output||!s.input&&s.avail_in!==0||C.status===666&&N!==b)return re(s,s.avail_out===0?-5:f);if(C.strm=s,P=C.last_flush,C.last_flush=N,C.status===E)if(C.wrap===2)s.adler=0,te(C,31),te(C,139),te(C,8),C.gzhead?(te(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),te(C,255&C.gzhead.time),te(C,C.gzhead.time>>8&255),te(C,C.gzhead.time>>16&255),te(C,C.gzhead.time>>24&255),te(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),te(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(te(C,255&C.gzhead.extra.length),te(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(s.adler=g(s.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(te(C,0),te(C,0),te(C,0),te(C,0),te(C,0),te(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),te(C,3),C.status=R);else{var U=h+(C.w_bits-8<<4)<<8;U|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(U|=32),U+=31-U%31,C.status=R,X(C,U),C.strstart!==0&&(X(C,s.adler>>>16),X(C,65535&s.adler)),s.adler=1}if(C.status===69)if(C.gzhead.extra){for(x=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>x&&(s.adler=g(s.adler,C.pending_buf,C.pending-x,x)),D(s),x=C.pending,C.pending!==C.pending_buf_size));)te(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>x&&(s.adler=g(s.adler,C.pending_buf,C.pending-x,x)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){x=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>x&&(s.adler=g(s.adler,C.pending_buf,C.pending-x,x)),D(s),x=C.pending,C.pending===C.pending_buf_size)){T=1;break}T=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,te(C,T)}while(T!==0);C.gzhead.hcrc&&C.pending>x&&(s.adler=g(s.adler,C.pending_buf,C.pending-x,x)),T===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){x=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>x&&(s.adler=g(s.adler,C.pending_buf,C.pending-x,x)),D(s),x=C.pending,C.pending===C.pending_buf_size)){T=1;break}T=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,te(C,T)}while(T!==0);C.gzhead.hcrc&&C.pending>x&&(s.adler=g(s.adler,C.pending_buf,C.pending-x,x)),T===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&D(s),C.pending+2<=C.pending_buf_size&&(te(C,255&s.adler),te(C,s.adler>>8&255),s.adler=0,C.status=R)):C.status=R),C.pending!==0){if(D(s),s.avail_out===0)return C.last_flush=-1,o}else if(s.avail_in===0&&W(N)<=W(P)&&N!==b)return re(s,-5);if(C.status===666&&s.avail_in!==0)return re(s,-5);if(s.avail_in!==0||C.lookahead!==0||N!==y&&C.status!==666){var Z=C.strategy===2?function(I,H){for(var J;;){if(I.lookahead===0&&(le(I),I.lookahead===0)){if(H===y)return _;break}if(I.match_length=0,J=i._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++,J&&(L(I,!1),I.strm.avail_out===0))return _}return I.insert=0,H===b?(L(I,!0),I.strm.avail_out===0?V:$):I.last_lit&&(L(I,!1),I.strm.avail_out===0)?_:j}(C,N):C.strategy===3?function(I,H){for(var J,q,Q,ce,ae=I.window;;){if(I.lookahead<=M){if(le(I),I.lookahead<=M&&H===y)return _;if(I.lookahead===0)break}if(I.match_length=0,I.lookahead>=F&&0<I.strstart&&(q=ae[Q=I.strstart-1])===ae[++Q]&&q===ae[++Q]&&q===ae[++Q]){ce=I.strstart+M;do;while(q===ae[++Q]&&q===ae[++Q]&&q===ae[++Q]&&q===ae[++Q]&&q===ae[++Q]&&q===ae[++Q]&&q===ae[++Q]&&q===ae[++Q]&&Q<ce);I.match_length=M-(ce-Q),I.match_length>I.lookahead&&(I.match_length=I.lookahead)}if(I.match_length>=F?(J=i._tr_tally(I,1,I.match_length-F),I.lookahead-=I.match_length,I.strstart+=I.match_length,I.match_length=0):(J=i._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++),J&&(L(I,!1),I.strm.avail_out===0))return _}return I.insert=0,H===b?(L(I,!0),I.strm.avail_out===0?V:$):I.last_lit&&(L(I,!1),I.strm.avail_out===0)?_:j}(C,N):n[C.level].func(C,N);if(Z!==V&&Z!==$||(C.status=666),Z===_||Z===V)return s.avail_out===0&&(C.last_flush=-1),o;if(Z===j&&(N===1?i._tr_align(C):N!==5&&(i._tr_stored_block(C,0,0,!1),N===3&&(ee(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),D(s),s.avail_out===0))return C.last_flush=-1,o}return N!==b?o:C.wrap<=0?1:(C.wrap===2?(te(C,255&s.adler),te(C,s.adler>>8&255),te(C,s.adler>>16&255),te(C,s.adler>>24&255),te(C,255&s.total_in),te(C,s.total_in>>8&255),te(C,s.total_in>>16&255),te(C,s.total_in>>24&255)):(X(C,s.adler>>>16),X(C,65535&s.adler)),D(s),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?o:1)},c.deflateEnd=function(s){var N;return s&&s.state?(N=s.state.status)!==E&&N!==69&&N!==73&&N!==91&&N!==103&&N!==R&&N!==666?re(s,f):(s.state=null,N===R?re(s,-3):o):f},c.deflateSetDictionary=function(s,N){var P,C,x,T,U,Z,I,H,J=N.length;if(!s||!s.state||(T=(P=s.state).wrap)===2||T===1&&P.status!==E||P.lookahead)return f;for(T===1&&(s.adler=m(s.adler,N,J,0)),P.wrap=0,J>=P.w_size&&(T===0&&(ee(P.head),P.strstart=0,P.block_start=0,P.insert=0),H=new l.Buf8(P.w_size),l.arraySet(H,N,J-P.w_size,P.w_size,0),N=H,J=P.w_size),U=s.avail_in,Z=s.next_in,I=s.input,s.avail_in=J,s.next_in=0,s.input=N,le(P);P.lookahead>=F;){for(C=P.strstart,x=P.lookahead-(F-1);P.ins_h=(P.ins_h<<P.hash_shift^P.window[C+F-1])&P.hash_mask,P.prev[C&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=C,C++,--x;);P.strstart=C,P.lookahead=F-1,le(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=F-1,P.match_available=0,s.next_in=Z,s.input=I,s.avail_in=U,P.wrap=T,o},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,d,c){d.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,d,c){d.exports=function(n,l){var i,m,g,p,y,b,o,f,u,a,v,h,k,z,w,S,A,O,F,M,G,E,R,_,j;i=n.state,m=n.next_in,_=n.input,g=m+(n.avail_in-5),p=n.next_out,j=n.output,y=p-(l-n.avail_out),b=p+(n.avail_out-257),o=i.dmax,f=i.wsize,u=i.whave,a=i.wnext,v=i.window,h=i.hold,k=i.bits,z=i.lencode,w=i.distcode,S=(1<<i.lenbits)-1,A=(1<<i.distbits)-1;e:do{k<15&&(h+=_[m++]<<k,k+=8,h+=_[m++]<<k,k+=8),O=z[h&S];t:for(;;){if(h>>>=F=O>>>24,k-=F,(F=O>>>16&255)===0)j[p++]=65535&O;else{if(!(16&F)){if((64&F)==0){O=z[(65535&O)+(h&(1<<F)-1)];continue t}if(32&F){i.mode=12;break e}n.msg="invalid literal/length code",i.mode=30;break e}M=65535&O,(F&=15)&&(k<F&&(h+=_[m++]<<k,k+=8),M+=h&(1<<F)-1,h>>>=F,k-=F),k<15&&(h+=_[m++]<<k,k+=8,h+=_[m++]<<k,k+=8),O=w[h&A];r:for(;;){if(h>>>=F=O>>>24,k-=F,!(16&(F=O>>>16&255))){if((64&F)==0){O=w[(65535&O)+(h&(1<<F)-1)];continue r}n.msg="invalid distance code",i.mode=30;break e}if(G=65535&O,k<(F&=15)&&(h+=_[m++]<<k,(k+=8)<F&&(h+=_[m++]<<k,k+=8)),o<(G+=h&(1<<F)-1)){n.msg="invalid distance too far back",i.mode=30;break e}if(h>>>=F,k-=F,(F=p-y)<G){if(u<(F=G-F)&&i.sane){n.msg="invalid distance too far back",i.mode=30;break e}if(R=v,(E=0)===a){if(E+=f-F,F<M){for(M-=F;j[p++]=v[E++],--F;);E=p-G,R=j}}else if(a<F){if(E+=f+a-F,(F-=a)<M){for(M-=F;j[p++]=v[E++],--F;);if(E=0,a<M){for(M-=F=a;j[p++]=v[E++],--F;);E=p-G,R=j}}}else if(E+=a-F,F<M){for(M-=F;j[p++]=v[E++],--F;);E=p-G,R=j}for(;2<M;)j[p++]=R[E++],j[p++]=R[E++],j[p++]=R[E++],M-=3;M&&(j[p++]=R[E++],1<M&&(j[p++]=R[E++]))}else{for(E=p-G;j[p++]=j[E++],j[p++]=j[E++],j[p++]=j[E++],2<(M-=3););M&&(j[p++]=j[E++],1<M&&(j[p++]=j[E++]))}break}}break}}while(m<g&&p<b);m-=M=k>>3,h&=(1<<(k-=M<<3))-1,n.next_in=m,n.next_out=p,n.avail_in=m<g?g-m+5:5-(m-g),n.avail_out=p<b?b-p+257:257-(p-b),i.hold=h,i.bits=k}},{}],49:[function(t,d,c){var n=t("../utils/common"),l=t("./adler32"),i=t("./crc32"),m=t("./inffast"),g=t("./inftrees"),p=1,y=2,b=0,o=-2,f=1,u=852,a=592;function v(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(E){var R;return E&&E.state?(R=E.state,E.total_in=E.total_out=R.total=0,E.msg="",R.wrap&&(E.adler=1&R.wrap),R.mode=f,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new n.Buf32(u),R.distcode=R.distdyn=new n.Buf32(a),R.sane=1,R.back=-1,b):o}function z(E){var R;return E&&E.state?((R=E.state).wsize=0,R.whave=0,R.wnext=0,k(E)):o}function w(E,R){var _,j;return E&&E.state?(j=E.state,R<0?(_=0,R=-R):(_=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?o:(j.window!==null&&j.wbits!==R&&(j.window=null),j.wrap=_,j.wbits=R,z(E))):o}function S(E,R){var _,j;return E?(j=new h,(E.state=j).window=null,(_=w(E,R))!==b&&(E.state=null),_):o}var A,O,F=!0;function M(E){if(F){var R;for(A=new n.Buf32(512),O=new n.Buf32(32),R=0;R<144;)E.lens[R++]=8;for(;R<256;)E.lens[R++]=9;for(;R<280;)E.lens[R++]=7;for(;R<288;)E.lens[R++]=8;for(g(p,E.lens,0,288,A,0,E.work,{bits:9}),R=0;R<32;)E.lens[R++]=5;g(y,E.lens,0,32,O,0,E.work,{bits:5}),F=!1}E.lencode=A,E.lenbits=9,E.distcode=O,E.distbits=5}function G(E,R,_,j){var V,$=E.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new n.Buf8($.wsize)),j>=$.wsize?(n.arraySet($.window,R,_-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(j<(V=$.wsize-$.wnext)&&(V=j),n.arraySet($.window,R,_-j,V,$.wnext),(j-=V)?(n.arraySet($.window,R,_-j,j,0),$.wnext=j,$.whave=$.wsize):($.wnext+=V,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=V))),0}c.inflateReset=z,c.inflateReset2=w,c.inflateResetKeep=k,c.inflateInit=function(E){return S(E,15)},c.inflateInit2=S,c.inflate=function(E,R){var _,j,V,$,re,W,ee,D,L,te,X,Y,le,pe,oe,se,de,ue,xe,ke,s,N,P,C,x=0,T=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return o;(_=E.state).mode===12&&(_.mode=13),re=E.next_out,V=E.output,ee=E.avail_out,$=E.next_in,j=E.input,W=E.avail_in,D=_.hold,L=_.bits,te=W,X=ee,N=b;e:for(;;)switch(_.mode){case f:if(_.wrap===0){_.mode=13;break}for(;L<16;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(2&_.wrap&&D===35615){T[_.check=0]=255&D,T[1]=D>>>8&255,_.check=i(_.check,T,2,0),L=D=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&D)<<8)+(D>>8))%31){E.msg="incorrect header check",_.mode=30;break}if((15&D)!=8){E.msg="unknown compression method",_.mode=30;break}if(L-=4,s=8+(15&(D>>>=4)),_.wbits===0)_.wbits=s;else if(s>_.wbits){E.msg="invalid window size",_.mode=30;break}_.dmax=1<<s,E.adler=_.check=1,_.mode=512&D?10:12,L=D=0;break;case 2:for(;L<16;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(_.flags=D,(255&_.flags)!=8){E.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){E.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=D>>8&1),512&_.flags&&(T[0]=255&D,T[1]=D>>>8&255,_.check=i(_.check,T,2,0)),L=D=0,_.mode=3;case 3:for(;L<32;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}_.head&&(_.head.time=D),512&_.flags&&(T[0]=255&D,T[1]=D>>>8&255,T[2]=D>>>16&255,T[3]=D>>>24&255,_.check=i(_.check,T,4,0)),L=D=0,_.mode=4;case 4:for(;L<16;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}_.head&&(_.head.xflags=255&D,_.head.os=D>>8),512&_.flags&&(T[0]=255&D,T[1]=D>>>8&255,_.check=i(_.check,T,2,0)),L=D=0,_.mode=5;case 5:if(1024&_.flags){for(;L<16;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}_.length=D,_.head&&(_.head.extra_len=D),512&_.flags&&(T[0]=255&D,T[1]=D>>>8&255,_.check=i(_.check,T,2,0)),L=D=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(W<(Y=_.length)&&(Y=W),Y&&(_.head&&(s=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),n.arraySet(_.head.extra,j,$,Y,s)),512&_.flags&&(_.check=i(_.check,j,Y,$)),W-=Y,$+=Y,_.length-=Y),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(W===0)break e;for(Y=0;s=j[$+Y++],_.head&&s&&_.length<65536&&(_.head.name+=String.fromCharCode(s)),s&&Y<W;);if(512&_.flags&&(_.check=i(_.check,j,Y,$)),W-=Y,$+=Y,s)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(W===0)break e;for(Y=0;s=j[$+Y++],_.head&&s&&_.length<65536&&(_.head.comment+=String.fromCharCode(s)),s&&Y<W;);if(512&_.flags&&(_.check=i(_.check,j,Y,$)),W-=Y,$+=Y,s)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;L<16;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(D!==(65535&_.check)){E.msg="header crc mismatch",_.mode=30;break}L=D=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),E.adler=_.check=0,_.mode=12;break;case 10:for(;L<32;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}E.adler=_.check=v(D),L=D=0,_.mode=11;case 11:if(_.havedict===0)return E.next_out=re,E.avail_out=ee,E.next_in=$,E.avail_in=W,_.hold=D,_.bits=L,2;E.adler=_.check=1,_.mode=12;case 12:if(R===5||R===6)break e;case 13:if(_.last){D>>>=7&L,L-=7&L,_.mode=27;break}for(;L<3;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}switch(_.last=1&D,L-=1,3&(D>>>=1)){case 0:_.mode=14;break;case 1:if(M(_),_.mode=20,R!==6)break;D>>>=2,L-=2;break e;case 2:_.mode=17;break;case 3:E.msg="invalid block type",_.mode=30}D>>>=2,L-=2;break;case 14:for(D>>>=7&L,L-=7&L;L<32;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if((65535&D)!=(D>>>16^65535)){E.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&D,L=D=0,_.mode=15,R===6)break e;case 15:_.mode=16;case 16:if(Y=_.length){if(W<Y&&(Y=W),ee<Y&&(Y=ee),Y===0)break e;n.arraySet(V,j,$,Y,re),W-=Y,$+=Y,ee-=Y,re+=Y,_.length-=Y;break}_.mode=12;break;case 17:for(;L<14;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(_.nlen=257+(31&D),D>>>=5,L-=5,_.ndist=1+(31&D),D>>>=5,L-=5,_.ncode=4+(15&D),D>>>=4,L-=4,286<_.nlen||30<_.ndist){E.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;L<3;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}_.lens[U[_.have++]]=7&D,D>>>=3,L-=3}for(;_.have<19;)_.lens[U[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,P={bits:_.lenbits},N=g(0,_.lens,0,19,_.lencode,0,_.work,P),_.lenbits=P.bits,N){E.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;se=(x=_.lencode[D&(1<<_.lenbits)-1])>>>16&255,de=65535&x,!((oe=x>>>24)<=L);){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(de<16)D>>>=oe,L-=oe,_.lens[_.have++]=de;else{if(de===16){for(C=oe+2;L<C;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(D>>>=oe,L-=oe,_.have===0){E.msg="invalid bit length repeat",_.mode=30;break}s=_.lens[_.have-1],Y=3+(3&D),D>>>=2,L-=2}else if(de===17){for(C=oe+3;L<C;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}L-=oe,s=0,Y=3+(7&(D>>>=oe)),D>>>=3,L-=3}else{for(C=oe+7;L<C;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}L-=oe,s=0,Y=11+(127&(D>>>=oe)),D>>>=7,L-=7}if(_.have+Y>_.nlen+_.ndist){E.msg="invalid bit length repeat",_.mode=30;break}for(;Y--;)_.lens[_.have++]=s}}if(_.mode===30)break;if(_.lens[256]===0){E.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,P={bits:_.lenbits},N=g(p,_.lens,0,_.nlen,_.lencode,0,_.work,P),_.lenbits=P.bits,N){E.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,P={bits:_.distbits},N=g(y,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,P),_.distbits=P.bits,N){E.msg="invalid distances set",_.mode=30;break}if(_.mode=20,R===6)break e;case 20:_.mode=21;case 21:if(6<=W&&258<=ee){E.next_out=re,E.avail_out=ee,E.next_in=$,E.avail_in=W,_.hold=D,_.bits=L,m(E,X),re=E.next_out,V=E.output,ee=E.avail_out,$=E.next_in,j=E.input,W=E.avail_in,D=_.hold,L=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;se=(x=_.lencode[D&(1<<_.lenbits)-1])>>>16&255,de=65535&x,!((oe=x>>>24)<=L);){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(se&&(240&se)==0){for(ue=oe,xe=se,ke=de;se=(x=_.lencode[ke+((D&(1<<ue+xe)-1)>>ue)])>>>16&255,de=65535&x,!(ue+(oe=x>>>24)<=L);){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}D>>>=ue,L-=ue,_.back+=ue}if(D>>>=oe,L-=oe,_.back+=oe,_.length=de,se===0){_.mode=26;break}if(32&se){_.back=-1,_.mode=12;break}if(64&se){E.msg="invalid literal/length code",_.mode=30;break}_.extra=15&se,_.mode=22;case 22:if(_.extra){for(C=_.extra;L<C;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}_.length+=D&(1<<_.extra)-1,D>>>=_.extra,L-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;se=(x=_.distcode[D&(1<<_.distbits)-1])>>>16&255,de=65535&x,!((oe=x>>>24)<=L);){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if((240&se)==0){for(ue=oe,xe=se,ke=de;se=(x=_.distcode[ke+((D&(1<<ue+xe)-1)>>ue)])>>>16&255,de=65535&x,!(ue+(oe=x>>>24)<=L);){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}D>>>=ue,L-=ue,_.back+=ue}if(D>>>=oe,L-=oe,_.back+=oe,64&se){E.msg="invalid distance code",_.mode=30;break}_.offset=de,_.extra=15&se,_.mode=24;case 24:if(_.extra){for(C=_.extra;L<C;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}_.offset+=D&(1<<_.extra)-1,D>>>=_.extra,L-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){E.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(ee===0)break e;if(Y=X-ee,_.offset>Y){if((Y=_.offset-Y)>_.whave&&_.sane){E.msg="invalid distance too far back",_.mode=30;break}le=Y>_.wnext?(Y-=_.wnext,_.wsize-Y):_.wnext-Y,Y>_.length&&(Y=_.length),pe=_.window}else pe=V,le=re-_.offset,Y=_.length;for(ee<Y&&(Y=ee),ee-=Y,_.length-=Y;V[re++]=pe[le++],--Y;);_.length===0&&(_.mode=21);break;case 26:if(ee===0)break e;V[re++]=_.length,ee--,_.mode=21;break;case 27:if(_.wrap){for(;L<32;){if(W===0)break e;W--,D|=j[$++]<<L,L+=8}if(X-=ee,E.total_out+=X,_.total+=X,X&&(E.adler=_.check=_.flags?i(_.check,V,X,re-X):l(_.check,V,X,re-X)),X=ee,(_.flags?D:v(D))!==_.check){E.msg="incorrect data check",_.mode=30;break}L=D=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;L<32;){if(W===0)break e;W--,D+=j[$++]<<L,L+=8}if(D!==(4294967295&_.total)){E.msg="incorrect length check",_.mode=30;break}L=D=0}_.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;case 32:default:return o}return E.next_out=re,E.avail_out=ee,E.next_in=$,E.avail_in=W,_.hold=D,_.bits=L,(_.wsize||X!==E.avail_out&&_.mode<30&&(_.mode<27||R!==4))&&G(E,E.output,E.next_out,X-E.avail_out)?(_.mode=31,-4):(te-=E.avail_in,X-=E.avail_out,E.total_in+=te,E.total_out+=X,_.total+=X,_.wrap&&X&&(E.adler=_.check=_.flags?i(_.check,V,X,E.next_out-X):l(_.check,V,X,E.next_out-X)),E.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(te==0&&X===0||R===4)&&N===b&&(N=-5),N)},c.inflateEnd=function(E){if(!E||!E.state)return o;var R=E.state;return R.window&&(R.window=null),E.state=null,b},c.inflateGetHeader=function(E,R){var _;return E&&E.state?(2&(_=E.state).wrap)==0?o:((_.head=R).done=!1,b):o},c.inflateSetDictionary=function(E,R){var _,j=R.length;return E&&E.state?(_=E.state).wrap!==0&&_.mode!==11?o:_.mode===11&&l(1,R,j,0)!==_.check?-3:G(E,R,j,j)?(_.mode=31,-4):(_.havedict=1,b):o},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,d,c){var n=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];d.exports=function(p,y,b,o,f,u,a,v){var h,k,z,w,S,A,O,F,M,G=v.bits,E=0,R=0,_=0,j=0,V=0,$=0,re=0,W=0,ee=0,D=0,L=null,te=0,X=new n.Buf16(16),Y=new n.Buf16(16),le=null,pe=0;for(E=0;E<=15;E++)X[E]=0;for(R=0;R<o;R++)X[y[b+R]]++;for(V=G,j=15;1<=j&&X[j]===0;j--);if(j<V&&(V=j),j===0)return f[u++]=20971520,f[u++]=20971520,v.bits=1,0;for(_=1;_<j&&X[_]===0;_++);for(V<_&&(V=_),E=W=1;E<=15;E++)if(W<<=1,(W-=X[E])<0)return-1;if(0<W&&(p===0||j!==1))return-1;for(Y[1]=0,E=1;E<15;E++)Y[E+1]=Y[E]+X[E];for(R=0;R<o;R++)y[b+R]!==0&&(a[Y[y[b+R]]++]=R);if(A=p===0?(L=le=a,19):p===1?(L=l,te-=257,le=i,pe-=257,256):(L=m,le=g,-1),E=_,S=u,re=R=D=0,z=-1,w=(ee=1<<($=V))-1,p===1&&852<ee||p===2&&592<ee)return 1;for(;;){for(O=E-re,M=a[R]<A?(F=0,a[R]):a[R]>A?(F=le[pe+a[R]],L[te+a[R]]):(F=96,0),h=1<<E-re,_=k=1<<$;f[S+(D>>re)+(k-=h)]=O<<24|F<<16|M|0,k!==0;);for(h=1<<E-1;D&h;)h>>=1;if(h!==0?(D&=h-1,D+=h):D=0,R++,--X[E]==0){if(E===j)break;E=y[b+a[R]]}if(V<E&&(D&w)!==z){for(re===0&&(re=V),S+=_,W=1<<($=E-re);$+re<j&&!((W-=X[$+re])<=0);)$++,W<<=1;if(ee+=1<<$,p===1&&852<ee||p===2&&592<ee)return 1;f[z=D&w]=V<<24|$<<16|S-u|0}}return D!==0&&(f[S+D]=E-re<<24|64<<16|0),v.bits=V,0}},{"../utils/common":41}],51:[function(t,d,c){d.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,d,c){var n=t("../utils/common"),l=0,i=1;function m(x){for(var T=x.length;0<=--T;)x[T]=0}var g=0,p=29,y=256,b=y+1+p,o=30,f=19,u=2*b+1,a=15,v=16,h=7,k=256,z=16,w=17,S=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(b+2));m(G);var E=new Array(2*o);m(E);var R=new Array(512);m(R);var _=new Array(256);m(_);var j=new Array(p);m(j);var V,$,re,W=new Array(o);function ee(x,T,U,Z,I){this.static_tree=x,this.extra_bits=T,this.extra_base=U,this.elems=Z,this.max_length=I,this.has_stree=x&&x.length}function D(x,T){this.dyn_tree=x,this.max_code=0,this.stat_desc=T}function L(x){return x<256?R[x]:R[256+(x>>>7)]}function te(x,T){x.pending_buf[x.pending++]=255&T,x.pending_buf[x.pending++]=T>>>8&255}function X(x,T,U){x.bi_valid>v-U?(x.bi_buf|=T<<x.bi_valid&65535,te(x,x.bi_buf),x.bi_buf=T>>v-x.bi_valid,x.bi_valid+=U-v):(x.bi_buf|=T<<x.bi_valid&65535,x.bi_valid+=U)}function Y(x,T,U){X(x,U[2*T],U[2*T+1])}function le(x,T){for(var U=0;U|=1&x,x>>>=1,U<<=1,0<--T;);return U>>>1}function pe(x,T,U){var Z,I,H=new Array(a+1),J=0;for(Z=1;Z<=a;Z++)H[Z]=J=J+U[Z-1]<<1;for(I=0;I<=T;I++){var q=x[2*I+1];q!==0&&(x[2*I]=le(H[q]++,q))}}function oe(x){var T;for(T=0;T<b;T++)x.dyn_ltree[2*T]=0;for(T=0;T<o;T++)x.dyn_dtree[2*T]=0;for(T=0;T<f;T++)x.bl_tree[2*T]=0;x.dyn_ltree[2*k]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function se(x){8<x.bi_valid?te(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function de(x,T,U,Z){var I=2*T,H=2*U;return x[I]<x[H]||x[I]===x[H]&&Z[T]<=Z[U]}function ue(x,T,U){for(var Z=x.heap[U],I=U<<1;I<=x.heap_len&&(I<x.heap_len&&de(T,x.heap[I+1],x.heap[I],x.depth)&&I++,!de(T,Z,x.heap[I],x.depth));)x.heap[U]=x.heap[I],U=I,I<<=1;x.heap[U]=Z}function xe(x,T,U){var Z,I,H,J,q=0;if(x.last_lit!==0)for(;Z=x.pending_buf[x.d_buf+2*q]<<8|x.pending_buf[x.d_buf+2*q+1],I=x.pending_buf[x.l_buf+q],q++,Z===0?Y(x,I,T):(Y(x,(H=_[I])+y+1,T),(J=A[H])!==0&&X(x,I-=j[H],J),Y(x,H=L(--Z),U),(J=O[H])!==0&&X(x,Z-=W[H],J)),q<x.last_lit;);Y(x,k,T)}function ke(x,T){var U,Z,I,H=T.dyn_tree,J=T.stat_desc.static_tree,q=T.stat_desc.has_stree,Q=T.stat_desc.elems,ce=-1;for(x.heap_len=0,x.heap_max=u,U=0;U<Q;U++)H[2*U]!==0?(x.heap[++x.heap_len]=ce=U,x.depth[U]=0):H[2*U+1]=0;for(;x.heap_len<2;)H[2*(I=x.heap[++x.heap_len]=ce<2?++ce:0)]=1,x.depth[I]=0,x.opt_len--,q&&(x.static_len-=J[2*I+1]);for(T.max_code=ce,U=x.heap_len>>1;1<=U;U--)ue(x,H,U);for(I=Q;U=x.heap[1],x.heap[1]=x.heap[x.heap_len--],ue(x,H,1),Z=x.heap[1],x.heap[--x.heap_max]=U,x.heap[--x.heap_max]=Z,H[2*I]=H[2*U]+H[2*Z],x.depth[I]=(x.depth[U]>=x.depth[Z]?x.depth[U]:x.depth[Z])+1,H[2*U+1]=H[2*Z+1]=I,x.heap[1]=I++,ue(x,H,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(ae,ge){var He,Ce,qe,fe,ot,xt,Ee=ge.dyn_tree,Wt=ge.max_code,tn=ge.stat_desc.static_tree,rn=ge.stat_desc.has_stree,nn=ge.stat_desc.extra_bits,Zt=ge.stat_desc.extra_base,Ye=ge.stat_desc.max_length,at=0;for(fe=0;fe<=a;fe++)ae.bl_count[fe]=0;for(Ee[2*ae.heap[ae.heap_max]+1]=0,He=ae.heap_max+1;He<u;He++)Ye<(fe=Ee[2*Ee[2*(Ce=ae.heap[He])+1]+1]+1)&&(fe=Ye,at++),Ee[2*Ce+1]=fe,Wt<Ce||(ae.bl_count[fe]++,ot=0,Zt<=Ce&&(ot=nn[Ce-Zt]),xt=Ee[2*Ce],ae.opt_len+=xt*(fe+ot),rn&&(ae.static_len+=xt*(tn[2*Ce+1]+ot)));if(at!==0){do{for(fe=Ye-1;ae.bl_count[fe]===0;)fe--;ae.bl_count[fe]--,ae.bl_count[fe+1]+=2,ae.bl_count[Ye]--,at-=2}while(0<at);for(fe=Ye;fe!==0;fe--)for(Ce=ae.bl_count[fe];Ce!==0;)Wt<(qe=ae.heap[--He])||(Ee[2*qe+1]!==fe&&(ae.opt_len+=(fe-Ee[2*qe+1])*Ee[2*qe],Ee[2*qe+1]=fe),Ce--)}}(x,T),pe(H,ce,x.bl_count)}function s(x,T,U){var Z,I,H=-1,J=T[1],q=0,Q=7,ce=4;for(J===0&&(Q=138,ce=3),T[2*(U+1)+1]=65535,Z=0;Z<=U;Z++)I=J,J=T[2*(Z+1)+1],++q<Q&&I===J||(q<ce?x.bl_tree[2*I]+=q:I!==0?(I!==H&&x.bl_tree[2*I]++,x.bl_tree[2*z]++):q<=10?x.bl_tree[2*w]++:x.bl_tree[2*S]++,H=I,ce=(q=0)===J?(Q=138,3):I===J?(Q=6,3):(Q=7,4))}function N(x,T,U){var Z,I,H=-1,J=T[1],q=0,Q=7,ce=4;for(J===0&&(Q=138,ce=3),Z=0;Z<=U;Z++)if(I=J,J=T[2*(Z+1)+1],!(++q<Q&&I===J)){if(q<ce)for(;Y(x,I,x.bl_tree),--q!=0;);else I!==0?(I!==H&&(Y(x,I,x.bl_tree),q--),Y(x,z,x.bl_tree),X(x,q-3,2)):q<=10?(Y(x,w,x.bl_tree),X(x,q-3,3)):(Y(x,S,x.bl_tree),X(x,q-11,7));H=I,ce=(q=0)===J?(Q=138,3):I===J?(Q=6,3):(Q=7,4)}}m(W);var P=!1;function C(x,T,U,Z){X(x,(g<<1)+(Z?1:0),3),function(I,H,J,q){se(I),q&&(te(I,J),te(I,~J)),n.arraySet(I.pending_buf,I.window,H,J,I.pending),I.pending+=J}(x,T,U,!0)}c._tr_init=function(x){P||(function(){var T,U,Z,I,H,J=new Array(a+1);for(I=Z=0;I<p-1;I++)for(j[I]=Z,T=0;T<1<<A[I];T++)_[Z++]=I;for(_[Z-1]=I,I=H=0;I<16;I++)for(W[I]=H,T=0;T<1<<O[I];T++)R[H++]=I;for(H>>=7;I<o;I++)for(W[I]=H<<7,T=0;T<1<<O[I]-7;T++)R[256+H++]=I;for(U=0;U<=a;U++)J[U]=0;for(T=0;T<=143;)G[2*T+1]=8,T++,J[8]++;for(;T<=255;)G[2*T+1]=9,T++,J[9]++;for(;T<=279;)G[2*T+1]=7,T++,J[7]++;for(;T<=287;)G[2*T+1]=8,T++,J[8]++;for(pe(G,b+1,J),T=0;T<o;T++)E[2*T+1]=5,E[2*T]=le(T,5);V=new ee(G,A,y+1,b,a),$=new ee(E,O,0,o,a),re=new ee(new Array(0),F,0,f,h)}(),P=!0),x.l_desc=new D(x.dyn_ltree,V),x.d_desc=new D(x.dyn_dtree,$),x.bl_desc=new D(x.bl_tree,re),x.bi_buf=0,x.bi_valid=0,oe(x)},c._tr_stored_block=C,c._tr_flush_block=function(x,T,U,Z){var I,H,J=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(q){var Q,ce=4093624447;for(Q=0;Q<=31;Q++,ce>>>=1)if(1&ce&&q.dyn_ltree[2*Q]!==0)return l;if(q.dyn_ltree[18]!==0||q.dyn_ltree[20]!==0||q.dyn_ltree[26]!==0)return i;for(Q=32;Q<y;Q++)if(q.dyn_ltree[2*Q]!==0)return i;return l}(x)),ke(x,x.l_desc),ke(x,x.d_desc),J=function(q){var Q;for(s(q,q.dyn_ltree,q.l_desc.max_code),s(q,q.dyn_dtree,q.d_desc.max_code),ke(q,q.bl_desc),Q=f-1;3<=Q&&q.bl_tree[2*M[Q]+1]===0;Q--);return q.opt_len+=3*(Q+1)+5+5+4,Q}(x),I=x.opt_len+3+7>>>3,(H=x.static_len+3+7>>>3)<=I&&(I=H)):I=H=U+5,U+4<=I&&T!==-1?C(x,T,U,Z):x.strategy===4||H===I?(X(x,2+(Z?1:0),3),xe(x,G,E)):(X(x,4+(Z?1:0),3),function(q,Q,ce,ae){var ge;for(X(q,Q-257,5),X(q,ce-1,5),X(q,ae-4,4),ge=0;ge<ae;ge++)X(q,q.bl_tree[2*M[ge]+1],3);N(q,q.dyn_ltree,Q-1),N(q,q.dyn_dtree,ce-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,J+1),xe(x,x.dyn_ltree,x.dyn_dtree)),oe(x),Z&&se(x)},c._tr_tally=function(x,T,U){return x.pending_buf[x.d_buf+2*x.last_lit]=T>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&T,x.pending_buf[x.l_buf+x.last_lit]=255&U,x.last_lit++,T===0?x.dyn_ltree[2*U]++:(x.matches++,T--,x.dyn_ltree[2*(_[U]+y+1)]++,x.dyn_dtree[2*L(T)]++),x.last_lit===x.lit_bufsize-1},c._tr_align=function(x){X(x,2,3),Y(x,k,G),function(T){T.bi_valid===16?(te(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(t,d,c){d.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,d,c){d.exports=typeof setImmediate=="function"?setImmediate:function(){var n=[].slice.apply(arguments);n.splice(1,0,0),setTimeout.apply(null,n)}},{}]},{},[10])(10)})})(Pr);var En=Pr.exports;const Ct=Symbol("singleComment"),sr=Symbol("multiComment"),Sn=()=>"",An=(e,r,t)=>e.slice(r,t).replace(/\S/g," "),zn=(e,r)=>{let t=r-1,d=0;for(;e[t]==="\\";)t-=1,d+=1;return Boolean(d%2)};var On=(e,r={})=>{if(typeof e!="string")throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);const t=r.whitespace===!1?Sn:An;let d=!1,c=!1,n=0,l="";for(let i=0;i<e.length;i++){const m=e[i],g=e[i+1];if(!c&&m==='"'&&(zn(e,i)||(d=!d)),!d){if(!c&&m+g==="//")l+=e.slice(n,i),n=i,c=Ct,i++;else if(c===Ct&&m+g===`\r
`){i++,c=!1,l+=t(e,n,i),n=i;continue}else if(c===Ct&&m===`
`)c=!1,l+=t(e,n,i),n=i;else if(!c&&m+g==="/*"){l+=e.slice(n,i),n=i,c=sr,i++;continue}else if(c===sr&&m+g==="*/"){i++,c=!1,l+=t(e,n,i+1),n=i+1;continue}}}return l+(c?t(e.slice(n)):e.slice(n))};const $e=["1.16.5","1.17.1","21w44a","1.18.1","1.18.2","1.19"];var Le;(e=>{e.DEFAULT_SOURCE="1.17.1",e.DEFAULT_TARGET="1.18.1";function r(l){return $e.indexOf(l)}e.ord=r;function t(l,i){return r(l)<r(i)}e.order=t;function d(l,i,m,g){return r(l)<r(g)&&r(i)>r(m)}e.includes=d;function c(l,i,m,g){return r(l)<=r(g)&&r(i)>=r(m)}e.includesInclusive=c;function n(l,i){return!1}e.isWorkInProgress=n})(Le||(Le={}));var B;(e=>{function r(...y){return async(b,o)=>{for(const f of y)await f(b,o)}}e.all=r;function t(y,b){return async(o,f)=>{for(const u of o.data[y]){if(u.error||u.deleted)continue;const a=ye(ie({},f),{warn:v=>f.warn(v,[u.name])});try{await b(u,a)}catch(v){throw v.message=`Error fixing ${y.replace(/^worldgen\//,"").replaceAll("_"," ")} ${u.name}: ${v.message}`,v}}}}e.onFile=t;function d(...y){return async(b,o)=>{const f={},u=ye(ie({},o),{warn:(a,v)=>{v===void 0?f[a]=[]:v.forEach(h=>{var k;((k=f[a])!=null?k:f[a]=[]).push(h)})}});await e.all(...y)(b,u),Object.entries(f).forEach(([a,v])=>o.warn(a,[...new Set(v)]))}}e.groupProblems=d;function c(y,...b){return async(o,f)=>{f.config(y)&&await e.all(...b)(o,f)}}e.when=c;function n(y,b){return async(o,f)=>{if(!y(o,f))throw new Error(b)}}e.assert=n;function l(y,b,...o){return async(f,u)=>{Le.includes(u.source(),u.target(),y,b)&&await e.all(...o)(f,u)}}e.version=l;function i(y,b,...o){return async(f,u)=>{Le.includesInclusive(u.source(),u.target(),y,b)&&await e.all(...o)(f,u)}}e.versionInclusive=i;function m(y){return async()=>{console.debug(y)}}e.debug=m;function g(y){return e.all(e.assert(b=>b.meta.data.pack.pack_format<y,`This pack already has pack_format ${y} or higher and cannot be upgraded.`),e.when("packFormat",async b=>b.meta.data.pack.pack_format=y))}e.packFormat=g;function p(y,b){return async o=>{o.data[b]=o.data[y].map(f=>ie({},f)),o.data[y].forEach(f=>f.deleted=!0)}}e.rename=p})(B||(B={}));const Fn=B.all(B.onFile("worldgen/configured_carver",({data:e})=>Et(e)),B.onFile("worldgen/biome",({data:e})=>{var r,t;typeof e.carvers=="object"&&((r=e.carvers.air)==null||r.forEach(Et),(t=e.carvers.liquid)==null||t.forEach(Et))}));function Et(e){if(typeof e!="object")return;const r=e.type.replace(/^minecraft:/,"");e.config.lava_level={above_bottom:10},e.config.aquifers_enabled=!1,r==="cave"||r==="underwater_cave"||r==="nether_cave"?(r==="nether_cave"?e.config.y={type:"minecraft:uniform",min_inclusive:{absolute:0},max_inclusive:{below_top:1}}:e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:127},inner:8},e.config.yScale=.5,e.config.horizontal_radius_multiplier=1,e.config.vertical_radius_multiplier=1,e.config.floor_level=-.7):(e.config.y={type:"minecraft:biased_to_bottom",min_inclusive:{absolute:20},max_inclusive:{absolute:67},inner:8},e.config.yScale=3,e.config.vertical_rotation={type:"minecraft:uniform",value:{min_inclusive:-.125,max_exclusive:.125}},e.config.shape={distance_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},thickness:{type:"minecraft:trapezoid",value:{min:0,max:6,plateau:2}},width_smoothness:3,horizontal_radius_factor:{type:"minecraft:uniform",value:{min_inclusive:.75,max_exclusive:1}},vertical_radius_default_factor:1,vertical_radius_center_factor:0})}const Tn=B.all(B.onFile("dimension_type",({data:e})=>cr(e)),B.onFile("dimension",({data:e})=>{typeof e.type=="object"&&cr(e.type)}));function cr(e){e.min_y=0,e.height=256}const Rn=B.all(B.onFile("worldgen/configured_feature",({data:e},r)=>Te(e,r)),B.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(Te)}));function Te(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"basalt_columns":je(e.config,"reach"),je(e.config,"height");break;case"decorated":Tt(e.config.decorator,r),Te(e.config.feature,r);break;case"delta_feature":je(e.config,"size"),je(e.config,"rim_size");break;case"disk":case"ice_patch":je(e.config,"radius");break;case"emerald_ore":e.type="minecraft:replace_single_block",e.config={targets:[{target:{predicate_type:"minecraft:blockstate_match",block_state:e.config.target},state:e.config.state}]};break;case"flower":case"no_bonemeal_flower":case"random_patch":const d=e.config.block_placer;d.type.replace(/^minecraft:/,"")==="column_placer"&&(d.size={type:"minecraft:uniform",value:{min_inclusive:d.min_size,max_inclusive:d.min_size+d.extra_size}},delete d.min_size,delete d.extra_size);break;case"fossil":e.config={max_empty_corners_allowed:4,fossil_processors:"minecraft:fossil_rot",overlay_processors:"minecraft:fossil_coal",fossil_structures:["minecraft:fossil/spine_1","minecraft:fossil/spine_2","minecraft:fossil/spine_3","minecraft:fossil/spine_4","minecraft:fossil/skull_1","minecraft:fossil/skull_2","minecraft:fossil/skull_3","minecraft:fossil/skull_4"],overlay_structures:["minecraft:fossil/spine_1_coal","minecraft:fossil/spine_2_coal","minecraft:fossil/spine_3_coal","minecraft:fossil/spine_4_coal","minecraft:fossil/skull_1_coal","minecraft:fossil/skull_2_coal","minecraft:fossil/skull_3_coal","minecraft:fossil/skull_4_coal"]};break;case"netherrack_replace_blobs":const c=e.config.radius;let n=typeof c=="number"?c:c.base,l=typeof c=="number"?c:c.base+c.spread;if(l>12&&(r.warn('Feature "netherrack_replace_blobs" no longer allows values above 12. Consider increasing the count of this feature.'),n=Math.min(12,n),l=Math.min(12,l)),n===l){e.config.radius=n;break}e.config.radius={type:"minecraft:uniform",value:{min_inclusive:n,max_inclusive:l}};break;case"no_surface_ore":lr(e),e.type="minecraft:ore",e.config.discard_chance_on_air_exposure=1;break;case"ore":lr(e);break;case"random_boolean_selector":Te(e.config.feature_false,r),Te(e.config.feature_true,r);break;case"random_selector":e.config.features.forEach(i=>Te(i.feature,r)),Te(e.config.default,r);break;case"sea_pickle":je(e.config,"count");break;case"simple_block":e.config.to_place={type:"minecraft:simple_state_provider",state:e.config.to_place};break;case"simple_random_selector":e.config.features.forEach(i=>Te(i,r));break;case"tree":["radius","offset","crown_height","height","trunk_height"].forEach(i=>je(e.config.foliage_placer,i)),e.config.foliage_provider=e.config.leaves_provider,delete e.config.leaves_provider,e.config.force_dirt=!1,e.config.dirt_provider={type:"minecraft:simple_state_provider",state:{Name:"minecraft:dirt"}},e.config.sapling_provider={type:"minecraft:simple_state_provider",state:{Name:In(e.config.foliage_provider),Properties:{stage:"0"}}},e.type="minecraft:decorated",e.config={decorator:{type:"decorated",config:ze({type:"minecraft:water_depth_threshold",config:{max_water_depth:e.config.max_water_depth}},{type:"minecraft:heightmap",config:{heightmap:e.config.heightmap}})},feature:{type:"minecraft:tree",config:e.config}},delete e.config.feature.config.max_water_depth,delete e.config.feature.config.heightmap;break}}function je(e,r){typeof(e==null?void 0:e[r])=="object"&&(e[r]={type:"minecraft:uniform",value:{min_inclusive:e[r].base,max_inclusive:e[r].base+e[r].spread}})}function lr(e){e.config.discard_chance_on_air_exposure=0,e.config.targets=[{target:e.config.target,state:e.config.state}],delete e.config.target,delete e.config.state}function In(e){if(e.type.replace(/^minecraft:/,"")==="simple_state_provider"){const r=e.state.Name.match(/^(?:minecraft:)?([a-z_]+)_leaves/);if(r)return`minecraft:${r[1]}_sapling`}return"minecraft:oak_sapling"}function Tt(e,r){if(typeof e!="object")return;const t=e.type.replace(/^minecraft:/,"");switch(t){case"carving_mask":if(e.config.probability===0){e.type="minecraft:nope",e.config={};break}const d=1/e.config.probability;e.type="minecraft:decorated",e.config=ze({type:"minecraft:carving_mask",config:{step:e.config.step}},...Number.isInteger(d)?[{type:"minecraft:chance",config:{chance:d}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:e.config.probability}}]),delete e.config.probability;break;case"count":case"count_multilayer":const c=e.config.count;let n=typeof c=="number"?c:c.base,l=typeof c=="number"?c:c.base+c.spread;if(n<0&&(r.warn(`Decorator "${t}" no longer allows negative values.`),n=Math.max(0,n),l=Math.max(0,l)),n===l){e.config.count=n;break}e.config.count={type:"minecraft:uniform",value:{min_inclusive:n,max_inclusive:l}};break;case"decorated":Tt(e.config.outer,r),Tt(e.config.inner,r);break;case"heightmap_world_surface":e.type="minecraft:heightmap",e.config={heightmap:"WORLD_SURFACE_WG"};break;case"top_solid_heightmap":e.type="minecraft:heightmap",e.config={heightmap:"OCEAN_FLOOR_WG"};break;case"heightmap":case"heightmap_spread_double":e.config={heightmap:"MOTION_BLOCKING"};break;case"water_lake":e.type="minecraft:decorated",e.config=ze({type:"minecraft:chance",config:{chance:e.config.chance}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}});break;case"lava_lake":const i=e.config.chance/10;e.type="minecraft:decorated",e.config=ze(...Number.isInteger(i)?[{type:"minecraft:chance",config:{chance:i}}]:[{type:"minecraft:count_extra",config:{count:0,extra_count:1,extra_chance:1/i}}],{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:0},max_inclusive:{absolute:256},inner:8}}},{type:"minecraft:lava_lake",config:{chance:10}});break;case"fire":const m=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=ze({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(m/2)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"glowstone":const g=typeof e.config.count=="number"?e.config.count:e.config.count.base+e.config.count.spread/2;e.type="minecraft:decorated",e.config=ze({type:"minecraft:count",config:{count:{type:"minecraft:biased_to_bottom",value:{min_inclusive:0,max_inclusive:Math.ceil(g-1)}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:252}}}});break;case"range":const p=e.config.bottom_offset,y=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;if(p===y){e.config={height:{absolute:p}};break}e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:p},max_inclusive:{absolute:y}}};break;case"range_biased":const b=e.config.bottom_offset,o=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:biased_to_bottom",min_inclusive:{absolute:b},max_inclusive:{absolute:o},cutoff:b}};break;case"range_very_biased":const f=e.config.bottom_offset,u=e.config.bottom_offset+e.config.maximum-e.config.top_offset-1;e.type="minecraft:range",e.config={height:{type:"minecraft:very_biased_to_bottom",min_inclusive:{absolute:f},max_inclusive:{absolute:u},cutoff:f}};break;case"depth_average":e.type="minecraft:range",e.config={height:{type:"minecraft:trapezoid",min_inclusive:{absolute:e.config.baseline},max_inclusive:{absolute:e.config.baseline+e.config.spread}}};break;case"emerald_ore":e.type="minecraft:decorated",e.config=ze({type:"minecraft:count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:8}}}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:4},max_inclusive:{absolute:31}}}});break;case"end_island":e.type="minecraft:decorated",e.config=ze({type:"minecraft:chance",config:{chance:14}},{type:"minecraft:count_extra",config:{count:1,extra_count:1,extra_chance:.25}},{type:"minecraft:square",config:{}},{type:"minecraft:range",config:{height:{type:"minecraft:uniform",min_inclusive:{absolute:55},max_inclusive:{absolute:70}}}});break;case"magma":r.warn('Removed decorator "magma" previously used the sea level. Assumed sea level is 32 and replaced with a range decorator between 27 and 36.'),e.type="minecraft:range",e.config={height:{type:"minecraft:uniform",min_inclusive:{absolute:27},max_inclusive:{absolute:36}}};break}}function ze(...e){return{outer:e[0],inner:e.length===2?e[1]:{type:"minecraft:decorated",config:ze(...e.slice(1))}}}const Ln=/replaceitem ((?:entity @[parse](\[.*\]*)?|block( [^ ]+){3}) [a-z0-9.]+) /,Dn=/scoreboard objectives add ([^ ]+) (minecraft.)?custom:(minecraft.)?play_one_minute/,jn=B.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("replaceitem ")||r.startsWith("execute "))&&(e[t]=e[t].replace(Ln,"item replace $1 with ")),(r.startsWith("scoreboard")||r.startsWith("execute"))&&(e[t]=e[t].replace(Dn,"scoreboard objectives add $1 $2custom:$3play_time"))})}),Pn=B.all(B.onFile("tags/blocks",({data:e})=>ur(e)),B.onFile("tags/items",({data:e})=>ur(e)));function ur(e){var r;(r=e.values)==null||r.forEach((t,d)=>Bn(e.values,d))}function Bn(e,r){e[r].replace(/^minecraft:/,"")==="grass_path"&&(e[r]="minecraft:dirt_path")}const Mn=B.all(B.onFile("worldgen/noise_settings",({data:e})=>fr(e)),B.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&fr(e.generator.settings)}));function fr(e){typeof e=="object"&&(e.bedrock_roof_position<=-10&&(e.bedrock_roof_position=-2147483648),e.bedrock_floor_position<=-10&&(e.bedrock_floor_position=-2147483648),e.min_surface_level=0,e.noise_caves_enabled=!1,e.noodle_caves_enabled=!1,e.aquifers_enabled=!1,e.deepslate_enabled=!1,e.ore_veins_enabled=!1,e.noise.min_y=0)}const Nn=B.all(B.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Be):Be(e)}),B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Un)}),B.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach($n)}));function Un(e){var r,t;typeof(e==null?void 0:e.conditions)=="object"&&(_e(e.conditions.entity),_e(e.conditions.player),_e(e.conditions.parent),_e(e.conditions.partner),_e(e.conditions.child),_e(e.conditions.villager),_e(e.conditions.zombie),_e(e.conditions.projectile),_e(e.conditions.shooter),(r=e.conditions.victims)==null||r.forEach(_e),vt(e.conditions.item),(t=e.conditions.items)==null||t.forEach(vt),mt(e.conditions.damage),mt(e.conditions.killing_blow),Ve(e.conditions.location),Ve(e.conditions.entered),Ve(e.conditions.exited))}function $n(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(Br),(t=e.conditions)==null||t.forEach(Be))}function Br(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(Br),(t=e.conditions)==null||t.forEach(Be))}function Be(e){var t,d;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(d=e.terms)==null||d.forEach(Be);break;case"inverted":Be(e.term);break;case"match_tool":vt(e.predicate);break;case"entity_properties":_e(e.predicate);break;case"damage_source_properties":mt(e.predicate);break;case"location_check":Ve(e.predicate);break}}function mt(e){typeof e=="object"&&(_e(e.source_entity),_e(e.direct_entity),mt(e.type))}function _e(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Be);return}e.equipment&&Object.values(e.equipment).forEach(vt),_e(e.vehicle),_e(e.targeted_entity),Ve(e.location)}}function Ve(e){typeof e=="object"&&Wn(e.block)}function vt(e){typeof e=="object"&&e.item&&(e.items=[e.item],delete e.item)}function Wn(e){typeof e=="object"&&e.block&&(e.blocks=[e.block],delete e.block)}const Zn=B.all(B.onFile("worldgen/configured_structure_feature",({data:e})=>dr(e)),B.onFile("worldgen/biome",({data:e})=>{Array.isArray(e.starts)&&e.starts.forEach(dr)}));function dr(e){if(typeof e!="object")return;e.type.replace(/^minecraft:/,"")==="nether_fossil"&&(e.config||(e.config={}),e.config.height={type:"minecraft:uniform",min_inclusive:{absolute:32},max_inclusive:{below_top:2}})}const Gn=B.version("1.16.5","1.17.1",B.groupProblems(B.packFormat(7),B.when("ids",Pn),B.when("predicates",Nn),B.when("functions",jn),B.when("worldgen",Tn,Mn,Zn,Fn,Rn))),Hn=B.all(B.onFile("worldgen/configured_feature",Yn),B.onFile("worldgen/biome",({data:e},r)=>{e.player_spawn_friendly=void 0,["air","liquid"].forEach(t=>{Array.isArray(e.carvers[t])&&(e.carvers[t]=e.carvers[t].filter(d=>!Jn.has(d.replace(/^minecraft:/,""))))}),Array.isArray(e.features)&&(e.features=e.features.map(t=>Array.isArray(t)?t.flatMap(d=>{if(typeof d!="string")return d;const c=qn(d,r);return c.forEach(n=>{const l=r.read("worldgen/placed_feature",n);!l||l.data.placement.find(i=>i.type==="minecraft:biome")||l.data.placement.push({type:"minecraft:biome"})}),c}):t))}));function qn(e,r){var d;const t=e.replace(/^minecraft:/,"");return pr.has(t)?pr.get(t).map(c=>`minecraft:${c}`):De.has(t)||Ze.has(t)?[`minecraft:${(d=De.get(t))!=null?d:Ze.get(t)}`]:$r.has(t)&&r.read("worldgen/placed_feature",t)===void 0?[]:Ur.has(t)?[]:[e]}function Yn(e,r){if(typeof e.data!="object")return;const t=$t(e.data,r);typeof t.feature=="string"?e.data=gt(Mr(t.feature,r)):(e.data={type:t==null?void 0:t.feature.type,config:t==null?void 0:t.feature.config},t.feature=e.name),r.create("worldgen/placed_feature",e.name,{feature:t.feature,placement:t==null?void 0:t.placement})}function gt(e){return{type:"minecraft:random_selector",config:{features:[],default:e}}}function $t(e,r){var c;if(typeof e=="string"){const n=e.replace(/^minecraft:/,"");if(Ur.has(n))e={type:"minecraft:no_op",config:{}};else if(Wr.has(n))e=gt(e);else if(De.has(n)||yt.has(n)){const l=(c=yt.get(n))!=null?c:De.get(n);console.log(`Rename ${n} -> configured: ${l}`),e=`minecraft:${l}`}else if(Ze.has(n)){const l=Ze.get(n);console.log(`Redirect ${n} -> placed: ${l}`),e=gt(l)}return{feature:e,placement:[]}}if(typeof e!="object")throw new Error("Feature is not an object nor a string");const t=e.type.replace(/^minecraft:/,""),d=[];switch(t){case"decorated":const n=Nr(e,d,r);e=Kn(n,r);break;case"glow_lichen":e.config.can_be_placed_on=[...new Set(e.config.can_be_placed_on.map(l=>l.Name))];break;case"lake":e.config={fluid:{type:"minecraft:simple_state_provider",state:e.config.state},barrier:{type:"minecraft:simple_state_provider",state:{Name:"minecraft:stone"}}};break;case"nether_forest_vegetation":e.config.spread_width=8,e.config.spread_height=4;break;case"random_boolean_selector":e.config.feature_false=Pe(e.config.feature_false,r),e.config.feature_true=Pe(e.config.feature_true,r);break;case"root_system":e.config.allowed_tree_position={type:"minecraft:true"};case"random_patch":case"flower":case"no_bonemeal_flower":e.config.feature=Pe(e.config.feature,r);break;case"random_selector":e.config.features.forEach(l=>{l.feature=Pe(l.feature,r)}),e.config.default=Pe(e.config.default,r);break;case"simple_random_selector":e.config.features=e.config.features.map(l=>Pe(l,r));break;case"twisting_vines":e.config={spread_width:8,spread_height:4,max_height:8};break;case"vegetation_patch":case"waterlogged_vegetation_patch":e.config.vegetation_feature=Pe(e.config.vegetation_feature,r)}return{feature:e,placement:d}}function Pe(e,r){const t=$t(e,r);return typeof t.feature=="string"&&t.placement.length===0?Mr(t.feature,r):t}function Mr(e,r){var d;const t=e.replace(/^minecraft:/,"");if(De.has(t)||Ze.has(t)){const c=(d=Ze.get(t))!=null?d:De.get(t);return console.log(`Rename placement: ${t} -> ${c}`),`minecraft:${c}`}return!$r.has(t)&&r.read("worldgen/configured_feature",t)===void 0?(console.log(`No placement: ${t}`),e):{feature:e,placement:[]}}function Kn(e,r){var d;const t=$t(e,r);if(typeof t.feature=="string"&&t.placement.length===0){const c=t.feature.replace(/^minecraft:/,"");if(De.has(c)||yt.has(c)){const n=(d=yt.get(c))!=null?d:De.get(c);return console.log(`Rename config: ${c} -> ${n}`),`minecraft:${n}`}if(Wr.has(c))return gt(t.feature)}return t.feature}function Rt(e,r){if(typeof e!="object")return[];const t=e.type.replace(/^minecraft:/,"");switch(t){case"block_filter":return[ie({type:"minecraft:block_predicate_filter"},e.config)];case"cave_surface":const d=e.config.floor_to_ceiling_search_range;d>32&&r.warn('Converting cave_surface decorator into environment_scan: "max_steps" is limited to 32.');const c={direction_of_search:e.config.surface==="ceiling"?"up":"down",target_condition:{type:"minecraft:solid"},allowed_search_condition:{type:"minecraft:matching_blocks",blocks:["minecraft:air",...e.config.allow_water?["minecraft:water"]:[]]},max_steps:Math.min(32,d)};return[ie({type:"minecraft:environment_scan"},c)];case"count_multilayer":return[ie({type:"minecraft:count_on_every_layer"},e.config)];case"chance":return[ie({type:"minecraft:rarity_filter"},e.config)];case"count_extra":let n=e.config.count+e.config.extra_count;if(n>256){let p=[n];for(n-=1;p.some(y=>y>256);)n+=1,p=Xn(n);for(let y=2;y<=5;y+=1){const b=Array(y).fill(1),o=[...p];e:for(;o.length>0;){const f=o.pop();for(let u=0;u<y;u+=1)if(b[u]*f<=256){b[u]*=f;continue e}break}if(o.length===0&&b.every(f=>f<=256))return b.map(f=>({type:"minecraft:count",count:f}))}throw new Error(`Extremely high count: ${e.config.count+e.config.extra_count}`)}const l={type:"minecraft:weighted_list",distribution:[{weight:Math.round(100*(1-e.config.extra_chance)),data:Math.min(256,e.config.count)},{weight:Math.round(100*e.config.extra_chance),data:Math.min(256,n)}]};return[{type:"minecraft:count",count:l}];case"count_noise":return[ie({type:"minecraft:noise_threshold_count"},e.config)];case"count_noise_biased":return[ie({type:"minecraft:noise_based_count"},e.config)];case"dark_oak_tree":return[{type:"minecraft:count",count:16},{type:"minecraft:in_square"}];case"decorated":const i=Rt(e.config.outer,r),m=Rt(e.config.inner,r);return[...i,...m];case"end_gateway":return[{type:"minecraft:random_offset",xz_spread:0,y_spread:{type:"minecraft:uniform",value:{min_inclusive:3,max_inclusive:9}}}];case"iceberg":return[{type:"minecraft:in_square"}];case"lava_lake":return[{type:"minecraft:rarity_filter",chance:10}];case"nope":return[];case"range":return[ie({type:"minecraft:height_range"},e.config)];case"scatter":return[ie({type:"minecraft:random_offset"},e.config)];case"square":return[ie({type:"minecraft:in_square"},e.config)];case"surface_relative_threshold":return[ie({type:"minecraft:surface_relative_threshold_filter"},e.config)];case"water_depth_threshold":return[ie({type:"minecraft:surface_water_depth_filter"},e.config)];default:return[ie({type:t},e.config)]}}function Nr(e,r,t){return typeof e!="object"?e:e.type.replace(/^minecraft:/,"")==="decorated"?(r.push(...Rt(e.config.decorator,t)),Nr(e.config.feature,r,t)):e}function Xn(e){const r=[];let t=2;for(;e>=2;)e%t==0?(r.push(t),e=e/t):t+=1;return r}const pr=new Map(Object.entries({birch_other:["forest_flowers","trees_birch_and_oak"],fossil:["fossil_upper","fossil_lower"],lake_lava:["lake_lava_surface","lake_lava_underground"],monster_room:["monster_room","monster_room_deep"],ore_granite:["ore_granite_upper","ore_granite_lower"],ore_diorite:["ore_diorite_upper","ore_diorite_lower"],ore_andesite:["ore_andesite_upper","ore_andesite_lower"],ore_coal:["ore_coal_upper","ore_coal_lower"],ore_iron:["ore_iron_upper","ore_iron_middle","ore_iron_small"],ore_gold:["ore_gold","ore_gold_lower"],ore_redstone:["ore_redstone","ore_redstone_lower"],ore_diamond:["ore_diamond","ore_diamond_large","ore_diamond_buried"],ore_lapis:["ore_lapis","ore_lapis_buried"]})),Ur=new Set(["lake_water","rare_dripstone_cluster","rare_small_dripstone","ore_deepslate"]),$r=new Set(["azalea_tree","birch_bees_005","bonus_chest","cave_vine_in_moss","clay_pool_with_dripleaves","clay_with_dripleaves","dripleaf","end_gateway_delayed","huge_brown_mushroom","huge_red_mushroom","jungle_tree_no_vine","moss_patch","moss_patch_bonemeal","moss_patch_ceiling","moss_vegetation","oak_bees_005","patch_brown_mushroom","patch_red_mushroom","spring_lava_double","swamp_oak"]),Wr=new Set(["patch_dead_bush_2"]),De=new Map(Object.entries({birch_other:"trees_birch_and_oak",end_gateway:"end_gateway_return",fancy_oak_bees_005:"fancy_oak_bees",flower_forest:"flower_flower_forest",forest_flower_trees:"trees_flower_forest",forest_flower_vegetation:"forest_flowers",forest_flower_vegetation_common:"flower_forest_flowers",grove_vegetation:"trees_grove",mushroom_field_vegetation:"mushroom_island_vegetation",ore_debris_large:"ore_ancient_debris_large",patch_waterlilly:"patch_waterlily",pine:"pine_checked",plain_vegetation:"trees_plains",rooted_azalea_trees:"rooted_azalea_tree",taiga_vegetation:"trees_taiga",trees_giant:"trees_old_growth_pine_taiga",trees_giant_spruce:"trees_old_growth_spruce_taiga",trees_jungle_edge:"trees_sparse_jungle",trees_mountain:"trees_windswept_hills"})),Ze=new Map(Object.entries({acacia:"acacia_checked",birch:"birch_checked",brown_mushroom_giant:"brown_mushroom_old_growth",cave_vine:"cave_vines",dark_oak:"dark_oak_checked",end_island:"end_island_decorated",fancy_oak:"fancy_oak_checked",flower_plain_decorated:"flower_plains",meadow_trees:"trees_meadow",mega_jungle_tree:"mega_jungle_tree_checked",mega_pine:"mega_pine_checked",red_mushroom_giant:"red_mushroom_old_growth",patch_cactus:"patch_cactus_decorated",mega_spruce:"mega_spruce_checked",spruce:"spruce_checked",trees_mountain_edge:"trees_windswept_forest",trees_shattered_savanna:"trees_windswept_savanna"})),yt=new Map(Object.entries({mega_spruce:"mega_spruce",cave_vine:"cave_vine",crimson_fungi_planted:"crimson_fungus_planted",warped_fungi_planted:"warped_fungus_planted"})),Jn=new Set(["ocean_cave","prototype_canyon","prototype_cave","prototype_crevice","underwater_canyon","underwater_cave"]),hr=["raw_generation","lakes","local_modifications","underground_structures","surface_structures","strongholds","underground_ores","underground_decoration","fluid_springs","vegetal_decoration","top_layer_modification"];async function Vn(e,r){var c;const t=e.data["worldgen/biome"].filter(n=>!n.error),d=new Set;for(let n=0;n<hr.length;n+=1){const l=[];for(const g of t){const p=(c=g.data.features[n])!=null?c:[];for(let y=0;y<p.length;y+=1){const b=p[y];if(l.some(f=>f.biome===g.name&&f.id===b)){d.add(g.name);continue}const o=new Set(p.slice(0,y));l.push({id:b,biome:g.name,depends:o})}}const i=[],m=l.filter(g=>l.filter(p=>g.id===p.id).every(p=>p.depends.size===0));for(;m.length>0;){const g=m.pop();if(!i.some(p=>p.id===g.id)){i.push(g);for(const p of l.filter(y=>y.depends.has(g.id)))p.depends.delete(g.id),l.filter(y=>p.id===y.id).every(y=>y.depends.size===0)&&m.push(p)}}if(l.some(g=>g.depends.size>0)){let g=function(f,u,a){if(a<=0)return!1;p.add(f.biome),y.add(f.id);for(const v of f.depends){if(v===u.id)return[u];if(!y.has(v))for(const h of l.filter(k=>k.id===v&&!p.has(k.biome))){const k=g(h,u,a-1);if(k)return[h,...k]}}return p.delete(f.biome),!1};const p=new Set,y=new Set;let b=!1;const o=l.filter(f=>f.depends.size>0);e:for(let f=2;f<10;f+=1)for(const u of o)if(p.clear(),y.clear(),b=g(u,u,f),b)break e;if(b){const f=[`Cycle in step ${n} (${hr[n]}):`];for(let u=b.length-1;u>=0;u-=1){const a=b[u],v=b[(u+1+b.length)%b.length];f.push(`\u2022 Biome ${a.biome}: '${v.id}' -> '${a.id}'`)}r.warn("!Feature order cycle found. Needs manual fixing.",[],f)}}}d.size>0&&r.warn("!Detected duplicate features. They are no longer allowed.",[...d])}const Qn=B.all(B.onFile("worldgen/noise_settings",({data:e})=>_r(e)),B.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&_r(e.generator.settings)}));function _r(e){It(e.surface_rule)}function It(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>It(t));break;case"condition":Zr(e.if_true),It(e.then_run)}}function Zr(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"not":Zr(e.invert);break;case"stone_depth":e.offset=0,e.add_surface_depth=e.add_run_depth,e.add_surface_secondary_depth=!1,delete e.add_run_depth;break;case"water":case"y_above":e.surface_depth_multiplier=e.run_depth_multiplier,delete e.run_depth_multiplier}}const ei=B.all(B.version("21w44a","1.18.1",B.groupProblems(B.when("worldgen",Hn,Qn))),B.versionInclusive("1.18.1","1.18.1",B.when("featureCycles",Vn))),ti=B.all(B.onFile("dimension",({data:e})=>ri(e.generator)));function ri(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"flat":if(typeof e.settings!="object")return;e.settings.structure_overrides=[],delete e.settings.structures}}const ni=B.all(B.onFile("dimension_type",({data:e})=>mr(e)),B.onFile("dimension",({data:e})=>{typeof e.type=="object"&&mr(e.type)}));function mr(e){e.infiniburn.startsWith("#")||(e.infiniburn="#"+e.infiniburn)}const ii=B.all(B.onFile("worldgen/configured_feature",({data:e})=>Gr(e)),B.onFile("worldgen/placed_feature",({data:e})=>Oe(e)));function Oe(e){typeof e=="object"&&Gr(e.feature)}function Gr(e){var t;if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"random_boolean_selector":Oe(e.config.feature_false),Oe(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":Oe(e.config.feature);break;case"random_selector":e.config.features.forEach(d=>{Oe(d.feature)}),Oe(e.config.default);break;case"simple_random_selector":e.config.features.forEach(d=>{Oe(d)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":Oe(e.config.vegetation_feature),typeof e.config=="object"&&(e.config.replaceable.startsWith("#")||(e.config.replaceable="#"+e.config.replaceable));break;case"geode":typeof((t=e.config)==null?void 0:t.blocks)=="object"&&(e.config.blocks.cannot_replace.startsWith("#")||(e.config.blocks.cannot_replace="#"+e.config.blocks.cannot_replace),e.config.blocks.invalid_blocks.startsWith("#")||(e.config.blocks.invalid_blocks="#"+e.config.blocks.invalid_blocks));break;case"root_system":typeof e.config=="object"&&(e.config.root_replaceable.startsWith("#")||(e.config.root_replaceable="#"+e.config.root_replaceable))}}const oi=/locate (minecraft:)?(mineshaft|ocean_ruin|ruined_portal|shipwreck|village)/,ai=B.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("locate ")||r.startsWith("execute "))&&(e[t]=e[t].replace(oi,"locate #$1$2"))})}),si=B.all(B.onFile("worldgen/noise_settings",({data:e})=>vr(e)),B.onFile("dimension",({data:e})=>{var r,t;((t=(r=e.generator)==null?void 0:r.type)==null?void 0:t.replace(/^minecraft:/,""))==="noise"&&vr(e.generator.settings)}));function vr(e){typeof e=="object"&&(Lt(e.surface_rule),e.noise_router=li(e.aquifers_enabled,e.ore_veins_enabled,e.noise_caves_enabled,e.noodle_caves_enabled,e.noise.island_noise_override,e.noise.large_biomes),delete e.noise_caves_enabled,delete e.noodle_caves_enabled,delete e.noise.island_noise_override,delete e.noise.amplified,delete e.noise.large_biomes,delete e.structures)}function Lt(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"sequence":e.sequence.forEach(t=>Lt(t));break;case"condition":ci(e.if_true),Lt(e.then_run)}}function ci(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"stone_depth":e.secondary_depth_range=e.add_surface_secondary_depth?6:0,delete e.add_surface_secondary_depth}}function li(e,r,t,d,c,n){const l=c?"end":n?"overworld_large_biomes":"overworld",i=t?{max_exclusive:1.5625,when_in_range:{argument1:`minecraft:${l}/sloped_cheese`,argument2:{argument1:5,argument2:"minecraft:overworld/caves/entrances",type:"minecraft:mul"},type:"minecraft:min"},when_out_of_range:{argument1:{argument1:{argument1:{argument1:{argument1:4,argument2:{argument:{noise:"minecraft:cave_layer",xz_scale:1,y_scale:8,type:"minecraft:noise"},type:"minecraft:square"},type:"minecraft:mul"},argument2:{argument1:{input:{argument1:.27,argument2:{noise:"minecraft:cave_cheese",xz_scale:1,y_scale:.6666666666666666,type:"minecraft:noise"},type:"minecraft:add"},min:-1,max:1,type:"minecraft:clamp"},argument2:{input:{argument1:1.5,argument2:{argument1:-.64,argument2:`minecraft:${l}/sloped_cheese`,type:"minecraft:mul"},type:"minecraft:add"},min:0,max:.5,type:"minecraft:clamp"},type:"minecraft:add"},type:"minecraft:add"},argument2:"minecraft:overworld/caves/entrances",type:"minecraft:min"},argument2:{argument1:"minecraft:overworld/caves/spaghetti_2d",argument2:"minecraft:overworld/caves/spaghetti_roughness_function",type:"minecraft:add"},type:"minecraft:min"},argument2:{max_exclusive:.03,when_in_range:-1e6,when_out_of_range:"minecraft:overworld/caves/pillars",input:"minecraft:overworld/caves/pillars",min_inclusive:-1e6,type:"minecraft:range_choice"},type:"minecraft:max"},input:`minecraft:${l}/sloped_cheese`,min_inclusive:-1e6,type:"minecraft:range_choice"}:`minecraft:${l}/sloped_cheese`,m={argument:{argument1:.64,argument2:{argument:{argument:{argument:i,type:"minecraft:slide"},type:"minecraft:blend_density"},type:"minecraft:interpolated"},type:"minecraft:mul"},type:"minecraft:squeeze"};return{final_density:d?{argument1:m,argument2:"minecraft:overworld/caves/noodle",type:"minecraft:min"}:m,vein_toggle:!r||c?0:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_veininess",xz_scale:1.5,y_scale:1.5,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},vein_ridged:!r||c?0:{argument1:-.07999999821186066,argument2:{argument1:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_a",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},argument2:{argument:{argument:{max_exclusive:51,when_in_range:{noise:"minecraft:ore_vein_b",xz_scale:4,y_scale:4,type:"minecraft:noise"},when_out_of_range:0,input:"minecraft:y",min_inclusive:-60,type:"minecraft:range_choice"},type:"minecraft:interpolated"},type:"minecraft:abs"},type:"minecraft:max"},type:"minecraft:add"},vein_gap:!r||c?0:{noise:"minecraft:ore_gap",xz_scale:1,y_scale:1,type:"minecraft:noise"},erosion:c?0:`minecraft:${l}/erosion`,depth:c?0:`minecraft:${l}/depth`,ridges:c?0:"minecraft:overworld/ridges",initial_density_without_jaggedness:c?{argument:{type:"minecraft:end_islands"},type:"minecraft:cache_2d"}:{argument1:4,argument2:{argument:{argument1:`minecraft:${l}/depth`,argument2:{argument:`minecraft:${l}/factor`,type:"minecraft:cache_2d"},type:"minecraft:mul"},type:"minecraft:quarter_negative"},type:"minecraft:mul"},lava:!e||c?0:{noise:"minecraft:aquifer_lava",xz_scale:1,y_scale:1,type:"minecraft:noise"},temperature:c?0:{xz_scale:.25,y_scale:0,noise:n?"minecraft:temperature_large":"minecraft:temperature",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},vegetation:c?0:{xz_scale:.25,y_scale:0,noise:n?"minecraft:vegetation_large":"minecraft:vegetation",shift_x:"minecraft:shift_x",shift_y:0,shift_z:"minecraft:shift_z",type:"minecraft:shifted_noise"},continents:c?0:`minecraft:${l}/continents`,barrier:!e||c?0:{noise:"minecraft:aquifer_barrier",xz_scale:1,y_scale:.5,type:"minecraft:noise"},fluid_level_floodedness:!e||c?0:{noise:"minecraft:aquifer_fluid_level_floodedness",xz_scale:1,y_scale:.67,type:"minecraft:noise"},fluid_level_spread:!e||c?0:{noise:"minecraft:aquifer_fluid_level_spread",xz_scale:1,y_scale:.7142857142857143,type:"minecraft:noise"}}}const ui=B.all(B.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Me):Me(e)}),B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(fi)}),B.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(di)}));function fi(e){var r;typeof(e==null?void 0:e.conditions)=="object"&&(me(e.conditions.entity),me(e.conditions.player),me(e.conditions.parent),me(e.conditions.partner),me(e.conditions.child),me(e.conditions.villager),me(e.conditions.zombie),me(e.conditions.projectile),me(e.conditions.shooter),(r=e.conditions.victims)==null||r.forEach(me),bt(e.conditions.damage),bt(e.conditions.killing_blow),Qe(e.conditions.location),Qe(e.conditions.entered),Qe(e.conditions.exited))}function di(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(Hr),(t=e.conditions)==null||t.forEach(Me))}function Hr(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(Hr),(t=e.conditions)==null||t.forEach(Me))}function Me(e){var t,d;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(d=e.terms)==null||d.forEach(Me);break;case"inverted":Me(e.term);break;case"entity_properties":me(e.predicate);break;case"damage_source_properties":bt(e.predicate);break;case"location_check":Qe(e.predicate);break}}function bt(e){typeof e=="object"&&(me(e.source_entity),me(e.direct_entity),bt(e.type))}function me(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Me);return}me(e.vehicle),me(e.targeted_entity),Qe(e.location)}}function Qe(e){if(typeof e=="object"&&typeof e.feature=="string")switch(e.feature){case"endcity":e.feature="minecraft:end_city";break;default:e.feature="minecraft:"+e.feature}}const pi=B.all(B.onFile("worldgen/processor_list",({data:e})=>qr(e)),B.onFile("worldgen/template_pool",({data:e})=>_i(e)));function qr(e){typeof e=="object"&&(!Array.isArray(e.processors)||e.processors.forEach(hi))}function hi(e){if(typeof e!="object")return;switch(e.processor_type.replace(/^minecraft:/,"")){case"protected_blocks":e.value.startsWith("#")||(e.value="#"+e.value)}}function _i(e){typeof e=="object"&&(!Array.isArray(e.elements)||e.elements.forEach(r=>{typeof r=="object"&&mi(r.element)}))}function mi(e){typeof e=="object"&&typeof e.processors=="object"&&qr(e.processors)}const vi=B.all(B.onFile("worldgen/configured_structure_feature",({data:e},r)=>gi(e,r)));function gi(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"pillager_outpost":case"village":e.adapt_noise=!0}r.warn("Cannot upgrade configured structure features, set biomes to empty list."),e.biomes=[],e.spawn_overrides={}}const yi=B.version("1.18.1","1.18.2",B.groupProblems(B.packFormat(9),B.when("worldgen",ni,si,ti,vi,pi,ii),B.when("predicates",ui),B.when("functions",ai))),bi=B.all(B.onFile("worldgen/biome",wi));function wi({data:e}){delete e.category}const ki=B.all(B.onFile("worldgen/configured_carver",({data:e})=>St(e)),B.onFile("worldgen/biome",({data:e})=>{typeof e.carvers=="object"&&Object.values(e.carvers).forEach(r=>{Array.isArray(r)?r.forEach(St):St(r)})}));function St(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"canyon":case"cave":e.config.replaceable="#minecraft:overworld_carver_replaceables";break;case"nether_cave":e.config.replaceable="#minecraft:nether_carver_replaceables";break}}const xi=B.all(B.onFile("dimension_type",({data:e})=>Yr(e)),B.onFile("dimension",({data:e,name:r},t)=>Ci(e,r,t)));function Ci(e,r,t){typeof e=="object"&&(typeof e.type=="object"&&(Yr(e.type),t.create("dimension_type",r,e.type),e.type=r),Ei(e.generator))}function Yr(e){e.monster_spawn_block_light_limit=0,e.monster_spawn_light_level={type:"minecraft:uniform",value:{min_inclusive:0,max_inclusive:7}}}function Ei(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"noise":delete e.seed,Si(e.biome_source)}}function Si(e){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"end":delete e.seed}}const Ai=B.all(B.onFile("worldgen/configured_feature",({data:e})=>Kr(e)),B.onFile("worldgen/placed_feature",({data:e})=>Fe(e)));function Fe(e){typeof e=="object"&&Kr(e.feature)}function Kr(e){var t,d,c,n;if(typeof e!="object")return;const r=e.type.replace(/^minecraft:/,"");switch(r){case"random_boolean_selector":Fe(e.config.feature_false),Fe(e.config.feature_true);break;case"random_patch":case"flower":case"no_bonemeal_flower":Fe(e.config.feature);break;case"random_selector":e.config.features.forEach(l=>{Fe(l.feature)}),Fe(e.config.default);break;case"simple_random_selector":e.config.features.forEach(l=>{Fe(l)});break;case"vegetation_patch":case"waterlogged_vegetation_patch":Fe(e.config.vegetation_feature);break;case"disk":case"ice_patch":case"surface_disk":e.type="minecraft:random_selector",e.config={features:[],default:{feature:{type:"minecraft:disk",config:{half_height:e.config.half_height,radius:e.config.radius,state_provider:{fallback:{type:"minecraft:simple_state_provider",state:e.config.state},rules:[]},target:{type:"minecraft:matching_blocks",blocks:zi(e.config.targets)}}},placement:[...r==="disk"?[]:[{type:"minecraft:random_offset",xz_spread:0,y_spread:-1}],{type:"minecraft:block_predicate_filter",predicate:r==="disk"?{type:"minecraft:matching_fluids",fluids:"minecraft:water"}:r==="ice_patch"?{type:"minecraft:matching_blocks",blocks:"minecraft:snow"}:{type:"minecraft:matching_blocks",blocks:(c=(d=(t=e.config)==null?void 0:t.can_origin_replace)==null?void 0:d.filter(l=>(l==null?void 0:l.replace(/^minecraft:/,""))!=="water"))!=null?c:[]}}]}};break;case"glow_lichen":e.type="minecraft:multiface_growth";break;case"tree":(n=e.config.decorators)==null||n.forEach(l=>{var i;((i=l==null?void 0:l.type)==null?void 0:i.replace(/^minecraft:/,""))==="leave_vine"&&(l.probability=.25)});break}}function zi(e){return[...new Set(e.map(r=>r.Name))]}const Oi=/\b((?:CustomPotionEffects|ActiveEffects|Effects):.+\bId\s*:\s*\d+)b\b/,Fi=/\b((?:Primary|Secondary)\s*:\s*\d+)b\b/,Ti=B.onFile("functions",({data:e})=>{e.forEach((r,t)=>{(r.startsWith("locate ")||r.startsWith("execute "))&&(e[t]=e[t].replace("locate ","locate structure ")),(r.startsWith("locatebiome ")||r.startsWith("execute "))&&(e[t]=e[t].replace("locatebiome ","locate biome ")),(r.startsWith("placefeature ")||r.startsWith("execute "))&&(e[t]=e[t].replace("placefeature ","place feature ")),r.includes("Id")&&(e[t]=e[t].replace(Oi,"$1")),(r.includes("Primary")||r.includes("Secondary"))&&(e[t]=e[t].replace(Fi,"$1"))})}),Ri=JSON.parse('{"min_y":-64,"height":384,"size_horizontal":1,"size_vertical":2,"sampling":{"xz_scale":1,"y_scale":1,"xz_factor":80,"y_factor":160},"bottom_slide":{"target":0.1171875,"size":3,"offset":0},"top_slide":{"target":-0.078125,"size":2,"offset":8},"terrain_shaper":{"offset":{"coordinate":"continents","points":[{"location":-1.1,"derivative":0,"value":0.044},{"location":-1.02,"derivative":0,"value":-0.2222},{"location":-0.51,"derivative":0,"value":-0.2222},{"location":-0.44,"derivative":0,"value":-0.12},{"location":-0.18,"derivative":0,"value":-0.12},{"location":-0.16,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.3},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0.1,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.15},{"location":-0.4,"derivative":0,"value":0},{"location":0,"derivative":0,"value":0},{"location":0.4,"derivative":0,"value":0},{"location":1,"derivative":0,"value":0}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.06,"value":0},{"location":1,"derivative":0,"value":0}]}}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.38940096,"value":-0.08880186},{"location":1,"derivative":0.38940096,"value":0.69000006}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.37788022,"value":-0.115760356},{"location":1,"derivative":0.37788022,"value":0.6400001}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.2222},{"location":-0.75,"derivative":0,"value":-0.2222},{"location":-0.65,"derivative":0,"value":0},{"location":0.5954547,"derivative":0,"value":2.9802322e-8},{"location":0.6054547,"derivative":0.2534563,"value":2.9802322e-8},{"location":1,"derivative":0.2534563,"value":0.100000024}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.05},{"location":0,"derivative":0,"value":0.05},{"location":0.4,"derivative":0,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.01,"value":0.001},{"location":0,"derivative":0.01,"value":0.003},{"location":0.4,"derivative":0.094000004,"value":0.05},{"location":1,"derivative":0.007000001,"value":0.060000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":0.25,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.20235021},{"location":0,"derivative":0.5138249,"value":0.7161751},{"location":1,"derivative":0.5138249,"value":1.23}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.43317974,"value":0.44682026},{"location":1,"derivative":0.43317974,"value":0.88}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.3917051,"value":0.30829495},{"location":1,"derivative":0.3917051,"value":0.70000005}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.25},{"location":-0.4,"derivative":0,"value":0.35},{"location":0,"derivative":0,"value":0.35},{"location":0.4,"derivative":0,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0.07,"value":0.0069999998},{"location":0,"derivative":0.07,"value":0.021},{"location":0.4,"derivative":0.658,"value":0.35},{"location":1,"derivative":0.049000014,"value":0.42000002}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.1},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.1},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.02},{"location":-0.4,"derivative":0,"value":-0.03},{"location":0,"derivative":0,"value":-0.03},{"location":0.4,"derivative":0.12,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}},{"location":1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.85,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.34792626},{"location":0,"derivative":0.5760369,"value":0.9239631},{"location":1,"derivative":0.5760369,"value":1.5}]}},{"location":-0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":0.2},{"location":0,"derivative":0.4608295,"value":0.5391705},{"location":1,"derivative":0.4608295,"value":1}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.2},{"location":-0.4,"derivative":0,"value":0.5},{"location":0,"derivative":0,"value":0.5},{"location":0.4,"derivative":0,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0.099999994,"value":0.01},{"location":0,"derivative":0.099999994,"value":0.03},{"location":0.4,"derivative":0.94,"value":0.5},{"location":1,"derivative":0.070000015,"value":0.6}]}},{"location":0.2,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0,"value":-0.05},{"location":-0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0,"derivative":0,"value":0.17}]}},{"location":0.58,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.5,"value":-0.05},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}},{"location":0.7,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-1,"derivative":0.015,"value":-0.02},{"location":-0.4,"derivative":0,"value":0.01},{"location":0,"derivative":0,"value":0.01},{"location":0.4,"derivative":0.04,"value":0.03},{"location":1,"derivative":0.049,"value":0.1}]}}]}}]},"factor":{"coordinate":"continents","points":[{"location":-0.19,"derivative":0,"value":3.95},{"location":-0.15,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":6.25}]}},{"location":0.35,"derivative":0,"value":6.25},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":6.25},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":6.25},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":6.25}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.47}]}},{"location":0.35,"derivative":0,"value":5.47},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.47},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.47},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.47}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":5.08}]}},{"location":0.35,"derivative":0,"value":5.08},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.9,"derivative":0,"value":5.08},{"location":-0.69,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":0,"derivative":0,"value":5.08},{"location":0.1,"derivative":0,"value":0.625}]}}]}},{"location":0.62,"derivative":0,"value":5.08}]}},{"location":0.06,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-0.6,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.5,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":6.3},{"location":0.05,"derivative":0,"value":2.67}]}},{"location":-0.35,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.25,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.05,"derivative":0,"value":2.67},{"location":0.05,"derivative":0,"value":6.3}]}},{"location":0.03,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.05,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.4,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.45,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":0.7,"derivative":0,"value":1.56}]}},{"location":0.45,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.55,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":-0.7,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.2,"derivative":0,"value":6.3},{"location":0.2,"derivative":0,"value":4.69}]}},{"location":-0.15,"derivative":0,"value":1.37}]}},{"location":0.58,"derivative":0,"value":4.69}]}}]},"jaggedness":{"coordinate":"continents","points":[{"location":-0.11,"derivative":0,"value":0},{"location":0.03,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.315},{"location":0.01,"derivative":0,"value":0.15}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}},{"location":0.65,"derivative":0,"value":{"coordinate":"erosion","points":[{"location":-1,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.78,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.5775,"derivative":0,"value":{"coordinate":"ridges","points":[{"location":0.19999999,"derivative":0,"value":0},{"location":0.44999996,"derivative":0,"value":0},{"location":1,"derivative":0,"value":{"coordinate":"weirdness","points":[{"location":-0.01,"derivative":0,"value":0.63},{"location":0.01,"derivative":0,"value":0.3}]}}]}},{"location":-0.375,"derivative":0,"value":0}]}}]}}}'),et=new Set,Ii=B.all(async()=>{et.clear()},B.onFile("worldgen/noise_settings",({data:e},r)=>gr(e,r)),B.onFile("dimension",({data:e},r)=>{var t,d;((d=(t=e.generator)==null?void 0:t.type)==null?void 0:d.replace(/^minecraft:/,""))==="noise"&&gr(e.generator.settings,r)}),B.onFile("worldgen/density_function",({name:e,data:r},t)=>{const d=e.includes(":")?e:"minecraft:"+e;et.has(d)||(console.debug(`Visiting ${d} with default noise`),et.add(d),he(r,t,Ri))}));function gr(e,r){typeof e=="object"&&(Object.values(e.noise_router).forEach(t=>he(t,r,e.noise)),delete e.noise.terrain_shaper,delete e.noise.sampling,delete e.noise.top_slide,delete e.noise.bottom_slide,e.spawn_target=ji)}function he(e,r,t){if(typeof e=="string"){const c=e.includes(":")?e:"minecraft:"+e;if(et.has(c))console.debug(`Already visited ${c}`);else{console.debug(`Visiting ${c}`),et.add(c);const n=r.read("worldgen/density_function",c);if(n&&!n.error&&!n.deleted)he(n.data,r,t);else if(kr.has(c)){const l=JSON.parse(kr.get(c));he(l,r,t),r.create("worldgen/density_function",c,l)}}return}if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"abs":case"blend_density":case"cache_2d":case"cache_all_in_cell":case"cache_once":case"cube":case"flat_cache":case"half_negative":case"interpolated":case"quarter_negative":case"square":case"squeeze":he(e.argument,r,t);break;case"add":case"max":case"min":case"mul":he(e.argument1,r,t),he(e.argument2,r,t);break;case"clamp":case"range_choice":case"weird_scaled_sampler":he(e.input,r,t);break;case"shifted_noise":he(e.shift_x,r,t),he(e.shift_y,r,t),he(e.shift_z,r,t);break;case"old_blended_noise":e.xz_scale=t.sampling.xz_scale,e.y_scale=t.sampling.y_scale,e.xz_factor=t.sampling.xz_factor,e.y_factor=t.sampling.y_factor,e.smear_scale_multiplier=8;break;case"slide":he(e.argument,r,t);const c=Li(e.argument,t);delete e.argument,Object.assign(e,c);break;case"spline":Xr(e.spline,r,t),delete e.min_value,delete e.max_value;break;case"terrain_shaper_spline":e.type="minecraft:spline",he(e.continentalness,r,t),he(e.erosion,r,t),he(e.weirdness,r,t);const n={continents:e.continentalness,erosion:e.erosion,weirdness:e.weirdness,ridges:"minecraft:overworld/ridges_folded"};let l={type:"minecraft:spline",spline:Jr(t.terrain_shaper[e.spline],r,n)};e.spline==="offset"&&(l={type:"minecraft:add",argument1:-.5037500262260437,argument2:l}),e.type="minecraft:clamp",e.min=e.min_value,e.max=e.max_value,e.input=l,delete e.spline,delete e.min_value,delete e.max_value,delete e.continentalness,delete e.erosion,delete e.weirdness;break}}function Xr(e,r,t){if(typeof e=="object"){he(e.coordinate,r,t);for(const d of e.points)Xr(d.value,r,t)}}function Jr(e,r,t){if(typeof e!="object")return e;let d=t[e.coordinate];return d===void 0&&(r.warn(`Unknown coordinate ${e.coordinate}`),d=0),{coordinate:d,points:e.points.map(c=>({location:c.location,value:Jr(c.value,r,t),derivative:c.derivative}))}}function Li(e,r){const t=r.top_slide;if(t.size>0){const c=r.min_y+r.height-(t.offset+t.size)*4*r.size_vertical,n=r.min_y+r.height-t.offset*4*r.size_vertical,l=wr(c,n,1,0);e=yr(l,e,t.target)}const d=r.bottom_slide;if(d.size>0){const c=r.min_y+d.offset*4*r.size_vertical,n=r.min_y+(d.offset+d.size)*4*r.size_vertical,l=wr(c,n,0,1);e=yr(l,e,d.target)}return e}function yr(e,r,t){return br(Di(e,br(r,-t)),t)}function br(e,r){return{type:"minecraft:add",argument1:e,argument2:r}}function Di(e,r){return{type:"minecraft:mul",argument1:e,argument2:r}}function wr(e,r,t,d){return{type:"minecraft:y_clamped_gradient",from_y:e,to_y:r,from_value:t,to_value:d}}const ji=JSON.parse('[{"erosion":[-1,1],"depth":0,"weirdness":[-1,-0.16],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]},{"erosion":[-1,1],"depth":0,"weirdness":[0.16,1],"offset":0,"temperature":[-1,1],"humidity":[-1,1],"continentalness":[-0.11,1]}]'),kr=new Map(Object.entries({"minecraft:overworld/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}',"minecraft:overworld/depth":'{"argument1":{"from_y":-64,"to_y":320,"from_value":1.5,"to_value":-1.5,"type":"minecraft:y_clamped_gradient"},"argument2":{"argument":{"argument":{"argument1":{"argument1":{"type":"minecraft:blend_offset"},"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"offset","min_value":-0.81,"max_value":2.5,"continentalness":"minecraft:overworld/continents","erosion":"minecraft:overworld/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"type":"minecraft:add"}',"minecraft:overworld/base_3d_noise":'{"type":"minecraft:old_blended_noise"}',"minecraft:overworld_large_biomes/sloped_cheese":'{"argument1":{"argument1":4,"argument2":{"argument":{"argument1":{"argument1":"minecraft:overworld_large_biomes/depth","argument2":{"argument1":{"argument":{"argument":{"argument1":{"argument1":0,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"jaggedness","min_value":0,"max_value":1.28,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"argument2":{"argument":{"noise":"minecraft:jagged","xz_scale":1500,"y_scale":0,"type":"minecraft:noise"},"type":"minecraft:half_negative"},"type":"minecraft:mul"},"type":"minecraft:add"},"argument2":"minecraft:overworld_large_biomes/factor","type":"minecraft:mul"},"type":"minecraft:quarter_negative"},"type":"minecraft:mul"},"argument2":"minecraft:overworld/base_3d_noise","type":"minecraft:add"}',"minecraft:overworld_large_biomes/depth":'{"argument1":{"from_y":-64,"to_y":320,"from_value":1.5,"to_value":-1.5,"type":"minecraft:y_clamped_gradient"},"argument2":{"argument":{"argument":{"argument1":{"argument1":{"type":"minecraft:blend_offset"},"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"offset","min_value":-0.81,"max_value":2.5,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"},"type":"minecraft:add"}',"minecraft:overworld_large_biomes/factor":'{"argument":{"argument":{"argument1":{"argument1":10,"argument2":{"argument1":1,"argument2":{"argument1":-1,"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:mul"},"argument2":{"argument1":{"spline":"factor","min_value":0,"max_value":8,"continentalness":"minecraft:overworld_large_biomes/continents","erosion":"minecraft:overworld_large_biomes/erosion","weirdness":"minecraft:overworld/ridges","type":"minecraft:terrain_shaper_spline"},"argument2":{"argument":{"type":"minecraft:blend_alpha"},"type":"minecraft:cache_once"},"type":"minecraft:mul"},"type":"minecraft:add"},"type":"minecraft:cache_2d"},"type":"minecraft:flat_cache"}'})),Pi=B.all(B.onFile("predicates",({data:e})=>{Array.isArray(e)?e.forEach(Ne):Ne(e)}),B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Bi)}),B.onFile("loot_tables",({data:e})=>{var r;(r=e.pools)==null||r.forEach(Mi)}));function Bi(e){var t;if(typeof(e==null?void 0:e.conditions)!="object")return;switch(ve(e.conditions.entity),ve(e.conditions.player),ve(e.conditions.parent),ve(e.conditions.partner),ve(e.conditions.child),ve(e.conditions.villager),ve(e.conditions.zombie),ve(e.conditions.projectile),ve(e.conditions.shooter),(t=e.conditions.victims)==null||t.forEach(ve),wt(e.conditions.damage),wt(e.conditions.killing_blow),tt(e.conditions.location),tt(e.conditions.entered),tt(e.conditions.exited),e.trigger.replace(/^minecraft:/,"")){case"location":case"slept_in_bed":case"hero_of_the_village":case"voluntary_exile":if(typeof e.conditions!="object")break;const d=e.conditions.location?e.conditions.location:e.conditions.player?void 0:e.conditions,c=e.conditions.player;e.conditions={player:Ni(c,d)},delete e.conditions.location;break}}function Mi(e){var r,t;typeof e=="object"&&((r=e.entries)==null||r.forEach(Vr),(t=e.conditions)==null||t.forEach(Ne))}function Vr(e){var r,t;typeof e=="object"&&((r=e.children)==null||r.forEach(Vr),(t=e.conditions)==null||t.forEach(Ne))}function Ne(e){var t,d;if(typeof e!="object")return;switch((t=e.condition)==null?void 0:t.replace(/^minecraft:/,"")){case"alternative":(d=e.terms)==null||d.forEach(Ne);break;case"inverted":Ne(e.term);break;case"entity_properties":ve(e.predicate);break;case"damage_source_properties":wt(e.predicate);break;case"location_check":tt(e.predicate);break}}function wt(e){typeof e=="object"&&(ve(e.source_entity),ve(e.direct_entity),wt(e.type))}function ve(e){if(typeof e=="object"){if(Array.isArray(e)){e.forEach(Ne);return}if(ve(e.vehicle),ve(e.targeted_entity),tt(e.location),e.player)e.type_specific=ie({type:"player"},e.player),delete e.player;else if(e.fishing_hook)e.type_specific=ie({type:"fishing_hook"},e.fishing_hook),delete e.fishing_hook;else if(e.lightning_bolt)e.type_specific=ie({type:"lightning"},e.lightning_bolt),delete e.lightning_bolt;else if(e.catType){const r=e.catType.replace(/^textures\/entity\/cat\/([a-z_]+).png/,"$1");e.type_specific={type:"cat",variant:r},delete e.catType}}}function tt(e){typeof e=="object"&&typeof e.feature=="string"&&(e.structure=e.feature,delete e.feature)}function Ni(e,r){return e===void 0?{location:r}:r===void 0?e:Array.isArray(e)&&e.length>=1?[...e,{condition:"minecraft:entity_properties",entity:"this",predicate:{location:r}}]:ye(ie({},e),{location:ie(ie({},e.location),r)})}const Ui=B.all(B.rename("worldgen/configured_structure_feature","worldgen/structure"),B.rename("tags/worldgen/configured_structure_feature","tags/worldgen/structure"),B.onFile("worldgen/structure_set",({data:e,name:r},t)=>Wi(e,r,t)),B.onFile("worldgen/structure",({data:e})=>$i(e)));function $i(e){var t,d;if(typeof e!="object")return;const r=(t=e.type)==null?void 0:t.replace(/^minecraft:/,"");switch(r==="mineshaft"&&(e.mineshaft_type=e.config.type),Object.assign(e,e.config),delete e.config,e.step="surface_structures",delete e.probability,e.adapt_noise&&(e.terrain_adaptation=r==="stronghold"?"bury":"beard_thin",delete e.adapt_noise),r){case"bastion_remnant":e.type="minecraft:jigsaw",e.start_height={absolute:33},e.max_distance_from_center=80,e.use_expansion_hack=!1;break;case"pillager_outpost":case"village":e.type="minecraft:jigsaw",e.start_height={absolute:0},e.project_start_to_heightmap="WORLD_SURFACE_WG",e.max_distance_from_center=80,e.use_expansion_hack=!0;break;case"endcity":e.type="minecraft:end_city";break;case"jungle_pyramid":e.type="minecraft:jungle_temple";break;case"mansion":e.type="minecraft:woodland_mansion";break;case"monument":e.type="minecraft:ocean_monument";break;case"ruined_portal":const c={standard:[Se({weight:.5,can_be_cold:!0,air_pocket_probability:1,mossiness:.2}),Se({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],desert:[Se({placement:"partly_buried"})],jungle:[Se({vines:!0,overgrown:!0,air_pocket_probability:.5,mossiness:.8,placement:"on_land_surface"})],mountain:[Se({weight:.5,can_be_cold:!0,air_pocket_probability:.1,mossiness:.2,placement:"in_mountain"}),Se({weight:.5,can_be_cold:!0,air_pocket_probability:.5,mossiness:.2,placement:"on_land_surface"})],nether:[Se({replace_with_blackstone:!0,air_pocket_probability:.5,placement:"in_nether"})],ocean:[Se({can_be_cold:!0,mossiness:.8,placement:"on_ocean_floor"})],swamp:[Se({vines:!0,mossiness:.5,placement:"on_ocean_floor"})]};e.setups=(d=c[e.portal_type])!=null?d:[],delete e.portal_type}}function Se(e={}){return ie({weight:1,vines:!1,can_be_cold:!1,replace_with_blackstone:!1,placement:"underground",air_pocket_probability:0,mossiness:0,overgrown:!1},e)}function Wi(e,r,t){var l,i,m,g;if(typeof e!="object"||!((l=e.structures[0])!=null&&l.structure))return;const d=(i=t.read("worldgen/structure",e.structures[0].structure))==null?void 0:i.data;if(!d)return;switch((m=d.type)==null?void 0:m.replace(/^minecraft:/,"")){case"mineshaft":e.placement.frequency_reduction_method="legacy_type_3",e.placement.frequency=d.config.probability;break}switch(r==="minecraft:pillager_outposts"&&(e.placement.exclusion_zone={other_set:"minecraft:villages",chunk_count:10},e.placement.frequency_reduction_method="legacy_type_1",e.placement.frequency=.2),(g=e.placement.type)==null?void 0:g.replace(/^minecraft:/,"")){case"concentric_rings":e.placement.salt=0,e.placement.preferred_biomes="#minecraft:stronghold_biased_to";break}}const Zi=B.version("1.18.2","1.19",B.groupProblems(B.packFormat(10),B.when("worldgen",bi,ki,xi,Ii,Ui,Ai),B.when("predicates",Pi),B.when("functions",Ti))),Gi=B.all(B.onFile("advancements",({data:e})=>{Object.values(e.criteria).forEach(Hi)}));function Hi(e){switch(e.trigger.replace(/^minecraft:/,"")){case"nether_travel":if(typeof e.conditions!="object")break;const{distance:t,entered:d,exited:c,player:n}=e.conditions;e.conditions={player:qi(n,c),start_position:d,distance:t};break}}function qi(e,r){return e===void 0?{location:r}:Array.isArray(e)&&e.length>=1?[e,{type:"minecraft:entity_properties",predicate:{location:r}}]:ye(ie({},e),{location:ie(ie({},e.location),r)})}const Yi=B.all(B.onFile("worldgen/biome",Ki));function Ki({data:e},r){var d,c;r.warn('Biome "depth" and "scale" were removed and replaced with a more powerful terrain shaper option in noise settings. No automatic upgrade possible.'),e.depth=void 0,e.scale=void 0,r.warn('Biome "surface_builder" was removed and replaced with a more powerful surface_rule option in noise settings. No automatic upgrade possible.'),e.surface_builder=void 0,Array.isArray(e.starts)&&e.starts.length>0&&r.warn('Biome "starts" was removed, custom structures are not supported in 1.18.'),e.starts=void 0,Array.isArray(e.features)&&e.features.length>=9&&e.features.splice(8,0,[]);const t=(d=e.effects.particle)==null?void 0:d.options;((c=t==null?void 0:t.type)==null?void 0:c.replace(/minecraft:/,""))==="dust"&&t.r&&(e.effects.particle.options={type:"minecraft:dust",color:[t.r,t.g,t.b],scale:t.scale})}const Xi=B.all(B.onFile("dimension",({data:e},r)=>{var t,d;if(((d=(t=e.generator)==null?void 0:t.type)==null?void 0:d.replace(/^minecraft:/,""))==="noise"){const c=Ji(e.generator.biome_source,r);Dt(e.generator.settings,r,c)}}),B.onFile("worldgen/noise_settings",({data:e},r)=>{Dt(e,r)}));function Ji(e,r){var d;if(typeof e!="object")return[];switch(e.type.replace(/^minecraft:/,"")){case"fixed":return[e.biome];case"checkerboard":return[...new Set(e.biomes)];case"multi_noise":return e.seed=void 0,((d=e.preset)==null?void 0:d.replace(/^minecraft:/,""))==="nether"?["nether_wastes","soul_sand_valley","crimson_forest","warped_forest","basalt_deltas"]:(e.altitude_noise=void 0,e.temperature_noise=void 0,e.humidity_noise=void 0,e.weirdness_noise=void 0,e.biomes.forEach(c=>{c.parameters={temperature:c.parameters.temperature,humidity:c.parameters.humidity,continentalness:c.parameters.altitude,erosion:0,weirdness:c.parameters.weirdness,depth:0,offset:c.parameters.offset}}),[...new Set(e.biomes.map(c=>c.biome))]);case"vanilla_layered":return r.warn('Removed biome source "vanilla_layered", replaced with the multi noise overworld preset.'),e.type="multi_noise",e.preset="minecraft:overworld",[]}return[]}function Dt(e,r,t=[]){if(typeof e=="string"){const c=r.read("worldgen/noise_settings",e);c&&Dt(c.data,r,t);return}if(typeof e!="object"||e.surface_rule!==void 0)return;e.legacy_random_source=!1,e.noise.top_slide.target/=128,e.noise.bottom_slide.target/=128,e.min_surface_level=void 0,e.noise.simplex_surface_noise=void 0,e.noise.random_density_offset=void 0,e.noise.terrain_shaper={offset:0,factor:0,jaggedness:0},e.noise.density_offset=void 0,e.noise.density_factor=void 0;const d=[];e.bedrock_floor_position>-10&&d.push(jt("vertical_gradient",{random_name:"minecraft:bedrock_floor",true_at_and_below:{above_bottom:e.bedrock_floor_position+5},false_at_and_above:{above_bottom:e.bedrock_floor_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.bedrock_roof_position>-10&&d.push(Vi("vertical_gradient",{random_name:"minecraft:bedrock_roof",true_at_and_below:{below_top:e.bedrock_roof_position+5},false_at_and_above:{below_top:e.bedrock_roof_position}}).thenRun("block",{result_state:{Name:"minecraft:bedrock"}})),e.deepslate_enabled&&d.push(jt("vertical_gradient",{random_name:"minecraft:deepslate",true_at_and_below:{absolute:0},false_at_and_above:{absolute:8}}).thenRun("block",{result_state:{Name:"minecraft:deepslate",Properties:{axis:"y"}}})),e.surface_rule={type:"minecraft:sequence",sequence:d}}function jt(e,r){return{thenRun:(t,d)=>({type:"minecraft:condition",if_true:ie({type:`minecraft:${e}`},r),then_run:ie({type:`minecraft:${t}`},d)})}}function Vi(e,r){return jt("not",{invert:ie({type:`minecraft:${e}`},r)})}const Qi=B.all(B.onFile("worldgen/configured_feature",({data:e},r)=>Ae(e,r)));function Ae(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":Pt(e.config.decorator,r),Ae(e.config.feature,r);break;case"random_boolean_selector":Ae(e.config.feature_false,r),Ae(e.config.feature_true,r);break;case"random_selector":e.config.features.forEach(m=>Ae(m.feature,r)),Ae(e.config.default,r);break;case"simple_random_selector":e.config.features.forEach(m=>Ae(m,r));break;case"flower":case"no_bonemeal_flower":case"random_patch":e.config.xspread!==e.config.zspread&&r.warn("Random patch xspread and zspread can no longer be different. Using xspread.");const d=[];e.config.can_replace!==!0&&d.push({type:"minecraft:matching_blocks",blocks:["minecraft:air"]}),Ke(e.config.whitelist)&&d.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Xe(e.config.whitelist)}),Ke(e.config.blacklist)&&d.push({type:"minecraft:not",predicate:{type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Xe(e.config.blacklist)}});const n=e.config.block_placer.type.replace(/^minecraft:/,"")==="column_placer"?{type:"minecraft:block_column",config:{direction:"up",allowed_placement:e.config.can_replace!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!1,layers:[{height:e.config.block_placer.size,provider:e.config.state_provider}]}}:{type:"minecraft:simple_block",config:{to_place:e.config.state_provider}};e.config={tries:e.config.tries,xz_spread:e.config.xspread,y_spread:e.config.yspread,feature:ft(n,[{type:"minecraft:block_filter",config:{predicate:{type:"minecraft:all_of",predicates:d}}}])},e.config.project===!0&&(e.config={decorator:{type:"heightmap",config:{heightmap:"OCEAN_FLOOR"}},feature:{type:e.type,config:e.config}},e.type="minecraft:decorated");break;case"growing_plant":e.type="minecraft:block_column",e.config={direction:e.config.direction,allowed_placement:e.config.allow_water!==!0?{type:"minecraft:matching_blocks",blocks:["minecraft:air"]}:{type:"minecraft:true"},prioritize_tip:!0,layers:[{height:{type:"minecraft:weighted_list",distribution:e.config.height_distribution.map(m=>({weight:m.weight,data:Qr(m.data,-1,0,1/0)}))},provider:e.config.body_provider},{height:1,provider:e.config.head_provider}]};break;case"root_system":Ae(e.config.feature,r);break;case"simple_block":const l=[];Ke(e.config.place_on)&&l.push({type:"minecraft:matching_blocks",offset:[0,-1,0],blocks:Xe(e.config.place_on)}),Ke(e.config.place_in)&&l.push({type:"minecraft:matching_blocks",blocks:Xe(e.config.place_in)}),Ke(e.config.place_under)&&l.push({type:"minecraft:matching_blocks",offset:[0,1,0],blocks:Xe(e.config.place_under)}),e.config.place_on=void 0,e.config.place_in=void 0,e.config.place_under=void 0,l.length>0&&(e.type="minecraft:decorated",e.config={decorator:{type:"minecraft:block_filter",config:{predicate:l.length==1?l[0]:{type:"minecraft:all_of",predicates:l}}},feature:{type:"minecraft:simple_block",config:e.config}});break;case"small_dripstone":const i=m=>ft({type:"minecraft:pointed_dripstone",config:{chance_of_taller_dripstone:e.config.chance_of_taller_dripstone,chance_of_directional_spread:.7,chance_of_spread_radius2:.5,chance_of_spread_radius3:.5}},[{type:"minecraft:cave_surface",config:{surface:m,floor_to_ceiling_search_range:12,allow_water:!0}}]);e.type="minecraft:decorated",e.config=ft({type:"minecraft:simple_random_selector",config:{features:[i("floor"),i("ceiling")]}},[{type:"count",config:{count:{type:"minecraft:uniform",value:{min_inclusive:1,max_inclusive:e.config.max_placements}}}},{type:"minecraft:scatter",config:{xz_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:3,min_inclusive:-10,max_inclusive:10}},y_spread:{type:"minecraft:clamped_normal",value:{mean:0,deviation:.6,min_inclusive:-2,max_inclusive:2}}}}]).config;break;case"vegetation_patch":case"waterlogged_vegetation_patch":Ae(e.config.vegetation_feature,r)}}function Qr(e,r,t,d){if(typeof e=="number")return e+r;const c=e.type.replace(/^minecraft:/,"");switch(c){case"constant":return{type:e.type,value:Math.max(t,Math.min(d,e.value+r))};case"uniform":case"biased_to_bottom":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(d,e.value.min_inclusive+r)),max_inclusive:Math.max(t,Math.min(d,e.value.max_inclusive+r))}};case"clamped":return{type:e.type,value:{min_inclusive:Math.max(t,Math.min(d,e.value.min_inclusive+r)),max_inclusive:Math.max(t,Math.min(d,e.value.max_inclusive+r)),source:Qr(e.value.source,r,t,d)}}}throw new Error(`Unknown int provider "${c}"`)}function Pt(e,r){if(typeof e!="object")return;switch(e.type.replace(/^minecraft:/,"")){case"decorated":Pt(e.config.outer,r),Pt(e.config.inner,r);break;case"cave_surface":e.config.allow_water=!1;break;case"heightmap_spread_double":r.warn('Removed decorator "heightmap_spread_double" was replaced with "heightmap". You likely need to make this feature rarer.'),e.type="minecraft:heightmap";break;case"spread_32_above":r.warn('Removed decorator "spread_32_above". You likely need to make this feature rarer.'),e.type="minecraft:nope";break}}function ft(e,r=[]){return r.length==0?e:{type:"minecraft:decorated",config:{decorator:r[0],feature:ft(e,r.slice(1))}}}function Ke(e){return Array.isArray(e)&&e.length>0}function Xe(e){return[...new Set(e.map(r=>r.Name))]}const eo=B.version("1.17.1","21w44a",B.groupProblems(B.packFormat(8),B.when("predicates",Gi),B.when("worldgen",Xi,Qi,Yi))),to=async(e,r)=>{Bt.forEach(t=>{e.data[t].filter(d=>d.error).forEach(d=>{r.warn(`!${d.error}`)})})},ro=B.all(to,Gn,eo,ei,yi,Zi),Bt=["advancements","dimension","dimension_type","loot_tables","predicates","tags/blocks","tags/entity_types","tags/fluids","tags/game_events","tags/items","tags/worldgen/biome","tags/worldgen/configured_structure_feature","tags/worldgen/flat_level_generator_preset","tags/worldgen/structure","tags/worldgen/world_preset","worldgen/biome","worldgen/configured_carver","worldgen/configured_feature","worldgen/configured_structure_feature","worldgen/configured_surface_builder","worldgen/density_function","worldgen/noise_settings","worldgen/noise","worldgen/placed_feature","worldgen/processor_list","worldgen/structure","worldgen/structure_set","worldgen/template_pool"];var it;(e=>{async function r(o){const f=await o.arrayBuffer(),u=await En.loadAsync(f),a=u.filter(v=>v.endsWith("pack.mcmeta")&&!v.startsWith("__MACOSX/"));if(a.length===0)throw new Error('Cannot find any "pack.mcmeta" files.');return Promise.all(a.map(v=>{const h=v.name.replace(/\/?pack.mcmeta$/,""),k=h.length===0?o.name.replace(/\.zip$/,""):h.split("/").pop();return t(k,u.folder(h))}))}e.fromZip=r;async function t(o,f){const u={id:en(),name:o,root:f,status:"loaded",data:{},meta:ie({name:"pack"},await c(f.file("pack.mcmeta")))};return await Promise.all(Bt.map(async a=>{u.data[a]=await d(f.folder("data"),a)})),u.data.functions=await n(f.folder("data")),console.log(u),u}async function d(o,f){const u=new RegExp(`^([^/]+)/${f}/(.*).json$`),a=[];return o.forEach((v,h)=>{const k=v.match(u);k&&k[1]&&k[2]&&a.push({name:`${k[1]}:${k[2]}`,file:h})}),Promise.all(a.map(async({name:v,file:h})=>{try{const k=await c(h);return ie({name:v},k)}catch(k){return{name:v,data:void 0,error:k.message}}}))}async function c(o){let f=await l(o);const u=Cn(f).indent;try{return f=f.replaceAll("\u200B","").replaceAll("\u200C","").replaceAll("\u200D","").replaceAll("\uFEFF",""),f=f.split(`
`).map(a=>a.replace(/^([^"\/]+)\/\/.*/,"$1")).join(`
`),{data:JSON.parse(On(f)),indent:u}}catch(a){throw new Error(`Cannot parse file "${o.name}": ${a.message}.`)}}async function n(o){const f=/([^\/]+)\/functions\/(.*)\.mcfunction$/;return Promise.all(o.filter(u=>u.match(f)!==null).map(async u=>{const a=u.name.match(f);return{name:`${a[1]}:${a[2]}`,data:(await l(u)).split(`
`)}}))}async function l(o){return await o.async("text")}async function i(o){var a;if(o.status!=="upgraded")throw new Error(`Cannot download pack with status ${o.status}.`);Bt.forEach(v=>{var h;m(o.root.folder("data"),v,(h=o.data[v])!=null?h:[])}),g(o.root.folder("data"),(a=o.data.functions)!=null?a:[]),p(o.root,"pack.mcmeta",o.meta.data,o.meta.indent);const f=await o.root.generateAsync({type:"blob",compression:"DEFLATE"}),u=URL.createObjectURL(f);return o.status="done",u}e.toZip=i;function m(o,f,u){u.forEach(({name:a,data:v,indent:h,error:k,deleted:z})=>{const[w,S]=a.split(":"),A=`${w}/${f}/${S}.json`;z?o.remove(A):k||p(o,A,v,h)})}function g(o,f){f.forEach(({name:u,data:a,error:v,deleted:h})=>{const[k,z]=u.split(":"),w=`${k}/functions/${z}.mcfunction`;h?o.remove(w):v||y(o,w,a.join(`
`))})}function p(o,f,u,a){const v=JSON.stringify(u,null,a)+`
`;y(o,f,v)}function y(o,f,u){o.file(f,u)}async function b(o,f){if(o.status!=="loaded")throw new Error(`Cannot upgrade pack with status '${o.status}'.`);const u={warn:f.onWarning,prompt:f.onPrompt,source:()=>f.source,target:()=>f.target,config:a=>f.features[a],read:(a,v)=>o.data[a].find(h=>h.error===void 0&&h.name.replace(/^minecraft:/,"")===v.replace(/^minecraft:/,"")),create:(a,v,h)=>{o.data[a].push({name:v,indent:o.meta.indent,data:h})}};await ro(o,u),o.status="upgraded"}e.upgrade=b})(it||(it={}));const no=e=>("0"+e.toString(16)).substr(-2);function en(e=12){var r=new Uint8Array(e/2);return window.crypto.getRandomValues(r),Array.from(r,no).join("")}function io({pack:e,config:r,source:t,target:d,onError:c,onRemove:n,onDone:l,doDownload:i}){var M;const[m,g]=be("Loading..."),[p,y]=be(null),[b,o]=be([]),[f,u]=be(null),[a,v]=be(!1),[h,k]=be(null),z=zt(null),w=zt(()=>{}),S=`${e.name}_${d}.zip`,A=(G,E,R,_)=>(k({title:G,message:E,actions:R!=null?R:["Confirm"],info:_}),new Promise(j=>{w.current=V=>{k(null),j(V)}})),O=(G,E,R)=>{setTimeout(()=>o(_=>[..._,{message:G,files:E,info:R}]))};ir(()=>{(async()=>{try{g("Upgrading..."),await it.upgrade(e,{features:r,source:t,target:d,onPrompt:A,onWarning:O}),g("Zipping...");const G=await it.toZip(e);y(G),l()}catch(G){c(G),u("Error during upgrading")}})()},[e]);const F=()=>{v(!a)};return ir(()=>{i&&z.current.click()},[i]),K("div",{class:"pack"},K("div",{class:"pack-head"},p&&K("a",{class:"pack-status download",ref:z,href:p,download:S,"data-hover":`Download data pack for ${d}`},Re.download),!p&&!f&&!h&&K("div",{class:"pack-status loading","data-hover":m},Re.sync),!p&&!f&&h&&K("div",{class:"pack-status prompt","data-hover":"Manual action required"},Re.report),(b.length>0||f)&&K("div",{class:`pack-status alert${f?" error":""}`,onClick:F,"data-hover":f!=null?f:"There were issues upgrading"},Re.alert),K("span",{class:"pack-name"},e.name.replace(/\.zip$/,"")),K("div",{class:"pack-status remove",onClick:n},Re.x)),(h||b.length>0&&!a)&&K("div",{class:"pack-body"},h&&K("div",{class:"pack-prompt"},K("p",{class:"prompt-title"},h.title),h.message&&K("p",{class:"prompt-message"},h.message),K("p",null,h.actions.map(G=>K("button",{onClick:()=>w.current(G)},G))),(M=h.info)==null?void 0:M.map(G=>K("p",{class:"prompt-info"},G))),b.length>0&&!a&&b.map(({message:G,files:E,info:R})=>K("div",{class:"pack-alert"},K("div",{class:`alert-message ${G.startsWith("!")?"alert-error":""}`},G.replace(/\!/,"")),E&&E.length>0&&K(Ge,null,K("p",null,"Affected files:"),K("div",{class:"alert-files"},E.map(_=>K("p",null,_)))),R==null?void 0:R.map(_=>K("p",{class:"alert-info"},_))))))}function xr({value:e,onChange:r}){const t=zt(null);return K("select",{class:"version-picker",ref:t,value:e,onChange:()=>{r(t.current.value)}},$e.map(c=>K("option",{value:c},c)))}var We;(e=>{const r="misode_upgrader_config";function t(){var m;return JSON.parse((m=localStorage.getItem(r))!=null?m:"{}")}function d(m){const g=ie(ie({},t()),m);localStorage.setItem(r,JSON.stringify(g))}function c(){const m=new URLSearchParams(location.search).get("from");if(m&&$e.includes(m))return m;const g=t().source;return g&&$e.includes(g)?g:Le.DEFAULT_SOURCE}e.getSource=c;function n(m){d({source:m})}e.setSource=n;function l(){const m=new URLSearchParams(location.search).get("to");if(m&&$e.includes(m))return m;const g=t().target;return g&&$e.includes(g)?g:Le.DEFAULT_TARGET}e.getTarget=l;function i(m){d({target:m})}e.setTarget=i})(We||(We={}));function oo(){const[e,r]=be([]),[t,d]=be([]),[c,n]=be(We.getSource()),[l,i]=be(We.getTarget()),[m,g]=be({functions:!0,ids:!0,predicates:!0,worldgen:!0,packFormat:!0,featureCycles:!0}),p=h=>{We.setSource(h),n(h)},y=h=>{We.setTarget(h),i(h)},b=(h,k)=>{const z=en(),w=k.stack.split(`
`).map(S=>S.replace(/^(\s+)at (?:async )?(https?:.*)/,"$1at ($2)"));Dr.exports.mapStackTrace(w.join(`
`),S=>{const A=w[0]+`
`+S.map(O=>O.replace(/..\/..\/src\//,"src/")).join(`
`);d(O=>O.map(F=>F.id===z?ye(ie({},F),{stacktrace:A}):F))}),d([...t,{id:z,process:h,error:k}])},o=async h=>{if(h.preventDefault(),!h.dataTransfer)return;const k=[];for(let z=0;z<h.dataTransfer.files.length;z++){const w=h.dataTransfer.files[z];w.type.match(/^application\/(x-)?zip(-compressed)?$/)&&k.push(it.fromZip(w))}if(k.length===0)b("loading",new Error("The dropped files contain no zip files. Please zip the data pack first."));else{const z=await Promise.all(k.map(async w=>{try{return await w}catch(S){b("loading",S),console.error(S);return}}));r([...e,...z.flat().filter(w=>w!==void 0)])}},f=h=>{console.error(h),b("upgrading",h)},u=h=>{r(k=>k.filter(z=>z.id!==h))},[a,v]=be(0);return K("main",{onDrop:o,onDragOver:h=>h.preventDefault()},e.length>0&&K(Ge,null,K("div",{class:"packs"},e.map(h=>K(io,{key:h.id,pack:h,config:m,source:c,target:l,doDownload:a,onError:f,onRemove:()=>u(h.id),onDone:()=>r([...e])})),e.filter(h=>h.status==="done").length>1&&K("button",{class:"download-all",onClick:()=>v(a+1)},Re.download,K("span",null,"Download all")))),K("div",{class:"drop"},K("h1",null,"Drop data pack here"),K("p",null,"Convert from ",K(xr,{value:c,onChange:p})," to ",K(xr,{value:l,onChange:y})),Le.order(l,c)?K("p",{class:"error-message"},"Invalid version range"):Le.isWorkInProgress(c,l)?K("p",{class:"warning-message"},"This upgrade is still being worked on"):null),K("div",{class:"configs"},K(Ue,{name:"Upgrade functions",value:m.functions,onChange:h=>g(ye(ie({},m),{functions:h}))}),K(Ue,{name:"Upgrade IDs",value:m.ids,onChange:h=>g(ye(ie({},m),{ids:h}))}),K(Ue,{name:"Upgrade JSON files",value:m.predicates,onChange:h=>g(ye(ie({},m),{predicates:h}))}),K(Ue,{name:"Upgrade worldgen",value:m.worldgen,onChange:h=>g(ye(ie({},m),{worldgen:h}))}),K(Ue,{name:"Upgrade pack_format",value:m.packFormat,onChange:h=>g(ye(ie({},m),{packFormat:h}))}),K(Ue,{name:"Detect feature cycles",value:m.featureCycles,onChange:h=>g(ye(ie({},m),{featureCycles:h}))})),K("div",{class:"footer"},K("p",null,"Developed by Misode"),K("p",null,"Source code on ",K("a",{href:"https://github.com/misode/upgrader",target:"_blank"},"GitHub")),K("p",{class:"donate"},Re.heart,K("a",{href:"https://ko-fi.com/misode",target:"_blank"},"Donate"))),K("div",{class:"main-errors"},t.map(h=>{var S;const k=`${h.error.name}: ${h.error.message}`,z=`An error occurred while ${h.process} a data pack.
Data Pack: <!-- ATTACH YOUR DATAPACK HERE -->

\`\`\`
${(S=h.stacktrace)!=null?S:h.error.stack}
\`\`\`
`,w=`https://github.com/misode/upgrader/issues/new?title=${encodeURIComponent(k)}&body=${encodeURIComponent(z)}
`;return K("div",{class:"main-error"},K("p",null,"Something went wrong ",h.process," the data pack:"),K("p",{class:"error-message"},h.error.message),K("p",null,"You can report this as a bug ",K("a",{href:w,target:"_blank"},"on GitHub")," and upload the data pack"),K("div",{class:"error-close",onClick:()=>d(t.filter(A=>A.id!==h.id))},Re.x))})))}_n(K(oo,null),document.body);
//# sourceMappingURL=index.7945aa48.js.map
